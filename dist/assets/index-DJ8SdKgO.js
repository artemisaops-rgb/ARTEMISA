const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.esm-CPAVUneL.js","assets/index.esm-vQjqo2R-.js","assets/index.esm-3NhmC7iG.js"])))=>i.map(i=>d[i]);
var X9=Object.defineProperty;var Z9=(t,e,n)=>e in t?X9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var dx=(t,e,n)=>Z9(t,typeof e!="symbol"?e+"":e,n);function J9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ka(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hx={exports:{}},ih={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QO;function eq(){if(QO)return ih;QO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return ih.Fragment=e,ih.jsx=n,ih.jsxs=n,ih}var XO;function tq(){return XO||(XO=1,hx.exports=eq()),hx.exports}var _=tq(),mx={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO;function nq(){if(ZO)return Ge;ZO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function b($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function I($,Y,ve){this.props=$,this.context=Y,this.refs=S,this.updater=ve||A}I.prototype.isReactComponent={},I.prototype.setState=function($,Y){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Y,"setState")},I.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=I.prototype;function P($,Y,ve){this.props=$,this.context=Y,this.refs=S,this.updater=ve||A}var k=P.prototype=new N;k.constructor=P,w(k,I.prototype),k.isPureReactComponent=!0;var M=Array.isArray;function L(){}var R={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function j($,Y,ve){var ee=ve.ref;return{$$typeof:t,type:$,key:Y,ref:ee!==void 0?ee:null,props:ve}}function U($,Y){return j($.type,Y,$.props)}function B($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function F($){var Y={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ve){return Y[ve]})}var z=/\/+/g;function pe($,Y){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):Y.toString(36)}function we($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(L,L):($.status="pending",$.then(function(Y){$.status==="pending"&&($.status="fulfilled",$.value=Y)},function(Y){$.status==="pending"&&($.status="rejected",$.reason=Y)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function W($,Y,ve,ee,be){var Ae=typeof $;(Ae==="undefined"||Ae==="boolean")&&($=null);var Be=!1;if($===null)Be=!0;else switch(Ae){case"bigint":case"string":case"number":Be=!0;break;case"object":switch($.$$typeof){case t:case e:Be=!0;break;case m:return Be=$._init,W(Be($._payload),Y,ve,ee,be)}}if(Be)return be=be($),Be=ee===""?"."+pe($,0):ee,M(be)?(ve="",Be!=null&&(ve=Be.replace(z,"$&/")+"/"),W(be,Y,ve,"",function(ue){return ue})):be!=null&&(B(be)&&(be=U(be,ve+(be.key==null||$&&$.key===be.key?"":(""+be.key).replace(z,"$&/")+"/")+Be)),Y.push(be)),1;Be=0;var tt=ee===""?".":ee+":";if(M($))for(var ge=0;ge<$.length;ge++)ee=$[ge],Ae=tt+pe(ee,ge),Be+=W(ee,Y,ve,Ae,be);else if(ge=b($),typeof ge=="function")for($=ge.call($),ge=0;!(ee=$.next()).done;)ee=ee.value,Ae=tt+pe(ee,ge++),Be+=W(ee,Y,ve,Ae,be);else if(Ae==="object"){if(typeof $.then=="function")return W(we($),Y,ve,ee,be);throw Y=String($),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Be}function oe($,Y,ve){if($==null)return $;var ee=[],be=0;return W($,ee,"","",function(Ae){return Y.call(ve,Ae,be++)}),ee}function ye($){if($._status===-1){var Y=$._result;Y=Y(),Y.then(function(ve){($._status===0||$._status===-1)&&($._status=1,$._result=ve)},function(ve){($._status===0||$._status===-1)&&($._status=2,$._result=ve)}),$._status===-1&&($._status=0,$._result=Y)}if($._status===1)return $._result.default;throw $._result}var xe=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Te={map:oe,forEach:function($,Y,ve){oe($,function(){Y.apply(this,arguments)},ve)},count:function($){var Y=0;return oe($,function(){Y++}),Y},toArray:function($){return oe($,function(Y){return Y})||[]},only:function($){if(!B($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Ge.Activity=p,Ge.Children=Te,Ge.Component=I,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=P,Ge.StrictMode=r,Ge.Suspense=f,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ge.__COMPILER_RUNTIME={__proto__:null,c:function($){return R.H.useMemoCache($)}},Ge.cache=function($){return function(){return $.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function($,Y,ve){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ee=w({},$.props),be=$.key;if(Y!=null)for(Ae in Y.key!==void 0&&(be=""+Y.key),Y)!C.call(Y,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Y.ref===void 0||(ee[Ae]=Y[Ae]);var Ae=arguments.length-2;if(Ae===1)ee.children=ve;else if(1<Ae){for(var Be=Array(Ae),tt=0;tt<Ae;tt++)Be[tt]=arguments[tt+2];ee.children=Be}return j($.type,be,ee)},Ge.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},Ge.createElement=function($,Y,ve){var ee,be={},Ae=null;if(Y!=null)for(ee in Y.key!==void 0&&(Ae=""+Y.key),Y)C.call(Y,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(be[ee]=Y[ee]);var Be=arguments.length-2;if(Be===1)be.children=ve;else if(1<Be){for(var tt=Array(Be),ge=0;ge<Be;ge++)tt[ge]=arguments[ge+2];be.children=tt}if($&&$.defaultProps)for(ee in Be=$.defaultProps,Be)be[ee]===void 0&&(be[ee]=Be[ee]);return j($,Ae,be)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function($){return{$$typeof:u,render:$}},Ge.isValidElement=B,Ge.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:ye}},Ge.memo=function($,Y){return{$$typeof:d,type:$,compare:Y===void 0?null:Y}},Ge.startTransition=function($){var Y=R.T,ve={};R.T=ve;try{var ee=$(),be=R.S;be!==null&&be(ve,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(L,xe)}catch(Ae){xe(Ae)}finally{Y!==null&&ve.types!==null&&(Y.types=ve.types),R.T=Y}},Ge.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ge.use=function($){return R.H.use($)},Ge.useActionState=function($,Y,ve){return R.H.useActionState($,Y,ve)},Ge.useCallback=function($,Y){return R.H.useCallback($,Y)},Ge.useContext=function($){return R.H.useContext($)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function($,Y){return R.H.useDeferredValue($,Y)},Ge.useEffect=function($,Y){return R.H.useEffect($,Y)},Ge.useEffectEvent=function($){return R.H.useEffectEvent($)},Ge.useId=function(){return R.H.useId()},Ge.useImperativeHandle=function($,Y,ve){return R.H.useImperativeHandle($,Y,ve)},Ge.useInsertionEffect=function($,Y){return R.H.useInsertionEffect($,Y)},Ge.useLayoutEffect=function($,Y){return R.H.useLayoutEffect($,Y)},Ge.useMemo=function($,Y){return R.H.useMemo($,Y)},Ge.useOptimistic=function($,Y){return R.H.useOptimistic($,Y)},Ge.useReducer=function($,Y,ve){return R.H.useReducer($,Y,ve)},Ge.useRef=function($){return R.H.useRef($)},Ge.useState=function($){return R.H.useState($)},Ge.useSyncExternalStore=function($,Y,ve){return R.H.useSyncExternalStore($,Y,ve)},Ge.useTransition=function(){return R.H.useTransition()},Ge.version="19.2.0",Ge}var JO;function kf(){return JO||(JO=1,mx.exports=nq()),mx.exports}var E=kf();const Nk=Ka(E),rq=J9({__proto__:null,default:Nk},[E]);var px={exports:{}},ah={},gx={exports:{}},yx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP;function iq(){return eP||(eP=1,(function(t){function e(W,oe){var ye=W.length;W.push(oe);e:for(;0<ye;){var xe=ye-1>>>1,Te=W[xe];if(0<i(Te,oe))W[xe]=oe,W[ye]=Te,ye=xe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],ye=W.pop();if(ye!==oe){W[0]=ye;e:for(var xe=0,Te=W.length,$=Te>>>1;xe<$;){var Y=2*(xe+1)-1,ve=W[Y],ee=Y+1,be=W[ee];if(0>i(ve,ye))ee<Te&&0>i(be,ve)?(W[xe]=be,W[ee]=ye,xe=ee):(W[xe]=ve,W[Y]=ye,xe=Y);else if(ee<Te&&0>i(be,ye))W[xe]=be,W[ee]=ye,xe=ee;else break e}}return oe}function i(W,oe){var ye=W.sortIndex-oe.sortIndex;return ye!==0?ye:W.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var f=[],d=[],m=1,p=null,y=3,b=!1,A=!1,w=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate!="undefined"?setImmediate:null;function k(W){for(var oe=n(d);oe!==null;){if(oe.callback===null)r(d);else if(oe.startTime<=W)r(d),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=n(d)}}function M(W){if(w=!1,k(W),!A)if(n(f)!==null)A=!0,L||(L=!0,F());else{var oe=n(d);oe!==null&&we(M,oe.startTime-W)}}var L=!1,R=-1,C=5,j=-1;function U(){return S?!0:!(t.unstable_now()-j<C)}function B(){if(S=!1,L){var W=t.unstable_now();j=W;var oe=!0;try{e:{A=!1,w&&(w=!1,N(R),R=-1),b=!0;var ye=y;try{t:{for(k(W),p=n(f);p!==null&&!(p.expirationTime>W&&U());){var xe=p.callback;if(typeof xe=="function"){p.callback=null,y=p.priorityLevel;var Te=xe(p.expirationTime<=W);if(W=t.unstable_now(),typeof Te=="function"){p.callback=Te,k(W),oe=!0;break t}p===n(f)&&r(f),k(W)}else r(f);p=n(f)}if(p!==null)oe=!0;else{var $=n(d);$!==null&&we(M,$.startTime-W),oe=!1}}break e}finally{p=null,y=ye,b=!1}oe=void 0}}finally{oe?F():L=!1}}}var F;if(typeof P=="function")F=function(){P(B)};else if(typeof MessageChannel!="undefined"){var z=new MessageChannel,pe=z.port2;z.port1.onmessage=B,F=function(){pe.postMessage(null)}}else F=function(){I(B,0)};function we(W,oe){R=I(function(){W(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(W){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var ye=y;y=oe;try{return W()}finally{y=ye}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ye=y;y=W;try{return oe()}finally{y=ye}},t.unstable_scheduleCallback=function(W,oe,ye){var xe=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?xe+ye:xe):ye=xe,W){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ye+Te,W={id:m++,callback:oe,priorityLevel:W,startTime:ye,expirationTime:Te,sortIndex:-1},ye>xe?(W.sortIndex=ye,e(d,W),n(f)===null&&W===n(d)&&(w?(N(R),R=-1):w=!0,we(M,ye-xe))):(W.sortIndex=Te,e(f,W),A||b||(A=!0,L||(L=!0,F()))),W},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(W){var oe=y;return function(){var ye=y;y=oe;try{return W.apply(this,arguments)}finally{y=ye}}}})(yx)),yx}var tP;function aq(){return tP||(tP=1,gx.exports=iq()),gx.exports}var vx={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nP;function sq(){if(nP)return lr;nP=1;var t=kf();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,d,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:d,implementation:m}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,m)},lr.flushSync=function(f){var d=o.T,m=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=d,r.p=m,r.d.f()}},lr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},lr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},lr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,p=u(m,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):m==="script"&&r.d.X(f,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},lr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},lr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,p=u(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},lr.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},lr.requestFormReset=function(f){r.d.r(f)},lr.unstable_batchedUpdates=function(f,d){return f(d)},lr.useFormState=function(f,d,m){return o.H.useFormState(f,d,m)},lr.useFormStatus=function(){return o.H.useHostTransitionStatus()},lr.version="19.2.0",lr}var rP;function Ok(){if(rP)return vx.exports;rP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vx.exports=sq(),vx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP;function oq(){if(iP)return ah;iP=1;var t=aq(),e=kf(),n=Ok();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,c=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(c=l.return),s=l.return;while(s)}return l.tag===3?c:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function f(s){if(a(s)!==s)throw Error(r(188))}function d(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var c=s,h=l;;){var v=c.return;if(v===null)break;var x=v.alternate;if(x===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===c)return f(v),s;if(x===h)return f(v),l;x=x.sibling}throw Error(r(188))}if(c.return!==h.return)c=v,h=x;else{for(var O=!1,V=v.child;V;){if(V===c){O=!0,c=v,h=x;break}if(V===h){O=!0,h=v,c=x;break}V=V.sibling}if(!O){for(V=x.child;V;){if(V===c){O=!0,c=x,h=v;break}if(V===h){O=!0,h=x,c=v;break}V=V.sibling}if(!O)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:l}function m(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=m(s),l!==null)return l;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),P=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var z=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case I:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case L:return"SuspenseList";case j:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case P:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case k:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return l=s.displayName||null,l!==null?l:pe(s.type)||"Memo";case C:l=s._payload,s=s._init;try{return pe(s(l))}catch(c){}}return null}var we=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},xe=[],Te=-1;function $(s){return{current:s}}function Y(s){0>Te||(s.current=xe[Te],xe[Te]=null,Te--)}function ve(s,l){Te++,xe[Te]=s.current,s.current=l}var ee=$(null),be=$(null),Ae=$(null),Be=$(null);function tt(s,l){switch(ve(Ae,l),ve(be,s),ve(ee,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?bO(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=bO(l),s=_O(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Y(ee),ve(ee,s)}function ge(){Y(ee),Y(be),Y(Ae)}function ue(s){s.memoizedState!==null&&ve(Be,s);var l=ee.current,c=_O(l,s.type);l!==c&&(ve(be,s),ve(ee,c))}function _e(s){be.current===s&&(Y(ee),Y(be)),Be.current===s&&(Y(Be),eh._currentValue=ye)}var ne,Fe;function de(s){if(ne===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);ne=l&&l[1]||"",Fe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+s+Fe}var Ve=!1;function je(s,l){if(!s||Ve)return"";Ve=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(se){var te=se}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(se){te=se}s.call(fe.prototype)}}else{try{throw Error()}catch(se){te=se}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(se){if(se&&te&&typeof se.stack=="string")return[se.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),O=x[0],V=x[1];if(O&&V){var K=O.split(`
`),J=V.split(`
`);for(v=h=0;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(h===K.length||v===J.length)for(h=K.length-1,v=J.length-1;1<=h&&0<=v&&K[h]!==J[v];)v--;for(;1<=h&&0<=v;h--,v--)if(K[h]!==J[v]){if(h!==1||v!==1)do if(h--,v--,0>v||K[h]!==J[v]){var le=`
`+K[h].replace(" at new "," at ");return s.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",s.displayName)),le}while(1<=h&&0<=v);break}}}finally{Ve=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?de(c):""}function Ke(s,l){switch(s.tag){case 26:case 27:case 5:return de(s.type);case 16:return de("Lazy");case 13:return s.child!==l&&l!==null?de("Suspense Fallback"):de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return je(s.type,!1);case 11:return je(s.type.render,!1);case 1:return je(s.type,!0);case 31:return de("Activity");default:return""}}function On(s){try{var l="",c=null;do l+=Ke(s,c),c=s,s=s.return;while(s);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var _t=Object.prototype.hasOwnProperty,yt=t.unstable_scheduleCallback,tn=t.unstable_cancelCallback,ca=t.unstable_shouldYield,Wn=t.unstable_requestPaint,wt=t.unstable_now,Yn=t.unstable_getCurrentPriorityLevel,Ri=t.unstable_ImmediatePriority,Ys=t.unstable_UserBlockingPriority,Qs=t.unstable_NormalPriority,p0=t.unstable_LowPriority,yp=t.unstable_IdlePriority,vp=t.log,bp=t.unstable_setDisableYieldValue,Di=null,Qn=null;function ui(s){if(typeof vp=="function"&&bp(s),Qn&&typeof Qn.setStrictMode=="function")try{Qn.setStrictMode(Di,s)}catch(l){}}var un=Math.clz32?Math.clz32:xp,_p=Math.log,Xu=Math.LN2;function xp(s){return s>>>=0,s===0?32:31-(_p(s)/Xu|0)|0}var fa=256,wl=262144,vn=4194304;function da(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ha(s,l,c){var h=s.pendingLanes;if(h===0)return 0;var v=0,x=s.suspendedLanes,O=s.pingedLanes;s=s.warmLanes;var V=h&134217727;return V!==0?(h=V&~x,h!==0?v=da(h):(O&=V,O!==0?v=da(O):c||(c=V&~s,c!==0&&(v=da(c))))):(V=h&~x,V!==0?v=da(V):O!==0?v=da(O):c||(c=h&~s,c!==0&&(v=da(c)))),v===0?0:l!==0&&l!==v&&(l&x)===0&&(x=v&-v,c=l&-l,x>=c||x===32&&(c&4194048)!==0)?l:v}function ji(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function g0(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wp(){var s=vn;return vn<<=1,(vn&62914560)===0&&(vn=4194304),s}function ma(s){for(var l=[],c=0;31>c;c++)l.push(s);return l}function El(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function y0(s,l,c,h,v,x){var O=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var V=s.entanglements,K=s.expirationTimes,J=s.hiddenUpdates;for(c=O&~c;0<c;){var le=31-un(c),fe=1<<le;V[le]=0,K[le]=-1;var te=J[le];if(te!==null)for(J[le]=null,le=0;le<te.length;le++){var se=te[le];se!==null&&(se.lane&=-536870913)}c&=~fe}h!==0&&Sl(s,h,0),x!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=x&~(O&~l))}function Sl(s,l,c){s.pendingLanes|=l,s.suspendedLanes&=~l;var h=31-un(l);s.entangledLanes|=l,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function ad(s,l){var c=s.entangledLanes|=l;for(s=s.entanglements;c;){var h=31-un(c),v=1<<h;v&l|s[h]&l&&(s[h]|=l),c&=~v}}function sd(s,l){var c=l&-l;return c=(c&42)!==0?1:Al(c),(c&(s.suspendedLanes|l))!==0?0:c}function Al(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Qa(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ep(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:FO(s.type))}function Mi(s,l){var c=oe.p;try{return oe.p=s,l()}finally{oe.p=c}}var ki=Math.random().toString(36).slice(2),bn="__reactFiber$"+ki,Vn="__reactProps$"+ki,pa="__reactContainer$"+ki,Zu="__reactEvents$"+ki,v0="__reactListeners$"+ki,Sp="__reactHandles$"+ki,Ap="__reactResources$"+ki,ga="__reactMarker$"+ki;function Ju(s){delete s[bn],delete s[Vn],delete s[Zu],delete s[v0],delete s[Sp]}function ya(s){var l=s[bn];if(l)return l;for(var c=s.parentNode;c;){if(l=c[pa]||c[bn]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(s=IO(s);s!==null;){if(c=s[bn])return c;s=IO(s)}return l}s=c,c=s.parentNode}return null}function ci(s){if(s=s[bn]||s[pa]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function Mr(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function va(s){var l=s[Ap];return l||(l=s[Ap]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function _n(s){s[ga]=!0}var od=new Set,ld={};function ba(s,l){_a(s,l),_a(s+"Capture",l)}function _a(s,l){for(ld[s]=l,s=0;s<l.length;s++)od.add(l[s])}var ud=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cd={},fd={};function Tp(s){return _t.call(fd,s)?!0:_t.call(cd,s)?!1:ud.test(s)?fd[s]=!0:(cd[s]=!0,!1)}function ec(s,l,c){if(Tp(l))if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+c)}}function kr(s,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+c)}}function xn(s,l,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(l,c,""+h)}}function Un(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xs(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function dd(s,l,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof h!="undefined"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,x=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return v.call(this)},set:function(O){c=""+O,x.call(this,O)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Et(s){if(!s._valueTracker){var l=Xs(s)?"checked":"value";s._valueTracker=dd(s,l,""+s[l])}}function Tl(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var c=l.getValue(),h="";return s&&(h=Xs(s)?s.checked?"true":"false":s.value),s=h,s!==c?(l.setValue(s),!0):!1}function xa(s){if(s=s||(typeof document!="undefined"?document:void 0),typeof s=="undefined")return null;try{return s.activeElement||s.body}catch(l){return s.body}}var Il=/[\n"\\]/g;function xr(s){return s.replace(Il,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function tc(s,l,c,h,v,x,O,V){s.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.type=O:s.removeAttribute("type"),l!=null?O==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Un(l)):s.value!==""+Un(l)&&(s.value=""+Un(l)):O!=="submit"&&O!=="reset"||s.removeAttribute("value"),l!=null?hd(s,O,Un(l)):c!=null?hd(s,O,Un(c)):h!=null&&s.removeAttribute("value"),v==null&&x!=null&&(s.defaultChecked=!!x),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?s.name=""+Un(V):s.removeAttribute("name")}function Ip(s,l,c,h,v,x,O,V){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),l!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||l!=null)){Et(s);return}c=c!=null?""+Un(c):"",l=l!=null?""+Un(l):c,V||l===s.value||(s.value=l),s.defaultValue=l}h=h!=null?h:v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=V?s.checked:!!h,s.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.name=O),Et(s)}function hd(s,l,c){l==="number"&&xa(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Zs(s,l,c,h){if(s=s.options,l){l={};for(var v=0;v<c.length;v++)l["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=l.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Un(c),l=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,h&&(s[v].defaultSelected=!0);return}l!==null||s[v].disabled||(l=s[v])}l!==null&&(l.selected=!0)}}function Cp(s,l,c){if(l!=null&&(l=""+Un(l),l!==s.value&&(s.value=l),c==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=c!=null?""+Un(c):""}function Js(s,l,c,h){if(l==null){if(h!=null){if(c!=null)throw Error(r(92));if(we(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),l=c}c=Un(l),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),Et(s)}function wr(s,l){if(l){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=l;return}}s.textContent=l}var Np=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function md(s,l,c){var h=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":h?s.setProperty(l,c):typeof c!="number"||c===0||Np.has(l)?l==="float"?s.cssFloat=c:s[l]=(""+c).trim():s[l]=c+"px"}function pd(s,l,c){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var v in l)h=l[v],l.hasOwnProperty(v)&&c[v]!==h&&md(s,v,h)}else for(var x in l)l.hasOwnProperty(x)&&md(s,x,l[x])}function nc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Op=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rc(s){return eo.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Li(){}var gd=null;function fi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var to=null,wa=null;function Cl(s){var l=ci(s);if(l&&(s=l.stateNode)){var c=s[Vn]||null;e:switch(s=l.stateNode,l.type){case"input":if(tc(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+xr(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var h=c[l];if(h!==s&&h.form===s.form){var v=h[Vn]||null;if(!v)throw Error(r(90));tc(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<c.length;l++)h=c[l],h.form===s.form&&Tl(h)}break e;case"textarea":Cp(s,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&Zs(s,!!c.multiple,l,!1)}}}var ic=!1;function no(s,l,c){if(ic)return s(l,c);ic=!0;try{var h=s(l);return h}finally{if(ic=!1,(to!==null||wa!==null)&&(Eg(),to&&(l=to,s=wa,wa=to=null,Cl(l),s)))for(l=0;l<s.length;l++)Cl(s[l])}}function Vi(s,l){var c=s.stateNode;if(c===null)return null;var h=c[Vn]||null;if(h===null)return null;c=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,l,typeof c));return c}var di=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Nl=!1;if(di)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch(s){Nl=!1}var Ea=null,yd=null,Ol=null;function vd(){if(Ol)return Ol;var s,l=yd,c=l.length,h,v="value"in Ea?Ea.value:Ea.textContent,x=v.length;for(s=0;s<c&&l[s]===v[s];s++);var O=c-s;for(h=1;h<=O&&l[c-h]===v[x-h];h++);return Ol=v.slice(s,1<h?1-h:void 0)}function Pl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Xa(){return!0}function Ui(){return!1}function Xn(s){function l(c,h,v,x,O){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=x,this.target=O,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(c=s[V],this[V]=c?c(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Xa:Ui,this.isPropagationStopped=Ui,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),l}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Xn(Za),ro=p({},Za,{view:0,detail:0}),bd=Xn(ro),io,ac,Aa,sc=p({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ao,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Aa&&(Aa&&s.type==="mousemove"?(io=s.screenX-Aa.screenX,ac=s.screenY-Aa.screenY):ac=io=0,Aa=s),io)},movementY:function(s){return"movementY"in s?s.movementY:ac}}),_d=Xn(sc),Rl=p({},sc,{dataTransfer:0}),Pp=Xn(Rl),Rp=p({},ro,{relatedTarget:0}),Dl=Xn(Rp),xd=p({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),Dp=Xn(xd),oc=p({},Za,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),jp=Xn(oc),Mp=p({},Za,{data:0}),Ta=Xn(Mp),kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Up(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Vp[s])?!!l[s]:!1}function ao(){return Up}var yr=p({},ro,{key:function(s){if(s.key){var l=kp[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Pl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Lp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ao,charCode:function(s){return s.type==="keypress"?Pl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Pl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Bp=Xn(yr),zp=p({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ja=Xn(zp),g=p({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ao}),T=Xn(g),D=p({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=Xn(D),X=p({},sc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=Xn(X),Ee=p({},Za,{newState:0,oldState:0}),We=Xn(Ee),cn=[9,13,27,32],vt=di&&"CompositionEvent"in window,Ft=null;di&&"documentMode"in document&&(Ft=document.documentMode);var hi=di&&"TextEvent"in window&&!Ft,Ia=di&&(!vt||Ft&&8<Ft&&11>=Ft),Bi=" ",zi=!1;function jl(s,l){switch(s){case"keyup":return cn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var uc=!1;function xz(s,l){switch(s){case"compositionend":return lc(l);case"keypress":return l.which!==32?null:(zi=!0,Bi);case"textInput":return s=l.data,s===Bi&&zi?null:s;default:return null}}function wz(s,l){if(uc)return s==="compositionend"||!vt&&jl(s,l)?(s=vd(),Ol=yd=Ea=null,uc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ia&&l.locale!=="ko"?null:l.data;default:return null}}var Ez={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OI(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Ez[s.type]:l==="textarea"}function PI(s,l,c,h){to?wa?wa.push(h):wa=[h]:to=h,l=Og(l,"onChange"),0<l.length&&(c=new Sa("onChange","change",null,c,h),s.push({event:c,listeners:l}))}var wd=null,Ed=null;function Sz(s){hO(s,0)}function qp(s){var l=Mr(s);if(Tl(l))return s}function RI(s,l){if(s==="change")return l}var DI=!1;if(di){var b0;if(di){var _0="oninput"in document;if(!_0){var jI=document.createElement("div");jI.setAttribute("oninput","return;"),_0=typeof jI.oninput=="function"}b0=_0}else b0=!1;DI=b0&&(!document.documentMode||9<document.documentMode)}function MI(){wd&&(wd.detachEvent("onpropertychange",kI),Ed=wd=null)}function kI(s){if(s.propertyName==="value"&&qp(Ed)){var l=[];PI(l,Ed,s,fi(s)),no(Sz,l)}}function Az(s,l,c){s==="focusin"?(MI(),wd=l,Ed=c,wd.attachEvent("onpropertychange",kI)):s==="focusout"&&MI()}function Tz(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return qp(Ed)}function Iz(s,l){if(s==="click")return qp(l)}function Cz(s,l){if(s==="input"||s==="change")return qp(l)}function Nz(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Lr=typeof Object.is=="function"?Object.is:Nz;function Sd(s,l){if(Lr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var c=Object.keys(s),h=Object.keys(l);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!_t.call(l,v)||!Lr(s[v],l[v]))return!1}return!0}function LI(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function VI(s,l){var c=LI(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=l&&h>=l)return{node:c,offset:l-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=LI(c)}}function UI(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?UI(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function BI(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=xa(s.document);l instanceof s.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch(h){c=!1}if(c)s=l.contentWindow;else break;l=xa(s.document)}return l}function x0(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Oz=di&&"documentMode"in document&&11>=document.documentMode,cc=null,w0=null,Ad=null,E0=!1;function zI(s,l,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;E0||cc==null||cc!==xa(h)||(h=cc,"selectionStart"in h&&x0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ad&&Sd(Ad,h)||(Ad=h,h=Og(w0,"onSelect"),0<h.length&&(l=new Sa("onSelect","select",null,l,c),s.push({event:l,listeners:h}),l.target=cc)))}function Ml(s,l){var c={};return c[s.toLowerCase()]=l.toLowerCase(),c["Webkit"+s]="webkit"+l,c["Moz"+s]="moz"+l,c}var fc={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionrun:Ml("Transition","TransitionRun"),transitionstart:Ml("Transition","TransitionStart"),transitioncancel:Ml("Transition","TransitionCancel"),transitionend:Ml("Transition","TransitionEnd")},S0={},qI={};di&&(qI=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function kl(s){if(S0[s])return S0[s];if(!fc[s])return s;var l=fc[s],c;for(c in l)if(l.hasOwnProperty(c)&&c in qI)return S0[s]=l[c];return s}var FI=kl("animationend"),$I=kl("animationiteration"),KI=kl("animationstart"),Pz=kl("transitionrun"),Rz=kl("transitionstart"),Dz=kl("transitioncancel"),HI=kl("transitionend"),GI=new Map,A0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");A0.push("scrollEnd");function qi(s,l){GI.set(s,l),ba(l,[s])}var Fp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},mi=[],dc=0,T0=0;function $p(){for(var s=dc,l=T0=dc=0;l<s;){var c=mi[l];mi[l++]=null;var h=mi[l];mi[l++]=null;var v=mi[l];mi[l++]=null;var x=mi[l];if(mi[l++]=null,h!==null&&v!==null){var O=h.pending;O===null?v.next=v:(v.next=O.next,O.next=v),h.pending=v}x!==0&&WI(c,v,x)}}function Kp(s,l,c,h){mi[dc++]=s,mi[dc++]=l,mi[dc++]=c,mi[dc++]=h,T0|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function I0(s,l,c,h){return Kp(s,l,c,h),Hp(s)}function Ll(s,l){return Kp(s,null,null,l),Hp(s)}function WI(s,l,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var v=!1,x=s.return;x!==null;)x.childLanes|=c,h=x.alternate,h!==null&&(h.childLanes|=c),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(v=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,v&&l!==null&&(v=31-un(c),s=x.hiddenUpdates,h=s[v],h===null?s[v]=[l]:h.push(l),l.lane=c|536870912),x):null}function Hp(s){if(50<Gd)throw Gd=0,k_=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var hc={};function jz(s,l,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(s,l,c,h){return new jz(s,l,c,h)}function C0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function es(s,l){var c=s.alternate;return c===null?(c=Vr(s.tag,l,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=l,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,l=s.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function YI(s,l){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,l=c.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Gp(s,l,c,h,v,x){var O=0;if(h=s,typeof s=="function")C0(s)&&(O=1);else if(typeof s=="string")O=U9(s,c,ee.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case j:return s=Vr(31,c,l,v),s.elementType=j,s.lanes=x,s;case w:return Vl(c.children,v,x,l);case S:O=8,v|=24;break;case I:return s=Vr(12,c,l,v|2),s.elementType=I,s.lanes=x,s;case M:return s=Vr(13,c,l,v),s.elementType=M,s.lanes=x,s;case L:return s=Vr(19,c,l,v),s.elementType=L,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:O=10;break e;case N:O=9;break e;case k:O=11;break e;case R:O=14;break e;case C:O=16,h=null;break e}O=29,c=Error(r(130,s===null?"null":typeof s,"")),h=null}return l=Vr(O,c,l,v),l.elementType=s,l.type=h,l.lanes=x,l}function Vl(s,l,c,h){return s=Vr(7,s,h,l),s.lanes=c,s}function N0(s,l,c){return s=Vr(6,s,null,l),s.lanes=c,s}function QI(s){var l=Vr(18,null,null,0);return l.stateNode=s,l}function O0(s,l,c){return l=Vr(4,s.children!==null?s.children:[],s.key,l),l.lanes=c,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var XI=new WeakMap;function pi(s,l){if(typeof s=="object"&&s!==null){var c=XI.get(s);return c!==void 0?c:(l={value:s,source:l,stack:On(l)},XI.set(s,l),l)}return{value:s,source:l,stack:On(l)}}var mc=[],pc=0,Wp=null,Td=0,gi=[],yi=0,so=null,Ca=1,Na="";function ts(s,l){mc[pc++]=Td,mc[pc++]=Wp,Wp=s,Td=l}function ZI(s,l,c){gi[yi++]=Ca,gi[yi++]=Na,gi[yi++]=so,so=s;var h=Ca;s=Na;var v=32-un(h)-1;h&=~(1<<v),c+=1;var x=32-un(l)+v;if(30<x){var O=v-v%5;x=(h&(1<<O)-1).toString(32),h>>=O,v-=O,Ca=1<<32-un(l)+v|c<<v|h,Na=x+s}else Ca=1<<x|c<<v|h,Na=s}function P0(s){s.return!==null&&(ts(s,1),ZI(s,1,0))}function R0(s){for(;s===Wp;)Wp=mc[--pc],mc[pc]=null,Td=mc[--pc],mc[pc]=null;for(;s===so;)so=gi[--yi],gi[yi]=null,Na=gi[--yi],gi[yi]=null,Ca=gi[--yi],gi[yi]=null}function JI(s,l){gi[yi++]=Ca,gi[yi++]=Na,gi[yi++]=so,Ca=l.id,Na=l.overflow,so=s}var Zn=null,Ut=null,ut=!1,oo=null,vi=!1,D0=Error(r(519));function lo(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Id(pi(l,s)),D0}function eC(s){var l=s.stateNode,c=s.type,h=s.memoizedProps;switch(l[bn]=s,l[Vn]=h,c){case"dialog":rt("cancel",l),rt("close",l);break;case"iframe":case"object":case"embed":rt("load",l);break;case"video":case"audio":for(c=0;c<Yd.length;c++)rt(Yd[c],l);break;case"source":rt("error",l);break;case"img":case"image":case"link":rt("error",l),rt("load",l);break;case"details":rt("toggle",l);break;case"input":rt("invalid",l),Ip(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":rt("invalid",l);break;case"textarea":rt("invalid",l),Js(l,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||h.suppressHydrationWarning===!0||yO(l.textContent,c)?(h.popover!=null&&(rt("beforetoggle",l),rt("toggle",l)),h.onScroll!=null&&rt("scroll",l),h.onScrollEnd!=null&&rt("scrollend",l),h.onClick!=null&&(l.onclick=Li),l=!0):l=!1,l||lo(s,!0)}function tC(s){for(Zn=s.return;Zn;)switch(Zn.tag){case 5:case 31:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:Zn=Zn.return}}function gc(s){if(s!==Zn)return!1;if(!ut)return tC(s),ut=!0,!1;var l=s.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||X_(s.type,s.memoizedProps)),c=!c),c&&Ut&&lo(s),tC(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Ut=TO(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Ut=TO(s)}else l===27?(l=Ut,Eo(s.type)?(s=nx,nx=null,Ut=s):Ut=l):Ut=Zn?_i(s.stateNode.nextSibling):null;return!0}function Ul(){Ut=Zn=null,ut=!1}function j0(){var s=oo;return s!==null&&(Tr===null?Tr=s:Tr.push.apply(Tr,s),oo=null),s}function Id(s){oo===null?oo=[s]:oo.push(s)}var M0=$(null),Bl=null,ns=null;function uo(s,l,c){ve(M0,l._currentValue),l._currentValue=c}function rs(s){s._currentValue=M0.current,Y(M0)}function k0(s,l,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),s===c)break;s=s.return}}function L0(s,l,c,h){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var x=v.dependencies;if(x!==null){var O=v.child;x=x.firstContext;e:for(;x!==null;){var V=x;x=v;for(var K=0;K<l.length;K++)if(V.context===l[K]){x.lanes|=c,V=x.alternate,V!==null&&(V.lanes|=c),k0(x.return,c,s),h||(O=null);break e}x=V.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=c,x=O.alternate,x!==null&&(x.lanes|=c),k0(O,c,s),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===s){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function yc(s,l,c,h){s=null;for(var v=l,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var V=v.type;Lr(v.pendingProps.value,O.value)||(s!==null?s.push(V):s=[V])}}else if(v===Be.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(eh):s=[eh])}v=v.return}s!==null&&L0(l,s,c,h),l.flags|=262144}function Yp(s){for(s=s.firstContext;s!==null;){if(!Lr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function zl(s){Bl=s,ns=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Jn(s){return nC(Bl,s)}function Qp(s,l){return Bl===null&&zl(s),nC(s,l)}function nC(s,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},ns===null){if(s===null)throw Error(r(308));ns=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else ns=ns.next=l;return c}var Mz=typeof AbortController!="undefined"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){l.aborted=!0,s.forEach(function(c){return c()})}},kz=t.unstable_scheduleCallback,Lz=t.unstable_NormalPriority,wn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function V0(){return{controller:new Mz,data:new Map,refCount:0}}function Cd(s){s.refCount--,s.refCount===0&&kz(Lz,function(){s.controller.abort()})}var Nd=null,U0=0,vc=0,bc=null;function Vz(s,l){if(Nd===null){var c=Nd=[];U0=0,vc=q_(),bc={status:"pending",value:void 0,then:function(h){c.push(h)}}}return U0++,l.then(rC,rC),l}function rC(){if(--U0===0&&Nd!==null){bc!==null&&(bc.status="fulfilled");var s=Nd;Nd=null,vc=0,bc=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function Uz(s,l){var c=[],h={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return s.then(function(){h.status="fulfilled",h.value=l;for(var v=0;v<c.length;v++)(0,c[v])(l)},function(v){for(h.status="rejected",h.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),h}var iC=W.S;W.S=function(s,l){zN=wt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&Vz(s,l),iC!==null&&iC(s,l)};var ql=$(null);function B0(){var s=ql.current;return s!==null?s:jt.pooledCache}function Xp(s,l){l===null?ve(ql,ql.current):ve(ql,l.pool)}function aC(){var s=B0();return s===null?null:{parent:wn._currentValue,pool:s}}var _c=Error(r(460)),z0=Error(r(474)),Zp=Error(r(542)),Jp={then:function(){}};function sC(s){return s=s.status,s==="fulfilled"||s==="rejected"}function oC(s,l,c){switch(c=s[c],c===void 0?s.push(l):c!==l&&(l.then(Li,Li),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,uC(s),s;default:if(typeof l.status=="string")l.then(Li,Li);else{if(s=jt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(h){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=h}},function(h){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,uC(s),s}throw $l=l,_c}}function Fl(s){try{var l=s._init;return l(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?($l=c,_c):c}}var $l=null;function lC(){if($l===null)throw Error(r(459));var s=$l;return $l=null,s}function uC(s){if(s===_c||s===Zp)throw Error(r(483))}var xc=null,Od=0;function eg(s){var l=Od;return Od+=1,xc===null&&(xc=[]),oC(xc,s,l)}function Pd(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function tg(s,l){throw l.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function cC(s){function l(G,H){if(s){var Z=G.deletions;Z===null?(G.deletions=[H],G.flags|=16):Z.push(H)}}function c(G,H){if(!s)return null;for(;H!==null;)l(G,H),H=H.sibling;return null}function h(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function v(G,H){return G=es(G,H),G.index=0,G.sibling=null,G}function x(G,H,Z){return G.index=Z,s?(Z=G.alternate,Z!==null?(Z=Z.index,Z<H?(G.flags|=67108866,H):Z):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function O(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function V(G,H,Z,ce){return H===null||H.tag!==6?(H=N0(Z,G.mode,ce),H.return=G,H):(H=v(H,Z),H.return=G,H)}function K(G,H,Z,ce){var Ue=Z.type;return Ue===w?le(G,H,Z.props.children,ce,Z.key):H!==null&&(H.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===C&&Fl(Ue)===H.type)?(H=v(H,Z.props),Pd(H,Z),H.return=G,H):(H=Gp(Z.type,Z.key,Z.props,null,G.mode,ce),Pd(H,Z),H.return=G,H)}function J(G,H,Z,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==Z.containerInfo||H.stateNode.implementation!==Z.implementation?(H=O0(Z,G.mode,ce),H.return=G,H):(H=v(H,Z.children||[]),H.return=G,H)}function le(G,H,Z,ce,Ue){return H===null||H.tag!==7?(H=Vl(Z,G.mode,ce,Ue),H.return=G,H):(H=v(H,Z),H.return=G,H)}function fe(G,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=N0(""+H,G.mode,Z),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return Z=Gp(H.type,H.key,H.props,null,G.mode,Z),Pd(Z,H),Z.return=G,Z;case A:return H=O0(H,G.mode,Z),H.return=G,H;case C:return H=Fl(H),fe(G,H,Z)}if(we(H)||F(H))return H=Vl(H,G.mode,Z,null),H.return=G,H;if(typeof H.then=="function")return fe(G,eg(H),Z);if(H.$$typeof===P)return fe(G,Qp(G,H),Z);tg(G,H)}return null}function te(G,H,Z,ce){var Ue=H!==null?H.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ue!==null?null:V(G,H,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===Ue?K(G,H,Z,ce):null;case A:return Z.key===Ue?J(G,H,Z,ce):null;case C:return Z=Fl(Z),te(G,H,Z,ce)}if(we(Z)||F(Z))return Ue!==null?null:le(G,H,Z,ce,null);if(typeof Z.then=="function")return te(G,H,eg(Z),ce);if(Z.$$typeof===P)return te(G,H,Qp(G,Z),ce);tg(G,Z)}return null}function se(G,H,Z,ce,Ue){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return G=G.get(Z)||null,V(H,G,""+ce,Ue);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return G=G.get(ce.key===null?Z:ce.key)||null,K(H,G,ce,Ue);case A:return G=G.get(ce.key===null?Z:ce.key)||null,J(H,G,ce,Ue);case C:return ce=Fl(ce),se(G,H,Z,ce,Ue)}if(we(ce)||F(ce))return G=G.get(Z)||null,le(H,G,ce,Ue,null);if(typeof ce.then=="function")return se(G,H,Z,eg(ce),Ue);if(ce.$$typeof===P)return se(G,H,Z,Qp(H,ce),Ue);tg(H,ce)}return null}function Oe(G,H,Z,ce){for(var Ue=null,ht=null,Me=H,Xe=H=0,at=null;Me!==null&&Xe<Z.length;Xe++){Me.index>Xe?(at=Me,Me=null):at=Me.sibling;var mt=te(G,Me,Z[Xe],ce);if(mt===null){Me===null&&(Me=at);break}s&&Me&&mt.alternate===null&&l(G,Me),H=x(mt,H,Xe),ht===null?Ue=mt:ht.sibling=mt,ht=mt,Me=at}if(Xe===Z.length)return c(G,Me),ut&&ts(G,Xe),Ue;if(Me===null){for(;Xe<Z.length;Xe++)Me=fe(G,Z[Xe],ce),Me!==null&&(H=x(Me,H,Xe),ht===null?Ue=Me:ht.sibling=Me,ht=Me);return ut&&ts(G,Xe),Ue}for(Me=h(Me);Xe<Z.length;Xe++)at=se(Me,G,Xe,Z[Xe],ce),at!==null&&(s&&at.alternate!==null&&Me.delete(at.key===null?Xe:at.key),H=x(at,H,Xe),ht===null?Ue=at:ht.sibling=at,ht=at);return s&&Me.forEach(function(Co){return l(G,Co)}),ut&&ts(G,Xe),Ue}function ze(G,H,Z,ce){if(Z==null)throw Error(r(151));for(var Ue=null,ht=null,Me=H,Xe=H=0,at=null,mt=Z.next();Me!==null&&!mt.done;Xe++,mt=Z.next()){Me.index>Xe?(at=Me,Me=null):at=Me.sibling;var Co=te(G,Me,mt.value,ce);if(Co===null){Me===null&&(Me=at);break}s&&Me&&Co.alternate===null&&l(G,Me),H=x(Co,H,Xe),ht===null?Ue=Co:ht.sibling=Co,ht=Co,Me=at}if(mt.done)return c(G,Me),ut&&ts(G,Xe),Ue;if(Me===null){for(;!mt.done;Xe++,mt=Z.next())mt=fe(G,mt.value,ce),mt!==null&&(H=x(mt,H,Xe),ht===null?Ue=mt:ht.sibling=mt,ht=mt);return ut&&ts(G,Xe),Ue}for(Me=h(Me);!mt.done;Xe++,mt=Z.next())mt=se(Me,G,Xe,mt.value,ce),mt!==null&&(s&&mt.alternate!==null&&Me.delete(mt.key===null?Xe:mt.key),H=x(mt,H,Xe),ht===null?Ue=mt:ht.sibling=mt,ht=mt);return s&&Me.forEach(function(Q9){return l(G,Q9)}),ut&&ts(G,Xe),Ue}function Rt(G,H,Z,ce){if(typeof Z=="object"&&Z!==null&&Z.type===w&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var Ue=Z.key;H!==null;){if(H.key===Ue){if(Ue=Z.type,Ue===w){if(H.tag===7){c(G,H.sibling),ce=v(H,Z.props.children),ce.return=G,G=ce;break e}}else if(H.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===C&&Fl(Ue)===H.type){c(G,H.sibling),ce=v(H,Z.props),Pd(ce,Z),ce.return=G,G=ce;break e}c(G,H);break}else l(G,H);H=H.sibling}Z.type===w?(ce=Vl(Z.props.children,G.mode,ce,Z.key),ce.return=G,G=ce):(ce=Gp(Z.type,Z.key,Z.props,null,G.mode,ce),Pd(ce,Z),ce.return=G,G=ce)}return O(G);case A:e:{for(Ue=Z.key;H!==null;){if(H.key===Ue)if(H.tag===4&&H.stateNode.containerInfo===Z.containerInfo&&H.stateNode.implementation===Z.implementation){c(G,H.sibling),ce=v(H,Z.children||[]),ce.return=G,G=ce;break e}else{c(G,H);break}else l(G,H);H=H.sibling}ce=O0(Z,G.mode,ce),ce.return=G,G=ce}return O(G);case C:return Z=Fl(Z),Rt(G,H,Z,ce)}if(we(Z))return Oe(G,H,Z,ce);if(F(Z)){if(Ue=F(Z),typeof Ue!="function")throw Error(r(150));return Z=Ue.call(Z),ze(G,H,Z,ce)}if(typeof Z.then=="function")return Rt(G,H,eg(Z),ce);if(Z.$$typeof===P)return Rt(G,H,Qp(G,Z),ce);tg(G,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,H!==null&&H.tag===6?(c(G,H.sibling),ce=v(H,Z),ce.return=G,G=ce):(c(G,H),ce=N0(Z,G.mode,ce),ce.return=G,G=ce),O(G)):c(G,H)}return function(G,H,Z,ce){try{Od=0;var Ue=Rt(G,H,Z,ce);return xc=null,Ue}catch(Me){if(Me===_c||Me===Zp)throw Me;var ht=Vr(29,Me,null,G.mode);return ht.lanes=ce,ht.return=G,ht}finally{}}}var Kl=cC(!0),fC=cC(!1),co=!1;function q0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function F0(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function fo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ho(s,l,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(bt&2)!==0){var v=h.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),h.pending=l,l=Hp(s),WI(s,null,c),l}return Kp(s,h,l,c),Hp(s)}function Rd(s,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var h=l.lanes;h&=s.pendingLanes,c|=h,l.lanes=c,ad(s,c)}}function $0(s,l){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?v=x=O:x=x.next=O,c=c.next}while(c!==null);x===null?v=x=l:x=x.next=l}else v=x=l;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=l}var K0=!1;function Dd(){if(K0){var s=bc;if(s!==null)throw s}}function jd(s,l,c,h){K0=!1;var v=s.updateQueue;co=!1;var x=v.firstBaseUpdate,O=v.lastBaseUpdate,V=v.shared.pending;if(V!==null){v.shared.pending=null;var K=V,J=K.next;K.next=null,O===null?x=J:O.next=J,O=K;var le=s.alternate;le!==null&&(le=le.updateQueue,V=le.lastBaseUpdate,V!==O&&(V===null?le.firstBaseUpdate=J:V.next=J,le.lastBaseUpdate=K))}if(x!==null){var fe=v.baseState;O=0,le=J=K=null,V=x;do{var te=V.lane&-536870913,se=te!==V.lane;if(se?(it&te)===te:(h&te)===te){te!==0&&te===vc&&(K0=!0),le!==null&&(le=le.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Oe=s,ze=V;te=l;var Rt=c;switch(ze.tag){case 1:if(Oe=ze.payload,typeof Oe=="function"){fe=Oe.call(Rt,fe,te);break e}fe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=ze.payload,te=typeof Oe=="function"?Oe.call(Rt,fe,te):Oe,te==null)break e;fe=p({},fe,te);break e;case 2:co=!0}}te=V.callback,te!==null&&(s.flags|=64,se&&(s.flags|=8192),se=v.callbacks,se===null?v.callbacks=[te]:se.push(te))}else se={lane:te,tag:V.tag,payload:V.payload,callback:V.callback,next:null},le===null?(J=le=se,K=fe):le=le.next=se,O|=te;if(V=V.next,V===null){if(V=v.shared.pending,V===null)break;se=V,V=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);le===null&&(K=fe),v.baseState=K,v.firstBaseUpdate=J,v.lastBaseUpdate=le,x===null&&(v.shared.lanes=0),vo|=O,s.lanes=O,s.memoizedState=fe}}function dC(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function hC(s,l){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)dC(c[s],l)}var wc=$(null),ng=$(0);function mC(s,l){s=ds,ve(ng,s),ve(wc,l),ds=s|l.baseLanes}function H0(){ve(ng,ds),ve(wc,wc.current)}function G0(){ds=ng.current,Y(wc),Y(ng)}var Ur=$(null),bi=null;function mo(s){var l=s.alternate;ve(fn,fn.current&1),ve(Ur,s),bi===null&&(l===null||wc.current!==null||l.memoizedState!==null)&&(bi=s)}function W0(s){ve(fn,fn.current),ve(Ur,s),bi===null&&(bi=s)}function pC(s){s.tag===22?(ve(fn,fn.current),ve(Ur,s),bi===null&&(bi=s)):po()}function po(){ve(fn,fn.current),ve(Ur,Ur.current)}function Br(s){Y(Ur),bi===s&&(bi=null),Y(fn)}var fn=$(0);function rg(s){for(var l=s;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||ex(c)||tx(c)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var is=0,Ye=null,Ot=null,En=null,ig=!1,Ec=!1,Hl=!1,ag=0,Md=0,Sc=null,Bz=0;function an(){throw Error(r(321))}function Y0(s,l){if(l===null)return!1;for(var c=0;c<l.length&&c<s.length;c++)if(!Lr(s[c],l[c]))return!1;return!0}function Q0(s,l,c,h,v,x){return is=x,Ye=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,W.H=s===null||s.memoizedState===null?ZC:f_,Hl=!1,x=c(h,v),Hl=!1,Ec&&(x=yC(l,c,h,v)),gC(s),x}function gC(s){W.H=Vd;var l=Ot!==null&&Ot.next!==null;if(is=0,En=Ot=Ye=null,ig=!1,Md=0,Sc=null,l)throw Error(r(300));s===null||Sn||(s=s.dependencies,s!==null&&Yp(s)&&(Sn=!0))}function yC(s,l,c,h){Ye=s;var v=0;do{if(Ec&&(Sc=null),Md=0,Ec=!1,25<=v)throw Error(r(301));if(v+=1,En=Ot=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}W.H=JC,x=l(c,h)}while(Ec);return x}function zz(){var s=W.H,l=s.useState()[0];return l=typeof l.then=="function"?kd(l):l,s=s.useState()[0],(Ot!==null?Ot.memoizedState:null)!==s&&(Ye.flags|=1024),l}function X0(){var s=ag!==0;return ag=0,s}function Z0(s,l,c){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~c}function J0(s){if(ig){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ig=!1}is=0,En=Ot=Ye=null,Ec=!1,Md=ag=0,Sc=null}function vr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Ye.memoizedState=En=s:En=En.next=s,En}function dn(){if(Ot===null){var s=Ye.alternate;s=s!==null?s.memoizedState:null}else s=Ot.next;var l=En===null?Ye.memoizedState:En.next;if(l!==null)En=l,Ot=s;else{if(s===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));Ot=s,s={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},En===null?Ye.memoizedState=En=s:En=En.next=s}return En}function sg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kd(s){var l=Md;return Md+=1,Sc===null&&(Sc=[]),s=oC(Sc,s,l),l=Ye,(En===null?l.memoizedState:En.next)===null&&(l=l.alternate,W.H=l===null||l.memoizedState===null?ZC:f_),s}function og(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return kd(s);if(s.$$typeof===P)return Jn(s)}throw Error(r(438,String(s)))}function e_(s){var l=null,c=Ye.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var h=Ye.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=sg(),Ye.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(s),h=0;h<s;h++)c[h]=U;return l.index++,c}function as(s,l){return typeof l=="function"?l(s):l}function lg(s){var l=dn();return t_(l,Ot,s)}function t_(s,l,c){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var v=s.baseQueue,x=h.pending;if(x!==null){if(v!==null){var O=v.next;v.next=x.next,x.next=O}l.baseQueue=v=x,h.pending=null}if(x=s.baseState,v===null)s.memoizedState=x;else{l=v.next;var V=O=null,K=null,J=l,le=!1;do{var fe=J.lane&-536870913;if(fe!==J.lane?(it&fe)===fe:(is&fe)===fe){var te=J.revertLane;if(te===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),fe===vc&&(le=!0);else if((is&te)===te){J=J.next,te===vc&&(le=!0);continue}else fe={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},K===null?(V=K=fe,O=x):K=K.next=fe,Ye.lanes|=te,vo|=te;fe=J.action,Hl&&c(x,fe),x=J.hasEagerState?J.eagerState:c(x,fe)}else te={lane:fe,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},K===null?(V=K=te,O=x):K=K.next=te,Ye.lanes|=fe,vo|=fe;J=J.next}while(J!==null&&J!==l);if(K===null?O=x:K.next=V,!Lr(x,s.memoizedState)&&(Sn=!0,le&&(c=bc,c!==null)))throw c;s.memoizedState=x,s.baseState=O,s.baseQueue=K,h.lastRenderedState=x}return v===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function n_(s){var l=dn(),c=l.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var h=c.dispatch,v=c.pending,x=l.memoizedState;if(v!==null){c.pending=null;var O=v=v.next;do x=s(x,O.action),O=O.next;while(O!==v);Lr(x,l.memoizedState)||(Sn=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),c.lastRenderedState=x}return[x,h]}function vC(s,l,c){var h=Ye,v=dn(),x=ut;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=l();var O=!Lr((Ot||v).memoizedState,c);if(O&&(v.memoizedState=c,Sn=!0),v=v.queue,a_(xC.bind(null,h,v,s),[s]),v.getSnapshot!==l||O||En!==null&&En.memoizedState.tag&1){if(h.flags|=2048,Ac(9,{destroy:void 0},_C.bind(null,h,v,c,l),null),jt===null)throw Error(r(349));x||(is&127)!==0||bC(h,l,c)}return c}function bC(s,l,c){s.flags|=16384,s={getSnapshot:l,value:c},l=Ye.updateQueue,l===null?(l=sg(),Ye.updateQueue=l,l.stores=[s]):(c=l.stores,c===null?l.stores=[s]:c.push(s))}function _C(s,l,c,h){l.value=c,l.getSnapshot=h,wC(l)&&EC(s)}function xC(s,l,c){return c(function(){wC(l)&&EC(s)})}function wC(s){var l=s.getSnapshot;s=s.value;try{var c=l();return!Lr(s,c)}catch(h){return!0}}function EC(s){var l=Ll(s,2);l!==null&&Ir(l,s,2)}function r_(s){var l=vr();if(typeof s=="function"){var c=s;if(s=c(),Hl){ui(!0);try{c()}finally{ui(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:s},l}function SC(s,l,c,h){return s.baseState=c,t_(s,Ot,typeof h=="function"?h:as)}function qz(s,l,c,h,v){if(fg(s))throw Error(r(485));if(s=l.action,s!==null){var x={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){x.listeners.push(O)}};W.T!==null?c(!0):x.isTransition=!1,h(x),c=l.pending,c===null?(x.next=l.pending=x,AC(l,x)):(x.next=c.next,l.pending=c.next=x)}}function AC(s,l){var c=l.action,h=l.payload,v=s.state;if(l.isTransition){var x=W.T,O={};W.T=O;try{var V=c(v,h),K=W.S;K!==null&&K(O,V),TC(s,l,V)}catch(J){i_(s,l,J)}finally{x!==null&&O.types!==null&&(x.types=O.types),W.T=x}}else try{x=c(v,h),TC(s,l,x)}catch(J){i_(s,l,J)}}function TC(s,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){IC(s,l,h)},function(h){return i_(s,l,h)}):IC(s,l,c)}function IC(s,l,c){l.status="fulfilled",l.value=c,CC(l),s.state=c,l=s.pending,l!==null&&(c=l.next,c===l?s.pending=null:(c=c.next,l.next=c,AC(s,c)))}function i_(s,l,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=c,CC(l),l=l.next;while(l!==h)}s.action=null}function CC(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function NC(s,l){return l}function OC(s,l){if(ut){var c=jt.formState;if(c!==null){e:{var h=Ye;if(ut){if(Ut){t:{for(var v=Ut,x=vi;v.nodeType!==8;){if(!x){v=null;break t}if(v=_i(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Ut=_i(v.nextSibling),h=v.data==="F!";break e}}lo(h)}h=!1}h&&(l=c[0])}}return c=vr(),c.memoizedState=c.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NC,lastRenderedState:l},c.queue=h,c=YC.bind(null,Ye,h),h.dispatch=c,h=r_(!1),x=c_.bind(null,Ye,!1,h.queue),h=vr(),v={state:l,dispatch:null,action:s,pending:null},h.queue=v,c=qz.bind(null,Ye,v,x,c),v.dispatch=c,h.memoizedState=s,[l,c,!1]}function PC(s){var l=dn();return RC(l,Ot,s)}function RC(s,l,c){if(l=t_(s,l,NC)[0],s=lg(as)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var h=kd(l)}catch(O){throw O===_c?Zp:O}else h=l;l=dn();var v=l.queue,x=v.dispatch;return c!==l.memoizedState&&(Ye.flags|=2048,Ac(9,{destroy:void 0},Fz.bind(null,v,c),null)),[h,x,s]}function Fz(s,l){s.action=l}function DC(s){var l=dn(),c=Ot;if(c!==null)return RC(l,c,s);dn(),l=l.memoizedState,c=dn();var h=c.queue.dispatch;return c.memoizedState=s,[l,h,!1]}function Ac(s,l,c,h){return s={tag:s,create:c,deps:h,inst:l,next:null},l=Ye.updateQueue,l===null&&(l=sg(),Ye.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,l.lastEffect=s),s}function jC(){return dn().memoizedState}function ug(s,l,c,h){var v=vr();Ye.flags|=s,v.memoizedState=Ac(1|l,{destroy:void 0},c,h===void 0?null:h)}function cg(s,l,c,h){var v=dn();h=h===void 0?null:h;var x=v.memoizedState.inst;Ot!==null&&h!==null&&Y0(h,Ot.memoizedState.deps)?v.memoizedState=Ac(l,x,c,h):(Ye.flags|=s,v.memoizedState=Ac(1|l,x,c,h))}function MC(s,l){ug(8390656,8,s,l)}function a_(s,l){cg(2048,8,s,l)}function $z(s){Ye.flags|=4;var l=Ye.updateQueue;if(l===null)l=sg(),Ye.updateQueue=l,l.events=[s];else{var c=l.events;c===null?l.events=[s]:c.push(s)}}function kC(s){var l=dn().memoizedState;return $z({ref:l,nextImpl:s}),function(){if((bt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function LC(s,l){return cg(4,2,s,l)}function VC(s,l){return cg(4,4,s,l)}function UC(s,l){if(typeof l=="function"){s=s();var c=l(s);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function BC(s,l,c){c=c!=null?c.concat([s]):null,cg(4,4,UC.bind(null,l,s),c)}function s_(){}function zC(s,l){var c=dn();l=l===void 0?null:l;var h=c.memoizedState;return l!==null&&Y0(l,h[1])?h[0]:(c.memoizedState=[s,l],s)}function qC(s,l){var c=dn();l=l===void 0?null:l;var h=c.memoizedState;if(l!==null&&Y0(l,h[1]))return h[0];if(h=s(),Hl){ui(!0);try{s()}finally{ui(!1)}}return c.memoizedState=[h,l],h}function o_(s,l,c){return c===void 0||(is&1073741824)!==0&&(it&261930)===0?s.memoizedState=l:(s.memoizedState=c,s=FN(),Ye.lanes|=s,vo|=s,c)}function FC(s,l,c,h){return Lr(c,l)?c:wc.current!==null?(s=o_(s,c,h),Lr(s,l)||(Sn=!0),s):(is&42)===0||(is&1073741824)!==0&&(it&261930)===0?(Sn=!0,s.memoizedState=c):(s=FN(),Ye.lanes|=s,vo|=s,l)}function $C(s,l,c,h,v){var x=oe.p;oe.p=x!==0&&8>x?x:8;var O=W.T,V={};W.T=V,c_(s,!1,l,c);try{var K=v(),J=W.S;if(J!==null&&J(V,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var le=Uz(K,h);Ld(s,l,le,Fr(s))}else Ld(s,l,h,Fr(s))}catch(fe){Ld(s,l,{then:function(){},status:"rejected",reason:fe},Fr())}finally{oe.p=x,O!==null&&V.types!==null&&(O.types=V.types),W.T=O}}function Kz(){}function l_(s,l,c,h){if(s.tag!==5)throw Error(r(476));var v=KC(s).queue;$C(s,v,l,ye,c===null?Kz:function(){return HC(s),c(h)})}function KC(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:ye},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:c},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function HC(s){var l=KC(s);l.next===null&&(l=s.alternate.memoizedState),Ld(s,l.next.queue,{},Fr())}function u_(){return Jn(eh)}function GC(){return dn().memoizedState}function WC(){return dn().memoizedState}function Hz(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var c=Fr();s=fo(c);var h=ho(l,s,c);h!==null&&(Ir(h,l,c),Rd(h,l,c)),l={cache:V0()},s.payload=l;return}l=l.return}}function Gz(s,l,c){var h=Fr();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},fg(s)?QC(l,c):(c=I0(s,l,c,h),c!==null&&(Ir(c,s,h),XC(c,l,h)))}function YC(s,l,c){var h=Fr();Ld(s,l,c,h)}function Ld(s,l,c,h){var v={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(fg(s))QC(l,v);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var O=l.lastRenderedState,V=x(O,c);if(v.hasEagerState=!0,v.eagerState=V,Lr(V,O))return Kp(s,l,v,0),jt===null&&$p(),!1}catch(K){}finally{}if(c=I0(s,l,v,h),c!==null)return Ir(c,s,h),XC(c,l,h),!0}return!1}function c_(s,l,c,h){if(h={lane:2,revertLane:q_(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},fg(s)){if(l)throw Error(r(479))}else l=I0(s,c,h,2),l!==null&&Ir(l,s,2)}function fg(s){var l=s.alternate;return s===Ye||l!==null&&l===Ye}function QC(s,l){Ec=ig=!0;var c=s.pending;c===null?l.next=l:(l.next=c.next,c.next=l),s.pending=l}function XC(s,l,c){if((c&4194048)!==0){var h=l.lanes;h&=s.pendingLanes,c|=h,l.lanes=c,ad(s,c)}}var Vd={readContext:Jn,use:og,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};Vd.useEffectEvent=an;var ZC={readContext:Jn,use:og,useCallback:function(s,l){return vr().memoizedState=[s,l===void 0?null:l],s},useContext:Jn,useEffect:MC,useImperativeHandle:function(s,l,c){c=c!=null?c.concat([s]):null,ug(4194308,4,UC.bind(null,l,s),c)},useLayoutEffect:function(s,l){return ug(4194308,4,s,l)},useInsertionEffect:function(s,l){ug(4,2,s,l)},useMemo:function(s,l){var c=vr();l=l===void 0?null:l;var h=s();if(Hl){ui(!0);try{s()}finally{ui(!1)}}return c.memoizedState=[h,l],h},useReducer:function(s,l,c){var h=vr();if(c!==void 0){var v=c(l);if(Hl){ui(!0);try{c(l)}finally{ui(!1)}}}else v=l;return h.memoizedState=h.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},h.queue=s,s=s.dispatch=Gz.bind(null,Ye,s),[h.memoizedState,s]},useRef:function(s){var l=vr();return s={current:s},l.memoizedState=s},useState:function(s){s=r_(s);var l=s.queue,c=YC.bind(null,Ye,l);return l.dispatch=c,[s.memoizedState,c]},useDebugValue:s_,useDeferredValue:function(s,l){var c=vr();return o_(c,s,l)},useTransition:function(){var s=r_(!1);return s=$C.bind(null,Ye,s.queue,!0,!1),vr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,c){var h=Ye,v=vr();if(ut){if(c===void 0)throw Error(r(407));c=c()}else{if(c=l(),jt===null)throw Error(r(349));(it&127)!==0||bC(h,l,c)}v.memoizedState=c;var x={value:c,getSnapshot:l};return v.queue=x,MC(xC.bind(null,h,x,s),[s]),h.flags|=2048,Ac(9,{destroy:void 0},_C.bind(null,h,x,c,l),null),c},useId:function(){var s=vr(),l=jt.identifierPrefix;if(ut){var c=Na,h=Ca;c=(h&~(1<<32-un(h)-1)).toString(32)+c,l="_"+l+"R_"+c,c=ag++,0<c&&(l+="H"+c.toString(32)),l+="_"}else c=Bz++,l="_"+l+"r_"+c.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:u_,useFormState:OC,useActionState:OC,useOptimistic:function(s){var l=vr();l.memoizedState=l.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=c_.bind(null,Ye,!0,c),c.dispatch=l,[s,l]},useMemoCache:e_,useCacheRefresh:function(){return vr().memoizedState=Hz.bind(null,Ye)},useEffectEvent:function(s){var l=vr(),c={impl:s};return l.memoizedState=c,function(){if((bt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},f_={readContext:Jn,use:og,useCallback:zC,useContext:Jn,useEffect:a_,useImperativeHandle:BC,useInsertionEffect:LC,useLayoutEffect:VC,useMemo:qC,useReducer:lg,useRef:jC,useState:function(){return lg(as)},useDebugValue:s_,useDeferredValue:function(s,l){var c=dn();return FC(c,Ot.memoizedState,s,l)},useTransition:function(){var s=lg(as)[0],l=dn().memoizedState;return[typeof s=="boolean"?s:kd(s),l]},useSyncExternalStore:vC,useId:GC,useHostTransitionStatus:u_,useFormState:PC,useActionState:PC,useOptimistic:function(s,l){var c=dn();return SC(c,Ot,s,l)},useMemoCache:e_,useCacheRefresh:WC};f_.useEffectEvent=kC;var JC={readContext:Jn,use:og,useCallback:zC,useContext:Jn,useEffect:a_,useImperativeHandle:BC,useInsertionEffect:LC,useLayoutEffect:VC,useMemo:qC,useReducer:n_,useRef:jC,useState:function(){return n_(as)},useDebugValue:s_,useDeferredValue:function(s,l){var c=dn();return Ot===null?o_(c,s,l):FC(c,Ot.memoizedState,s,l)},useTransition:function(){var s=n_(as)[0],l=dn().memoizedState;return[typeof s=="boolean"?s:kd(s),l]},useSyncExternalStore:vC,useId:GC,useHostTransitionStatus:u_,useFormState:DC,useActionState:DC,useOptimistic:function(s,l){var c=dn();return Ot!==null?SC(c,Ot,s,l):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:e_,useCacheRefresh:WC};JC.useEffectEvent=kC;function d_(s,l,c,h){l=s.memoizedState,c=c(h,l),c=c==null?l:p({},l,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var h_={enqueueSetState:function(s,l,c){s=s._reactInternals;var h=Fr(),v=fo(h);v.payload=l,c!=null&&(v.callback=c),l=ho(s,v,h),l!==null&&(Ir(l,s,h),Rd(l,s,h))},enqueueReplaceState:function(s,l,c){s=s._reactInternals;var h=Fr(),v=fo(h);v.tag=1,v.payload=l,c!=null&&(v.callback=c),l=ho(s,v,h),l!==null&&(Ir(l,s,h),Rd(l,s,h))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var c=Fr(),h=fo(c);h.tag=2,l!=null&&(h.callback=l),l=ho(s,h,c),l!==null&&(Ir(l,s,c),Rd(l,s,c))}};function eN(s,l,c,h,v,x,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,x,O):l.prototype&&l.prototype.isPureReactComponent?!Sd(c,h)||!Sd(v,x):!0}function tN(s,l,c,h){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,h),l.state!==s&&h_.enqueueReplaceState(l,l.state,null)}function Gl(s,l){var c=l;if("ref"in l){c={};for(var h in l)h!=="ref"&&(c[h]=l[h])}if(s=s.defaultProps){c===l&&(c=p({},c));for(var v in s)c[v]===void 0&&(c[v]=s[v])}return c}function nN(s){Fp(s)}function rN(s){console.error(s)}function iN(s){Fp(s)}function dg(s,l){try{var c=s.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function aN(s,l,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function m_(s,l,c){return c=fo(c),c.tag=3,c.payload={element:null},c.callback=function(){dg(s,l)},c}function sN(s){return s=fo(s),s.tag=3,s}function oN(s,l,c,h){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var x=h.value;s.payload=function(){return v(x)},s.callback=function(){aN(l,c,h)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(s.callback=function(){aN(l,c,h),typeof v!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var V=h.stack;this.componentDidCatch(h.value,{componentStack:V!==null?V:""})})}function Wz(s,l,c,h,v){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=c.alternate,l!==null&&yc(l,c,v,!0),c=Ur.current,c!==null){switch(c.tag){case 31:case 13:return bi===null?Sg():c.alternate===null&&sn===0&&(sn=3),c.flags&=-257,c.flags|=65536,c.lanes=v,h===Jp?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([h]):l.add(h),U_(s,h,v)),!1;case 22:return c.flags|=65536,h===Jp?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([h]):c.add(h)),U_(s,h,v)),!1}throw Error(r(435,c.tag))}return U_(s,h,v),Sg(),!1}if(ut)return l=Ur.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,h!==D0&&(s=Error(r(422),{cause:h}),Id(pi(s,c)))):(h!==D0&&(l=Error(r(423),{cause:h}),Id(pi(l,c))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,h=pi(h,c),v=m_(s.stateNode,h,v),$0(s,v),sn!==4&&(sn=2)),!1;var x=Error(r(520),{cause:h});if(x=pi(x,c),Hd===null?Hd=[x]:Hd.push(x),sn!==4&&(sn=2),l===null)return!0;h=pi(h,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,s=v&-v,c.lanes|=s,s=m_(c.stateNode,h,s),$0(c,s),!1;case 1:if(l=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(bo===null||!bo.has(x))))return c.flags|=65536,v&=-v,c.lanes|=v,v=sN(v),oN(v,s,c,h),$0(c,v),!1}c=c.return}while(c!==null);return!1}var p_=Error(r(461)),Sn=!1;function er(s,l,c,h){l.child=s===null?fC(l,null,c,h):Kl(l,s.child,c,h)}function lN(s,l,c,h,v){c=c.render;var x=l.ref;if("ref"in h){var O={};for(var V in h)V!=="ref"&&(O[V]=h[V])}else O=h;return zl(l),h=Q0(s,l,c,O,x,v),V=X0(),s!==null&&!Sn?(Z0(s,l,v),ss(s,l,v)):(ut&&V&&P0(l),l.flags|=1,er(s,l,h,v),l.child)}function uN(s,l,c,h,v){if(s===null){var x=c.type;return typeof x=="function"&&!C0(x)&&x.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=x,cN(s,l,x,h,v)):(s=Gp(c.type,null,h,l,l.mode,v),s.ref=l.ref,s.return=l,l.child=s)}if(x=s.child,!E_(s,v)){var O=x.memoizedProps;if(c=c.compare,c=c!==null?c:Sd,c(O,h)&&s.ref===l.ref)return ss(s,l,v)}return l.flags|=1,s=es(x,h),s.ref=l.ref,s.return=l,l.child=s}function cN(s,l,c,h,v){if(s!==null){var x=s.memoizedProps;if(Sd(x,h)&&s.ref===l.ref)if(Sn=!1,l.pendingProps=h=x,E_(s,v))(s.flags&131072)!==0&&(Sn=!0);else return l.lanes=s.lanes,ss(s,l,v)}return g_(s,l,c,h,v)}function fN(s,l,c,h){var v=h.children,x=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((l.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,s!==null){for(h=l.child=s.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~x}else h=0,l.child=null;return dN(s,l,x,c,h)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Xp(l,x!==null?x.cachePool:null),x!==null?mC(l,x):H0(),pC(l);else return h=l.lanes=536870912,dN(s,l,x!==null?x.baseLanes|c:c,c,h)}else x!==null?(Xp(l,x.cachePool),mC(l,x),po(),l.memoizedState=null):(s!==null&&Xp(l,null),H0(),po());return er(s,l,v,c),l.child}function Ud(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function dN(s,l,c,h,v){var x=B0();return x=x===null?null:{parent:wn._currentValue,pool:x},l.memoizedState={baseLanes:c,cachePool:x},s!==null&&Xp(l,null),H0(),pC(l),s!==null&&yc(s,l,h,!0),l.childLanes=v,null}function hg(s,l){return l=pg({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function hN(s,l,c){return Kl(l,s.child,null,c),s=hg(l,l.pendingProps),s.flags|=2,Br(l),l.memoizedState=null,s}function Yz(s,l,c){var h=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(ut){if(h.mode==="hidden")return s=hg(l,h),l.lanes=536870912,Ud(null,s);if(W0(l),(s=Ut)?(s=AO(s,vi),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:so!==null?{id:Ca,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},c=QI(s),c.return=l,l.child=c,Zn=l,Ut=null)):s=null,s===null)throw lo(l);return l.lanes=536870912,null}return hg(l,h)}var x=s.memoizedState;if(x!==null){var O=x.dehydrated;if(W0(l),v)if(l.flags&256)l.flags&=-257,l=hN(s,l,c);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(Sn||yc(s,l,c,!1),v=(c&s.childLanes)!==0,Sn||v){if(h=jt,h!==null&&(O=sd(h,c),O!==0&&O!==x.retryLane))throw x.retryLane=O,Ll(s,O),Ir(h,s,O),p_;Sg(),l=hN(s,l,c)}else s=x.treeContext,Ut=_i(O.nextSibling),Zn=l,ut=!0,oo=null,vi=!1,s!==null&&JI(l,s),l=hg(l,h),l.flags|=4096;return l}return s=es(s.child,{mode:h.mode,children:h.children}),s.ref=l.ref,l.child=s,s.return=l,s}function mg(s,l){var c=l.ref;if(c===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(l.flags|=4194816)}}function g_(s,l,c,h,v){return zl(l),c=Q0(s,l,c,h,void 0,v),h=X0(),s!==null&&!Sn?(Z0(s,l,v),ss(s,l,v)):(ut&&h&&P0(l),l.flags|=1,er(s,l,c,v),l.child)}function mN(s,l,c,h,v,x){return zl(l),l.updateQueue=null,c=yC(l,h,c,v),gC(s),h=X0(),s!==null&&!Sn?(Z0(s,l,x),ss(s,l,x)):(ut&&h&&P0(l),l.flags|=1,er(s,l,c,x),l.child)}function pN(s,l,c,h,v){if(zl(l),l.stateNode===null){var x=hc,O=c.contextType;typeof O=="object"&&O!==null&&(x=Jn(O)),x=new c(h,x),l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=h_,l.stateNode=x,x._reactInternals=l,x=l.stateNode,x.props=h,x.state=l.memoizedState,x.refs={},q0(l),O=c.contextType,x.context=typeof O=="object"&&O!==null?Jn(O):hc,x.state=l.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(d_(l,c,O,h),x.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(O=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),O!==x.state&&h_.enqueueReplaceState(x,x.state,null),jd(l,h,x,v),Dd(),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(s===null){x=l.stateNode;var V=l.memoizedProps,K=Gl(c,V);x.props=K;var J=x.context,le=c.contextType;O=hc,typeof le=="object"&&le!==null&&(O=Jn(le));var fe=c.getDerivedStateFromProps;le=typeof fe=="function"||typeof x.getSnapshotBeforeUpdate=="function",V=l.pendingProps!==V,le||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(V||J!==O)&&tN(l,x,h,O),co=!1;var te=l.memoizedState;x.state=te,jd(l,h,x,v),Dd(),J=l.memoizedState,V||te!==J||co?(typeof fe=="function"&&(d_(l,c,fe,h),J=l.memoizedState),(K=co||eN(l,c,K,h,te,J,O))?(le||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(l.flags|=4194308)):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=J),x.props=h,x.state=J,x.context=O,h=K):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{x=l.stateNode,F0(s,l),O=l.memoizedProps,le=Gl(c,O),x.props=le,fe=l.pendingProps,te=x.context,J=c.contextType,K=hc,typeof J=="object"&&J!==null&&(K=Jn(J)),V=c.getDerivedStateFromProps,(J=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==fe||te!==K)&&tN(l,x,h,K),co=!1,te=l.memoizedState,x.state=te,jd(l,h,x,v),Dd();var se=l.memoizedState;O!==fe||te!==se||co||s!==null&&s.dependencies!==null&&Yp(s.dependencies)?(typeof V=="function"&&(d_(l,c,V,h),se=l.memoizedState),(le=co||eN(l,c,le,h,te,se,K)||s!==null&&s.dependencies!==null&&Yp(s.dependencies))?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,se,K),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,se,K)),typeof x.componentDidUpdate=="function"&&(l.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof x.componentDidUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=se),x.props=h,x.state=se,x.context=K,h=le):(typeof x.componentDidUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(l.flags|=1024),h=!1)}return x=h,mg(s,l),h=(l.flags&128)!==0,x||h?(x=l.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:x.render(),l.flags|=1,s!==null&&h?(l.child=Kl(l,s.child,null,v),l.child=Kl(l,null,c,v)):er(s,l,c,v),l.memoizedState=x.state,s=l.child):s=ss(s,l,v),s}function gN(s,l,c,h){return Ul(),l.flags|=256,er(s,l,c,h),l.child}var y_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function v_(s){return{baseLanes:s,cachePool:aC()}}function b_(s,l,c){return s=s!==null?s.childLanes&~c:0,l&&(s|=qr),s}function yN(s,l,c){var h=l.pendingProps,v=!1,x=(l.flags&128)!==0,O;if((O=x)||(O=s!==null&&s.memoizedState===null?!1:(fn.current&2)!==0),O&&(v=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,s===null){if(ut){if(v?mo(l):po(),(s=Ut)?(s=AO(s,vi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:so!==null?{id:Ca,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},c=QI(s),c.return=l,l.child=c,Zn=l,Ut=null)):s=null,s===null)throw lo(l);return tx(s)?l.lanes=32:l.lanes=536870912,null}var V=h.children;return h=h.fallback,v?(po(),v=l.mode,V=pg({mode:"hidden",children:V},v),h=Vl(h,v,c,null),V.return=l,h.return=l,V.sibling=h,l.child=V,h=l.child,h.memoizedState=v_(c),h.childLanes=b_(s,O,c),l.memoizedState=y_,Ud(null,h)):(mo(l),__(l,V))}var K=s.memoizedState;if(K!==null&&(V=K.dehydrated,V!==null)){if(x)l.flags&256?(mo(l),l.flags&=-257,l=x_(s,l,c)):l.memoizedState!==null?(po(),l.child=s.child,l.flags|=128,l=null):(po(),V=h.fallback,v=l.mode,h=pg({mode:"visible",children:h.children},v),V=Vl(V,v,c,null),V.flags|=2,h.return=l,V.return=l,h.sibling=V,l.child=h,Kl(l,s.child,null,c),h=l.child,h.memoizedState=v_(c),h.childLanes=b_(s,O,c),l.memoizedState=y_,l=Ud(null,h));else if(mo(l),tx(V)){if(O=V.nextSibling&&V.nextSibling.dataset,O)var J=O.dgst;O=J,h=Error(r(419)),h.stack="",h.digest=O,Id({value:h,source:null,stack:null}),l=x_(s,l,c)}else if(Sn||yc(s,l,c,!1),O=(c&s.childLanes)!==0,Sn||O){if(O=jt,O!==null&&(h=sd(O,c),h!==0&&h!==K.retryLane))throw K.retryLane=h,Ll(s,h),Ir(O,s,h),p_;ex(V)||Sg(),l=x_(s,l,c)}else ex(V)?(l.flags|=192,l.child=s.child,l=null):(s=K.treeContext,Ut=_i(V.nextSibling),Zn=l,ut=!0,oo=null,vi=!1,s!==null&&JI(l,s),l=__(l,h.children),l.flags|=4096);return l}return v?(po(),V=h.fallback,v=l.mode,K=s.child,J=K.sibling,h=es(K,{mode:"hidden",children:h.children}),h.subtreeFlags=K.subtreeFlags&65011712,J!==null?V=es(J,V):(V=Vl(V,v,c,null),V.flags|=2),V.return=l,h.return=l,h.sibling=V,l.child=h,Ud(null,h),h=l.child,V=s.child.memoizedState,V===null?V=v_(c):(v=V.cachePool,v!==null?(K=wn._currentValue,v=v.parent!==K?{parent:K,pool:K}:v):v=aC(),V={baseLanes:V.baseLanes|c,cachePool:v}),h.memoizedState=V,h.childLanes=b_(s,O,c),l.memoizedState=y_,Ud(s.child,h)):(mo(l),c=s.child,s=c.sibling,c=es(c,{mode:"visible",children:h.children}),c.return=l,c.sibling=null,s!==null&&(O=l.deletions,O===null?(l.deletions=[s],l.flags|=16):O.push(s)),l.child=c,l.memoizedState=null,c)}function __(s,l){return l=pg({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function pg(s,l){return s=Vr(22,s,null,l),s.lanes=0,s}function x_(s,l,c){return Kl(l,s.child,null,c),s=__(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function vN(s,l,c){s.lanes|=l;var h=s.alternate;h!==null&&(h.lanes|=l),k0(s.return,l,c)}function w_(s,l,c,h,v,x){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v,treeForkCount:x}:(O.isBackwards=l,O.rendering=null,O.renderingStartTime=0,O.last=h,O.tail=c,O.tailMode=v,O.treeForkCount=x)}function bN(s,l,c){var h=l.pendingProps,v=h.revealOrder,x=h.tail;h=h.children;var O=fn.current,V=(O&2)!==0;if(V?(O=O&1|2,l.flags|=128):O&=1,ve(fn,O),er(s,l,h,c),h=ut?Td:0,!V&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vN(s,c,l);else if(s.tag===19)vN(s,c,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(v){case"forwards":for(c=l.child,v=null;c!==null;)s=c.alternate,s!==null&&rg(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=l.child,l.child=null):(v=c.sibling,c.sibling=null),w_(l,!1,v,c,x,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=l.child,l.child=null;v!==null;){if(s=v.alternate,s!==null&&rg(s)===null){l.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}w_(l,!0,c,null,x,h);break;case"together":w_(l,!1,null,null,void 0,h);break;default:l.memoizedState=null}return l.child}function ss(s,l,c){if(s!==null&&(l.dependencies=s.dependencies),vo|=l.lanes,(c&l.childLanes)===0)if(s!==null){if(yc(s,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,c=es(s,s.pendingProps),l.child=c,c.return=l;s.sibling!==null;)s=s.sibling,c=c.sibling=es(s,s.pendingProps),c.return=l;c.sibling=null}return l.child}function E_(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Yp(s)))}function Qz(s,l,c){switch(l.tag){case 3:tt(l,l.stateNode.containerInfo),uo(l,wn,s.memoizedState.cache),Ul();break;case 27:case 5:ue(l);break;case 4:tt(l,l.stateNode.containerInfo);break;case 10:uo(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,W0(l),null;break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(mo(l),l.flags|=128,null):(c&l.child.childLanes)!==0?yN(s,l,c):(mo(l),s=ss(s,l,c),s!==null?s.sibling:null);mo(l);break;case 19:var v=(s.flags&128)!==0;if(h=(c&l.childLanes)!==0,h||(yc(s,l,c,!1),h=(c&l.childLanes)!==0),v){if(h)return bN(s,l,c);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ve(fn,fn.current),h)break;return null;case 22:return l.lanes=0,fN(s,l,c,l.pendingProps);case 24:uo(l,wn,s.memoizedState.cache)}return ss(s,l,c)}function _N(s,l,c){if(s!==null)if(s.memoizedProps!==l.pendingProps)Sn=!0;else{if(!E_(s,c)&&(l.flags&128)===0)return Sn=!1,Qz(s,l,c);Sn=(s.flags&131072)!==0}else Sn=!1,ut&&(l.flags&1048576)!==0&&ZI(l,Td,l.index);switch(l.lanes=0,l.tag){case 16:e:{var h=l.pendingProps;if(s=Fl(l.elementType),l.type=s,typeof s=="function")C0(s)?(h=Gl(s,h),l.tag=1,l=pN(null,l,s,h,c)):(l.tag=0,l=g_(null,l,s,h,c));else{if(s!=null){var v=s.$$typeof;if(v===k){l.tag=11,l=lN(null,l,s,h,c);break e}else if(v===R){l.tag=14,l=uN(null,l,s,h,c);break e}}throw l=pe(s)||s,Error(r(306,l,""))}}return l;case 0:return g_(s,l,l.type,l.pendingProps,c);case 1:return h=l.type,v=Gl(h,l.pendingProps),pN(s,l,h,v,c);case 3:e:{if(tt(l,l.stateNode.containerInfo),s===null)throw Error(r(387));h=l.pendingProps;var x=l.memoizedState;v=x.element,F0(s,l),jd(l,h,null,c);var O=l.memoizedState;if(h=O.cache,uo(l,wn,h),h!==x.cache&&L0(l,[wn],c,!0),Dd(),h=O.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){l=gN(s,l,h,c);break e}else if(h!==v){v=pi(Error(r(424)),l),Id(v),l=gN(s,l,h,c);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ut=_i(s.firstChild),Zn=l,ut=!0,oo=null,vi=!0,c=fC(l,null,h,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ul(),h===v){l=ss(s,l,c);break e}er(s,l,h,c)}l=l.child}return l;case 26:return mg(s,l),s===null?(c=PO(l.type,null,l.pendingProps,null))?l.memoizedState=c:ut||(c=l.type,s=l.pendingProps,h=Pg(Ae.current).createElement(c),h[bn]=l,h[Vn]=s,tr(h,c,s),_n(h),l.stateNode=h):l.memoizedState=PO(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return ue(l),s===null&&ut&&(h=l.stateNode=CO(l.type,l.pendingProps,Ae.current),Zn=l,vi=!0,v=Ut,Eo(l.type)?(nx=v,Ut=_i(h.firstChild)):Ut=v),er(s,l,l.pendingProps.children,c),mg(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&ut&&((v=h=Ut)&&(h=T9(h,l.type,l.pendingProps,vi),h!==null?(l.stateNode=h,Zn=l,Ut=_i(h.firstChild),vi=!1,v=!0):v=!1),v||lo(l)),ue(l),v=l.type,x=l.pendingProps,O=s!==null?s.memoizedProps:null,h=x.children,X_(v,x)?h=null:O!==null&&X_(v,O)&&(l.flags|=32),l.memoizedState!==null&&(v=Q0(s,l,zz,null,null,c),eh._currentValue=v),mg(s,l),er(s,l,h,c),l.child;case 6:return s===null&&ut&&((s=c=Ut)&&(c=I9(c,l.pendingProps,vi),c!==null?(l.stateNode=c,Zn=l,Ut=null,s=!0):s=!1),s||lo(l)),null;case 13:return yN(s,l,c);case 4:return tt(l,l.stateNode.containerInfo),h=l.pendingProps,s===null?l.child=Kl(l,null,h,c):er(s,l,h,c),l.child;case 11:return lN(s,l,l.type,l.pendingProps,c);case 7:return er(s,l,l.pendingProps,c),l.child;case 8:return er(s,l,l.pendingProps.children,c),l.child;case 12:return er(s,l,l.pendingProps.children,c),l.child;case 10:return h=l.pendingProps,uo(l,l.type,h.value),er(s,l,h.children,c),l.child;case 9:return v=l.type._context,h=l.pendingProps.children,zl(l),v=Jn(v),h=h(v),l.flags|=1,er(s,l,h,c),l.child;case 14:return uN(s,l,l.type,l.pendingProps,c);case 15:return cN(s,l,l.type,l.pendingProps,c);case 19:return bN(s,l,c);case 31:return Yz(s,l,c);case 22:return fN(s,l,c,l.pendingProps);case 24:return zl(l),h=Jn(wn),s===null?(v=B0(),v===null&&(v=jt,x=V0(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=c),v=x),l.memoizedState={parent:h,cache:v},q0(l),uo(l,wn,v)):((s.lanes&c)!==0&&(F0(s,l),jd(l,null,null,c),Dd()),v=s.memoizedState,x=l.memoizedState,v.parent!==h?(v={parent:h,cache:h},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),uo(l,wn,h)):(h=x.cache,uo(l,wn,h),h!==v.cache&&L0(l,[wn],c,!0))),er(s,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function os(s){s.flags|=4}function S_(s,l,c,h,v){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(v&335544128)===v)if(s.stateNode.complete)s.flags|=8192;else if(GN())s.flags|=8192;else throw $l=Jp,z0}else s.flags&=-16777217}function xN(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!kO(l))if(GN())s.flags|=8192;else throw $l=Jp,z0}function gg(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?wp():536870912,s.lanes|=l,Nc|=l)}function Bd(s,l){if(!ut)switch(s.tailMode){case"hidden":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Bt(s){var l=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(l)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=h,s.childLanes=c,l}function Xz(s,l,c){var h=l.pendingProps;switch(R0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(l),null;case 1:return Bt(l),null;case 3:return c=l.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),rs(wn),ge(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(gc(l)?os(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,j0())),Bt(l),null;case 26:var v=l.type,x=l.memoizedState;return s===null?(os(l),x!==null?(Bt(l),xN(l,x)):(Bt(l),S_(l,v,null,h,c))):x?x!==s.memoizedState?(os(l),Bt(l),xN(l,x)):(Bt(l),l.flags&=-16777217):(s=s.memoizedProps,s!==h&&os(l),Bt(l),S_(l,v,s,h,c)),null;case 27:if(_e(l),c=Ae.current,v=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==h&&os(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return Bt(l),null}s=ee.current,gc(l)?eC(l):(s=CO(v,h,c),l.stateNode=s,os(l))}return Bt(l),null;case 5:if(_e(l),v=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==h&&os(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return Bt(l),null}if(x=ee.current,gc(l))eC(l);else{var O=Pg(Ae.current);switch(x){case 1:x=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=O.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?O.createElement("select",{is:h.is}):O.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?O.createElement(v,{is:h.is}):O.createElement(v)}}x[bn]=l,x[Vn]=h;e:for(O=l.child;O!==null;){if(O.tag===5||O.tag===6)x.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===l)break e;for(;O.sibling===null;){if(O.return===null||O.return===l)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}l.stateNode=x;e:switch(tr(x,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&os(l)}}return Bt(l),S_(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,c),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==h&&os(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(r(166));if(s=Ae.current,gc(l)){if(s=l.stateNode,c=l.memoizedProps,h=null,v=Zn,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}s[bn]=l,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||yO(s.nodeValue,c)),s||lo(l,!0)}else s=Pg(s).createTextNode(h),s[bn]=l,l.stateNode=s}return Bt(l),null;case 31:if(c=l.memoizedState,s===null||s.memoizedState!==null){if(h=gc(l),c!==null){if(s===null){if(!h)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[bn]=l}else Ul(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Bt(l),s=!1}else c=j0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return l.flags&256?(Br(l),l):(Br(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Bt(l),null;case 13:if(h=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=gc(l),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[bn]=l}else Ul(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Bt(l),v=!1}else v=j0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(Br(l),l):(Br(l),null)}return Br(l),(l.flags&128)!==0?(l.lanes=c,l):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=l.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==v&&(h.flags|=2048)),c!==s&&c&&(l.child.flags|=8192),gg(l,l.updateQueue),Bt(l),null);case 4:return ge(),s===null&&H_(l.stateNode.containerInfo),Bt(l),null;case 10:return rs(l.type),Bt(l),null;case 19:if(Y(fn),h=l.memoizedState,h===null)return Bt(l),null;if(v=(l.flags&128)!==0,x=h.rendering,x===null)if(v)Bd(h,!1);else{if(sn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(x=rg(s),x!==null){for(l.flags|=128,Bd(h,!1),s=x.updateQueue,l.updateQueue=s,gg(l,s),l.subtreeFlags=0,s=c,c=l.child;c!==null;)YI(c,s),c=c.sibling;return ve(fn,fn.current&1|2),ut&&ts(l,h.treeForkCount),l.child}s=s.sibling}h.tail!==null&&wt()>xg&&(l.flags|=128,v=!0,Bd(h,!1),l.lanes=4194304)}else{if(!v)if(s=rg(x),s!==null){if(l.flags|=128,v=!0,s=s.updateQueue,l.updateQueue=s,gg(l,s),Bd(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!ut)return Bt(l),null}else 2*wt()-h.renderingStartTime>xg&&c!==536870912&&(l.flags|=128,v=!0,Bd(h,!1),l.lanes=4194304);h.isBackwards?(x.sibling=l.child,l.child=x):(s=h.last,s!==null?s.sibling=x:l.child=x,h.last=x)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=wt(),s.sibling=null,c=fn.current,ve(fn,v?c&1|2:c&1),ut&&ts(l,h.treeForkCount),s):(Bt(l),null);case 22:case 23:return Br(l),G0(),h=l.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(c&536870912)!==0&&(l.flags&128)===0&&(Bt(l),l.subtreeFlags&6&&(l.flags|=8192)):Bt(l),c=l.updateQueue,c!==null&&gg(l,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048),s!==null&&Y(ql),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),rs(wn),Bt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function Zz(s,l){switch(R0(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return rs(wn),ge(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return _e(l),null;case 31:if(l.memoizedState!==null){if(Br(l),l.alternate===null)throw Error(r(340));Ul()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(Br(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ul()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Y(fn),null;case 4:return ge(),null;case 10:return rs(l.type),null;case 22:case 23:return Br(l),G0(),s!==null&&Y(ql),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return rs(wn),null;case 25:return null;default:return null}}function wN(s,l){switch(R0(l),l.tag){case 3:rs(wn),ge();break;case 26:case 27:case 5:_e(l);break;case 4:ge();break;case 31:l.memoizedState!==null&&Br(l);break;case 13:Br(l);break;case 19:Y(fn);break;case 10:rs(l.type);break;case 22:case 23:Br(l),G0(),s!==null&&Y(ql);break;case 24:rs(wn)}}function zd(s,l){try{var c=l.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var v=h.next;c=v;do{if((c.tag&s)===s){h=void 0;var x=c.create,O=c.inst;h=x(),O.destroy=h}c=c.next}while(c!==v)}}catch(V){At(l,l.return,V)}}function go(s,l,c){try{var h=l.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var x=v.next;h=x;do{if((h.tag&s)===s){var O=h.inst,V=O.destroy;if(V!==void 0){O.destroy=void 0,v=l;var K=c,J=V;try{J()}catch(le){At(v,K,le)}}}h=h.next}while(h!==x)}}catch(le){At(l,l.return,le)}}function EN(s){var l=s.updateQueue;if(l!==null){var c=s.stateNode;try{hC(l,c)}catch(h){At(s,s.return,h)}}}function SN(s,l,c){c.props=Gl(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){At(s,l,h)}}function qd(s,l){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(v){At(s,l,v)}}function Oa(s,l){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(v){At(s,l,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){At(s,l,v)}else c.current=null}function AN(s){var l=s.type,c=s.memoizedProps,h=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(v){At(s,s.return,v)}}function A_(s,l,c){try{var h=s.stateNode;_9(h,s.type,c,l),h[Vn]=l}catch(v){At(s,s.return,v)}}function TN(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Eo(s.type)||s.tag===4}function T_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||TN(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Eo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function I_(s,l,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(s),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=Li));else if(h!==4&&(h===27&&Eo(s.type)&&(c=s.stateNode,l=null),s=s.child,s!==null))for(I_(s,l,c),s=s.sibling;s!==null;)I_(s,l,c),s=s.sibling}function yg(s,l,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,l?c.insertBefore(s,l):c.appendChild(s);else if(h!==4&&(h===27&&Eo(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(yg(s,l,c),s=s.sibling;s!==null;)yg(s,l,c),s=s.sibling}function IN(s){var l=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);tr(l,h,c),l[bn]=s,l[Vn]=c}catch(x){At(s,s.return,x)}}var ls=!1,An=!1,C_=!1,CN=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function Jz(s,l){if(s=s.containerInfo,Y_=Vg,s=BI(s),x0(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch(ze){c=null;break e}var O=0,V=-1,K=-1,J=0,le=0,fe=s,te=null;t:for(;;){for(var se;fe!==c||v!==0&&fe.nodeType!==3||(V=O+v),fe!==x||h!==0&&fe.nodeType!==3||(K=O+h),fe.nodeType===3&&(O+=fe.nodeValue.length),(se=fe.firstChild)!==null;)te=fe,fe=se;for(;;){if(fe===s)break t;if(te===c&&++J===v&&(V=O),te===x&&++le===h&&(K=O),(se=fe.nextSibling)!==null)break;fe=te,te=fe.parentNode}fe=se}c=V===-1||K===-1?null:{start:V,end:K}}else c=null}c=c||{start:0,end:0}}else c=null;for(Q_={focusedElem:s,selectionRange:c},Vg=!1,Bn=l;Bn!==null;)if(l=Bn,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Bn=s;else for(;Bn!==null;){switch(l=Bn,x=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)v=s[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,c=l,v=x.memoizedProps,x=x.memoizedState,h=c.stateNode;try{var Oe=Gl(c.type,v);s=h.getSnapshotBeforeUpdate(Oe,x),h.__reactInternalSnapshotBeforeUpdate=s}catch(ze){At(c,c.return,ze)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,c=s.nodeType,c===9)J_(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":J_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Bn=s;break}Bn=l.return}}function NN(s,l,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:cs(s,c),h&4&&zd(5,c);break;case 1:if(cs(s,c),h&4)if(s=c.stateNode,l===null)try{s.componentDidMount()}catch(O){At(c,c.return,O)}else{var v=Gl(c.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(v,l,s.__reactInternalSnapshotBeforeUpdate)}catch(O){At(c,c.return,O)}}h&64&&EN(c),h&512&&qd(c,c.return);break;case 3:if(cs(s,c),h&64&&(s=c.updateQueue,s!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{hC(s,l)}catch(O){At(c,c.return,O)}}break;case 27:l===null&&h&4&&IN(c);case 26:case 5:cs(s,c),l===null&&h&4&&AN(c),h&512&&qd(c,c.return);break;case 12:cs(s,c);break;case 31:cs(s,c),h&4&&RN(s,c);break;case 13:cs(s,c),h&4&&DN(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=l9.bind(null,c),C9(s,c))));break;case 22:if(h=c.memoizedState!==null||ls,!h){l=l!==null&&l.memoizedState!==null||An,v=ls;var x=An;ls=h,(An=l)&&!x?fs(s,c,(c.subtreeFlags&8772)!==0):cs(s,c),ls=v,An=x}break;case 30:break;default:cs(s,c)}}function ON(s){var l=s.alternate;l!==null&&(s.alternate=null,ON(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Ju(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var $t=null,Er=!1;function us(s,l,c){for(c=c.child;c!==null;)PN(s,l,c),c=c.sibling}function PN(s,l,c){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Di,c)}catch(x){}switch(c.tag){case 26:An||Oa(c,l),us(s,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:An||Oa(c,l);var h=$t,v=Er;Eo(c.type)&&($t=c.stateNode,Er=!1),us(s,l,c),Xd(c.stateNode),$t=h,Er=v;break;case 5:An||Oa(c,l);case 6:if(h=$t,v=Er,$t=null,us(s,l,c),$t=h,Er=v,$t!==null)if(Er)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(c.stateNode)}catch(x){At(c,l,x)}else try{$t.removeChild(c.stateNode)}catch(x){At(c,l,x)}break;case 18:$t!==null&&(Er?(s=$t,EO(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Lc(s)):EO($t,c.stateNode));break;case 4:h=$t,v=Er,$t=c.stateNode.containerInfo,Er=!0,us(s,l,c),$t=h,Er=v;break;case 0:case 11:case 14:case 15:go(2,c,l),An||go(4,c,l),us(s,l,c);break;case 1:An||(Oa(c,l),h=c.stateNode,typeof h.componentWillUnmount=="function"&&SN(c,l,h)),us(s,l,c);break;case 21:us(s,l,c);break;case 22:An=(h=An)||c.memoizedState!==null,us(s,l,c),An=h;break;default:us(s,l,c)}}function RN(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Lc(s)}catch(c){At(l,l.return,c)}}}function DN(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Lc(s)}catch(c){At(l,l.return,c)}}function e9(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new CN),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new CN),l;default:throw Error(r(435,s.tag))}}function vg(s,l){var c=e9(s);l.forEach(function(h){if(!c.has(h)){c.add(h);var v=u9.bind(null,s,h);h.then(v,v)}})}function Sr(s,l){var c=l.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h],x=s,O=l,V=O;e:for(;V!==null;){switch(V.tag){case 27:if(Eo(V.type)){$t=V.stateNode,Er=!1;break e}break;case 5:$t=V.stateNode,Er=!1;break e;case 3:case 4:$t=V.stateNode.containerInfo,Er=!0;break e}V=V.return}if($t===null)throw Error(r(160));PN(x,O,v),$t=null,Er=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)jN(l,s),l=l.sibling}var Fi=null;function jN(s,l){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Sr(l,s),Ar(s),h&4&&(go(3,s,s.return),zd(3,s),go(5,s,s.return));break;case 1:Sr(l,s),Ar(s),h&512&&(An||c===null||Oa(c,c.return)),h&64&&ls&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var v=Fi;if(Sr(l,s),Ar(s),h&512&&(An||c===null||Oa(c,c.return)),h&4){var x=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){e:{h=s.type,c=s.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":x=v.getElementsByTagName("title")[0],(!x||x[ga]||x[bn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(h),v.head.insertBefore(x,v.querySelector("head > title"))),tr(x,h,c),x[bn]=s,_n(x),h=x;break e;case"link":var O=jO("link","href",v).get(h+(c.href||""));if(O){for(var V=0;V<O.length;V++)if(x=O[V],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(V,1);break t}}x=v.createElement(h),tr(x,h,c),v.head.appendChild(x);break;case"meta":if(O=jO("meta","content",v).get(h+(c.content||""))){for(V=0;V<O.length;V++)if(x=O[V],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(V,1);break t}}x=v.createElement(h),tr(x,h,c),v.head.appendChild(x);break;default:throw Error(r(468,h))}x[bn]=s,_n(x),h=x}s.stateNode=h}else MO(v,s.type,s.stateNode);else s.stateNode=DO(v,h,s.memoizedProps);else x!==h?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,h===null?MO(v,s.type,s.stateNode):DO(v,h,s.memoizedProps)):h===null&&s.stateNode!==null&&A_(s,s.memoizedProps,c.memoizedProps)}break;case 27:Sr(l,s),Ar(s),h&512&&(An||c===null||Oa(c,c.return)),c!==null&&h&4&&A_(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Sr(l,s),Ar(s),h&512&&(An||c===null||Oa(c,c.return)),s.flags&32){v=s.stateNode;try{wr(v,"")}catch(Oe){At(s,s.return,Oe)}}h&4&&s.stateNode!=null&&(v=s.memoizedProps,A_(s,v,c!==null?c.memoizedProps:v)),h&1024&&(C_=!0);break;case 6:if(Sr(l,s),Ar(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(Oe){At(s,s.return,Oe)}}break;case 3:if(jg=null,v=Fi,Fi=Rg(l.containerInfo),Sr(l,s),Fi=v,Ar(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Lc(l.containerInfo)}catch(Oe){At(s,s.return,Oe)}C_&&(C_=!1,MN(s));break;case 4:h=Fi,Fi=Rg(s.stateNode.containerInfo),Sr(l,s),Ar(s),Fi=h;break;case 12:Sr(l,s),Ar(s);break;case 31:Sr(l,s),Ar(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,vg(s,h)));break;case 13:Sr(l,s),Ar(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(_g=wt()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,vg(s,h)));break;case 22:v=s.memoizedState!==null;var K=c!==null&&c.memoizedState!==null,J=ls,le=An;if(ls=J||v,An=le||K,Sr(l,s),An=le,ls=J,Ar(s),h&8192)e:for(l=s.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(c===null||K||ls||An||Wl(s)),c=null,l=s;;){if(l.tag===5||l.tag===26){if(c===null){K=c=l;try{if(x=K.stateNode,v)O=x.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{V=K.stateNode;var fe=K.memoizedProps.style,te=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;V.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Oe){At(K,K.return,Oe)}}}else if(l.tag===6){if(c===null){K=l;try{K.stateNode.nodeValue=v?"":K.memoizedProps}catch(Oe){At(K,K.return,Oe)}}}else if(l.tag===18){if(c===null){K=l;try{var se=K.stateNode;v?SO(se,!0):SO(K.stateNode,!1)}catch(Oe){At(K,K.return,Oe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,vg(s,c))));break;case 19:Sr(l,s),Ar(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,vg(s,h)));break;case 30:break;case 21:break;default:Sr(l,s),Ar(s)}}function Ar(s){var l=s.flags;if(l&2){try{for(var c,h=s.return;h!==null;){if(TN(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,x=T_(s);yg(s,x,v);break;case 5:var O=c.stateNode;c.flags&32&&(wr(O,""),c.flags&=-33);var V=T_(s);yg(s,V,O);break;case 3:case 4:var K=c.stateNode.containerInfo,J=T_(s);I_(s,J,K);break;default:throw Error(r(161))}}catch(le){At(s,s.return,le)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function MN(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;MN(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function cs(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)NN(s,l.alternate,l),l=l.sibling}function Wl(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:go(4,l,l.return),Wl(l);break;case 1:Oa(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&SN(l,l.return,c),Wl(l);break;case 27:Xd(l.stateNode);case 26:case 5:Oa(l,l.return),Wl(l);break;case 22:l.memoizedState===null&&Wl(l);break;case 30:Wl(l);break;default:Wl(l)}s=s.sibling}}function fs(s,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,v=s,x=l,O=x.flags;switch(x.tag){case 0:case 11:case 15:fs(v,x,c),zd(4,x);break;case 1:if(fs(v,x,c),h=x,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){At(h,h.return,J)}if(h=x,v=h.updateQueue,v!==null){var V=h.stateNode;try{var K=v.shared.hiddenCallbacks;if(K!==null)for(v.shared.hiddenCallbacks=null,v=0;v<K.length;v++)dC(K[v],V)}catch(J){At(h,h.return,J)}}c&&O&64&&EN(x),qd(x,x.return);break;case 27:IN(x);case 26:case 5:fs(v,x,c),c&&h===null&&O&4&&AN(x),qd(x,x.return);break;case 12:fs(v,x,c);break;case 31:fs(v,x,c),c&&O&4&&RN(v,x);break;case 13:fs(v,x,c),c&&O&4&&DN(v,x);break;case 22:x.memoizedState===null&&fs(v,x,c),qd(x,x.return);break;case 30:break;default:fs(v,x,c)}l=l.sibling}}function N_(s,l){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Cd(c))}function O_(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Cd(s))}function $i(s,l,c,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)kN(s,l,c,h),l=l.sibling}function kN(s,l,c,h){var v=l.flags;switch(l.tag){case 0:case 11:case 15:$i(s,l,c,h),v&2048&&zd(9,l);break;case 1:$i(s,l,c,h);break;case 3:$i(s,l,c,h),v&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Cd(s)));break;case 12:if(v&2048){$i(s,l,c,h),s=l.stateNode;try{var x=l.memoizedProps,O=x.id,V=x.onPostCommit;typeof V=="function"&&V(O,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(K){At(l,l.return,K)}}else $i(s,l,c,h);break;case 31:$i(s,l,c,h);break;case 13:$i(s,l,c,h);break;case 23:break;case 22:x=l.stateNode,O=l.alternate,l.memoizedState!==null?x._visibility&2?$i(s,l,c,h):Fd(s,l):x._visibility&2?$i(s,l,c,h):(x._visibility|=2,Tc(s,l,c,h,(l.subtreeFlags&10256)!==0||!1)),v&2048&&N_(O,l);break;case 24:$i(s,l,c,h),v&2048&&O_(l.alternate,l);break;default:$i(s,l,c,h)}}function Tc(s,l,c,h,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var x=s,O=l,V=c,K=h,J=O.flags;switch(O.tag){case 0:case 11:case 15:Tc(x,O,V,K,v),zd(8,O);break;case 23:break;case 22:var le=O.stateNode;O.memoizedState!==null?le._visibility&2?Tc(x,O,V,K,v):Fd(x,O):(le._visibility|=2,Tc(x,O,V,K,v)),v&&J&2048&&N_(O.alternate,O);break;case 24:Tc(x,O,V,K,v),v&&J&2048&&O_(O.alternate,O);break;default:Tc(x,O,V,K,v)}l=l.sibling}}function Fd(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=s,h=l,v=h.flags;switch(h.tag){case 22:Fd(c,h),v&2048&&N_(h.alternate,h);break;case 24:Fd(c,h),v&2048&&O_(h.alternate,h);break;default:Fd(c,h)}l=l.sibling}}var $d=8192;function Ic(s,l,c){if(s.subtreeFlags&$d)for(s=s.child;s!==null;)LN(s,l,c),s=s.sibling}function LN(s,l,c){switch(s.tag){case 26:Ic(s,l,c),s.flags&$d&&s.memoizedState!==null&&B9(c,Fi,s.memoizedState,s.memoizedProps);break;case 5:Ic(s,l,c);break;case 3:case 4:var h=Fi;Fi=Rg(s.stateNode.containerInfo),Ic(s,l,c),Fi=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=$d,$d=16777216,Ic(s,l,c),$d=h):Ic(s,l,c));break;default:Ic(s,l,c)}}function VN(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Kd(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var h=l[c];Bn=h,BN(h,s)}VN(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)UN(s),s=s.sibling}function UN(s){switch(s.tag){case 0:case 11:case 15:Kd(s),s.flags&2048&&go(9,s,s.return);break;case 3:Kd(s);break;case 12:Kd(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,bg(s)):Kd(s);break;default:Kd(s)}}function bg(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var h=l[c];Bn=h,BN(h,s)}VN(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:go(8,l,l.return),bg(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,bg(l));break;default:bg(l)}s=s.sibling}}function BN(s,l){for(;Bn!==null;){var c=Bn;switch(c.tag){case 0:case 11:case 15:go(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Cd(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Bn=h;else e:for(c=s;Bn!==null;){h=Bn;var v=h.sibling,x=h.return;if(ON(h),h===c){Bn=null;break e}if(v!==null){v.return=x,Bn=v;break e}Bn=x}}}var t9={getCacheForType:function(s){var l=Jn(wn),c=l.data.get(s);return c===void 0&&(c=s(),l.data.set(s,c)),c},cacheSignal:function(){return Jn(wn).controller.signal}},n9=typeof WeakMap=="function"?WeakMap:Map,bt=0,jt=null,nt=null,it=0,St=0,zr=null,yo=!1,Cc=!1,P_=!1,ds=0,sn=0,vo=0,Yl=0,R_=0,qr=0,Nc=0,Hd=null,Tr=null,D_=!1,_g=0,zN=0,xg=1/0,wg=null,bo=null,Pn=0,_o=null,Oc=null,hs=0,j_=0,M_=null,qN=null,Gd=0,k_=null;function Fr(){return(bt&2)!==0&&it!==0?it&-it:W.T!==null?q_():Ep()}function FN(){if(qr===0)if((it&536870912)===0||ut){var s=wl;wl<<=1,(wl&3932160)===0&&(wl=262144),qr=s}else qr=536870912;return s=Ur.current,s!==null&&(s.flags|=32),qr}function Ir(s,l,c){(s===jt&&(St===2||St===9)||s.cancelPendingCommit!==null)&&(Pc(s,0),xo(s,it,qr,!1)),El(s,c),((bt&2)===0||s!==jt)&&(s===jt&&((bt&2)===0&&(Yl|=c),sn===4&&xo(s,it,qr,!1)),Pa(s))}function $N(s,l,c){if((bt&6)!==0)throw Error(r(327));var h=!c&&(l&127)===0&&(l&s.expiredLanes)===0||ji(s,l),v=h?a9(s,l):V_(s,l,!0),x=h;do{if(v===0){Cc&&!h&&xo(s,l,0,!1);break}else{if(c=s.current.alternate,x&&!r9(c)){v=V_(s,l,!1),x=!1;continue}if(v===2){if(x=l,s.errorRecoveryDisabledLanes&x)var O=0;else O=s.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;e:{var V=s;v=Hd;var K=V.current.memoizedState.isDehydrated;if(K&&(Pc(V,O).flags|=256),O=V_(V,O,!1),O!==2){if(P_&&!K){V.errorRecoveryDisabledLanes|=x,Yl|=x,v=4;break e}x=Tr,Tr=v,x!==null&&(Tr===null?Tr=x:Tr.push.apply(Tr,x))}v=O}if(x=!1,v!==2)continue}}if(v===1){Pc(s,0),xo(s,l,0,!0);break}e:{switch(h=s,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:xo(h,l,qr,!yo);break e;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=_g+300-wt(),10<v)){if(xo(h,l,qr,!yo),ha(h,0,!0)!==0)break e;hs=l,h.timeoutHandle=xO(KN.bind(null,h,c,Tr,wg,D_,l,qr,Yl,Nc,yo,x,"Throttled",-0,0),v);break e}KN(h,c,Tr,wg,D_,l,qr,Yl,Nc,yo,x,null,-0,0)}}break}while(!0);Pa(s)}function KN(s,l,c,h,v,x,O,V,K,J,le,fe,te,se){if(s.timeoutHandle=-1,fe=l.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Li},LN(l,x,fe);var Oe=(x&62914560)===x?_g-wt():(x&4194048)===x?zN-wt():0;if(Oe=z9(fe,Oe),Oe!==null){hs=x,s.cancelPendingCommit=Oe(JN.bind(null,s,l,x,c,h,v,O,V,K,le,fe,null,te,se)),xo(s,x,O,!J);return}}JN(s,l,x,c,h,v,O,V,K)}function r9(s){for(var l=s;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var v=c[h],x=v.getSnapshot;v=v.value;try{if(!Lr(x(),v))return!1}catch(O){return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function xo(s,l,c,h){l&=~R_,l&=~Yl,s.suspendedLanes|=l,s.pingedLanes&=~l,h&&(s.warmLanes|=l),h=s.expirationTimes;for(var v=l;0<v;){var x=31-un(v),O=1<<x;h[x]=-1,v&=~O}c!==0&&Sl(s,c,l)}function Eg(){return(bt&6)===0?(Wd(0),!1):!0}function L_(){if(nt!==null){if(St===0)var s=nt.return;else s=nt,ns=Bl=null,J0(s),xc=null,Od=0,s=nt;for(;s!==null;)wN(s.alternate,s),s=s.return;nt=null}}function Pc(s,l){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,E9(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),hs=0,L_(),jt=s,nt=c=es(s.current,null),it=l,St=0,zr=null,yo=!1,Cc=ji(s,l),P_=!1,Nc=qr=R_=Yl=vo=sn=0,Tr=Hd=null,D_=!1,(l&8)!==0&&(l|=l&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=l;0<h;){var v=31-un(h),x=1<<v;l|=s[v],h&=~x}return ds=l,$p(),c}function HN(s,l){Ye=null,W.H=Vd,l===_c||l===Zp?(l=lC(),St=3):l===z0?(l=lC(),St=4):St=l===p_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,zr=l,nt===null&&(sn=1,dg(s,pi(l,s.current)))}function GN(){var s=Ur.current;return s===null?!0:(it&4194048)===it?bi===null:(it&62914560)===it||(it&536870912)!==0?s===bi:!1}function WN(){var s=W.H;return W.H=Vd,s===null?Vd:s}function YN(){var s=W.A;return W.A=t9,s}function Sg(){sn=4,yo||(it&4194048)!==it&&Ur.current!==null||(Cc=!0),(vo&134217727)===0&&(Yl&134217727)===0||jt===null||xo(jt,it,qr,!1)}function V_(s,l,c){var h=bt;bt|=2;var v=WN(),x=YN();(jt!==s||it!==l)&&(wg=null,Pc(s,l)),l=!1;var O=sn;e:do try{if(St!==0&&nt!==null){var V=nt,K=zr;switch(St){case 8:L_(),O=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(l=!0);var J=St;if(St=0,zr=null,Rc(s,V,K,J),c&&Cc){O=0;break e}break;default:J=St,St=0,zr=null,Rc(s,V,K,J)}}i9(),O=sn;break}catch(le){HN(s,le)}while(!0);return l&&s.shellSuspendCounter++,ns=Bl=null,bt=h,W.H=v,W.A=x,nt===null&&(jt=null,it=0,$p()),O}function i9(){for(;nt!==null;)QN(nt)}function a9(s,l){var c=bt;bt|=2;var h=WN(),v=YN();jt!==s||it!==l?(wg=null,xg=wt()+500,Pc(s,l)):Cc=ji(s,l);e:do try{if(St!==0&&nt!==null){l=nt;var x=zr;t:switch(St){case 1:St=0,zr=null,Rc(s,l,x,1);break;case 2:case 9:if(sC(x)){St=0,zr=null,XN(l);break}l=function(){St!==2&&St!==9||jt!==s||(St=7),Pa(s)},x.then(l,l);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:sC(x)?(St=0,zr=null,XN(l)):(St=0,zr=null,Rc(s,l,x,7));break;case 5:var O=null;switch(nt.tag){case 26:O=nt.memoizedState;case 5:case 27:var V=nt;if(O?kO(O):V.stateNode.complete){St=0,zr=null;var K=V.sibling;if(K!==null)nt=K;else{var J=V.return;J!==null?(nt=J,Ag(J)):nt=null}break t}}St=0,zr=null,Rc(s,l,x,5);break;case 6:St=0,zr=null,Rc(s,l,x,6);break;case 8:L_(),sn=6;break e;default:throw Error(r(462))}}s9();break}catch(le){HN(s,le)}while(!0);return ns=Bl=null,W.H=h,W.A=v,bt=c,nt!==null?0:(jt=null,it=0,$p(),sn)}function s9(){for(;nt!==null&&!ca();)QN(nt)}function QN(s){var l=_N(s.alternate,s,ds);s.memoizedProps=s.pendingProps,l===null?Ag(s):nt=l}function XN(s){var l=s,c=l.alternate;switch(l.tag){case 15:case 0:l=mN(c,l,l.pendingProps,l.type,void 0,it);break;case 11:l=mN(c,l,l.pendingProps,l.type.render,l.ref,it);break;case 5:J0(l);default:wN(c,l),l=nt=YI(l,ds),l=_N(c,l,ds)}s.memoizedProps=s.pendingProps,l===null?Ag(s):nt=l}function Rc(s,l,c,h){ns=Bl=null,J0(l),xc=null,Od=0;var v=l.return;try{if(Wz(s,v,l,c,it)){sn=1,dg(s,pi(c,s.current)),nt=null;return}}catch(x){if(v!==null)throw nt=v,x;sn=1,dg(s,pi(c,s.current)),nt=null;return}l.flags&32768?(ut||h===1?s=!0:Cc||(it&536870912)!==0?s=!1:(yo=s=!0,(h===2||h===9||h===3||h===6)&&(h=Ur.current,h!==null&&h.tag===13&&(h.flags|=16384))),ZN(l,s)):Ag(l)}function Ag(s){var l=s;do{if((l.flags&32768)!==0){ZN(l,yo);return}s=l.return;var c=Xz(l.alternate,l,ds);if(c!==null){nt=c;return}if(l=l.sibling,l!==null){nt=l;return}nt=l=s}while(l!==null);sn===0&&(sn=5)}function ZN(s,l){do{var c=Zz(s.alternate,s);if(c!==null){c.flags&=32767,nt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(s=s.sibling,s!==null)){nt=s;return}nt=s=c}while(s!==null);sn=6,nt=null}function JN(s,l,c,h,v,x,O,V,K){s.cancelPendingCommit=null;do Tg();while(Pn!==0);if((bt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(x=l.lanes|l.childLanes,x|=T0,y0(s,c,x,O,V,K),s===jt&&(nt=jt=null,it=0),Oc=l,_o=s,hs=c,j_=x,M_=v,qN=h,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,c9(Qs,function(){return iO(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||h){h=W.T,W.T=null,v=oe.p,oe.p=2,O=bt,bt|=4;try{Jz(s,l,c)}finally{bt=O,oe.p=v,W.T=h}}Pn=1,eO(),tO(),nO()}}function eO(){if(Pn===1){Pn=0;var s=_o,l=Oc,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var h=oe.p;oe.p=2;var v=bt;bt|=4;try{jN(l,s);var x=Q_,O=BI(s.containerInfo),V=x.focusedElem,K=x.selectionRange;if(O!==V&&V&&V.ownerDocument&&UI(V.ownerDocument.documentElement,V)){if(K!==null&&x0(V)){var J=K.start,le=K.end;if(le===void 0&&(le=J),"selectionStart"in V)V.selectionStart=J,V.selectionEnd=Math.min(le,V.value.length);else{var fe=V.ownerDocument||document,te=fe&&fe.defaultView||window;if(te.getSelection){var se=te.getSelection(),Oe=V.textContent.length,ze=Math.min(K.start,Oe),Rt=K.end===void 0?ze:Math.min(K.end,Oe);!se.extend&&ze>Rt&&(O=Rt,Rt=ze,ze=O);var G=VI(V,ze),H=VI(V,Rt);if(G&&H&&(se.rangeCount!==1||se.anchorNode!==G.node||se.anchorOffset!==G.offset||se.focusNode!==H.node||se.focusOffset!==H.offset)){var Z=fe.createRange();Z.setStart(G.node,G.offset),se.removeAllRanges(),ze>Rt?(se.addRange(Z),se.extend(H.node,H.offset)):(Z.setEnd(H.node,H.offset),se.addRange(Z))}}}}for(fe=[],se=V;se=se.parentNode;)se.nodeType===1&&fe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<fe.length;V++){var ce=fe[V];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Vg=!!Y_,Q_=Y_=null}finally{bt=v,oe.p=h,W.T=c}}s.current=l,Pn=2}}function tO(){if(Pn===2){Pn=0;var s=_o,l=Oc,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var h=oe.p;oe.p=2;var v=bt;bt|=4;try{NN(s,l.alternate,l)}finally{bt=v,oe.p=h,W.T=c}}Pn=3}}function nO(){if(Pn===4||Pn===3){Pn=0,Wn();var s=_o,l=Oc,c=hs,h=qN;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Pn=5:(Pn=0,Oc=_o=null,rO(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(bo=null),Qa(c),l=l.stateNode,Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Di,l,void 0,(l.current.flags&128)===128)}catch(K){}if(h!==null){l=W.T,v=oe.p,oe.p=2,W.T=null;try{for(var x=s.onRecoverableError,O=0;O<h.length;O++){var V=h[O];x(V.value,{componentStack:V.stack})}}finally{W.T=l,oe.p=v}}(hs&3)!==0&&Tg(),Pa(s),v=s.pendingLanes,(c&261930)!==0&&(v&42)!==0?s===k_?Gd++:(Gd=0,k_=s):Gd=0,Wd(0)}}function rO(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Cd(l)))}function Tg(){return eO(),tO(),nO(),iO()}function iO(){if(Pn!==5)return!1;var s=_o,l=j_;j_=0;var c=Qa(hs),h=W.T,v=oe.p;try{oe.p=32>c?32:c,W.T=null,c=M_,M_=null;var x=_o,O=hs;if(Pn=0,Oc=_o=null,hs=0,(bt&6)!==0)throw Error(r(331));var V=bt;if(bt|=4,UN(x.current),kN(x,x.current,O,c),bt=V,Wd(0,!1),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Di,x)}catch(K){}return!0}finally{oe.p=v,W.T=h,rO(s,l)}}function aO(s,l,c){l=pi(c,l),l=m_(s.stateNode,l,2),s=ho(s,l,2),s!==null&&(El(s,2),Pa(s))}function At(s,l,c){if(s.tag===3)aO(s,s,c);else for(;l!==null;){if(l.tag===3){aO(l,s,c);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(bo===null||!bo.has(h))){s=pi(c,s),c=sN(2),h=ho(l,c,2),h!==null&&(oN(c,h,l,s),El(h,2),Pa(h));break}}l=l.return}}function U_(s,l,c){var h=s.pingCache;if(h===null){h=s.pingCache=new n9;var v=new Set;h.set(l,v)}else v=h.get(l),v===void 0&&(v=new Set,h.set(l,v));v.has(c)||(P_=!0,v.add(c),s=o9.bind(null,s,l,c),l.then(s,s))}function o9(s,l,c){var h=s.pingCache;h!==null&&h.delete(l),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,jt===s&&(it&c)===c&&(sn===4||sn===3&&(it&62914560)===it&&300>wt()-_g?(bt&2)===0&&Pc(s,0):R_|=c,Nc===it&&(Nc=0)),Pa(s)}function sO(s,l){l===0&&(l=wp()),s=Ll(s,l),s!==null&&(El(s,l),Pa(s))}function l9(s){var l=s.memoizedState,c=0;l!==null&&(c=l.retryLane),sO(s,c)}function u9(s,l){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(l),sO(s,c)}function c9(s,l){return yt(s,l)}var Ig=null,Dc=null,B_=!1,Cg=!1,z_=!1,wo=0;function Pa(s){s!==Dc&&s.next===null&&(Dc===null?Ig=Dc=s:Dc=Dc.next=s),Cg=!0,B_||(B_=!0,d9())}function Wd(s,l){if(!z_&&Cg){z_=!0;do for(var c=!1,h=Ig;h!==null;){if(s!==0){var v=h.pendingLanes;if(v===0)var x=0;else{var O=h.suspendedLanes,V=h.pingedLanes;x=(1<<31-un(42|s)+1)-1,x&=v&~(O&~V),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,cO(h,x))}else x=it,x=ha(h,h===jt?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||ji(h,x)||(c=!0,cO(h,x));h=h.next}while(c);z_=!1}}function f9(){oO()}function oO(){Cg=B_=!1;var s=0;wo!==0&&w9()&&(s=wo);for(var l=wt(),c=null,h=Ig;h!==null;){var v=h.next,x=lO(h,l);x===0?(h.next=null,c===null?Ig=v:c.next=v,v===null&&(Dc=c)):(c=h,(s!==0||(x&3)!==0)&&(Cg=!0)),h=v}Pn!==0&&Pn!==5||Wd(s),wo!==0&&(wo=0)}function lO(s,l){for(var c=s.suspendedLanes,h=s.pingedLanes,v=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var O=31-un(x),V=1<<O,K=v[O];K===-1?((V&c)===0||(V&h)!==0)&&(v[O]=g0(V,l)):K<=l&&(s.expiredLanes|=V),x&=~V}if(l=jt,c=it,c=ha(s,s===l?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===l&&(St===2||St===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&tn(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||ji(s,c)){if(l=c&-c,l===s.callbackPriority)return l;switch(h!==null&&tn(h),Qa(c)){case 2:case 8:c=Ys;break;case 32:c=Qs;break;case 268435456:c=yp;break;default:c=Qs}return h=uO.bind(null,s),c=yt(c,h),s.callbackPriority=l,s.callbackNode=c,l}return h!==null&&h!==null&&tn(h),s.callbackPriority=2,s.callbackNode=null,2}function uO(s,l){if(Pn!==0&&Pn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Tg()&&s.callbackNode!==c)return null;var h=it;return h=ha(s,s===jt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:($N(s,h,l),lO(s,wt()),s.callbackNode!=null&&s.callbackNode===c?uO.bind(null,s):null)}function cO(s,l){if(Tg())return null;$N(s,l,!0)}function d9(){S9(function(){(bt&6)!==0?yt(Ri,f9):oO()})}function q_(){if(wo===0){var s=vc;s===0&&(s=fa,fa<<=1,(fa&261888)===0&&(fa=256)),wo=s}return wo}function fO(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:rc(""+s)}function dO(s,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,s.id&&c.setAttribute("form",s.id),l.parentNode.insertBefore(c,l),s=new FormData(s),c.parentNode.removeChild(c),s}function h9(s,l,c,h,v){if(l==="submit"&&c&&c.stateNode===v){var x=fO((v[Vn]||null).action),O=h.submitter;O&&(l=(l=O[Vn]||null)?fO(l.formAction):O.getAttribute("formAction"),l!==null&&(x=l,O=null));var V=new Sa("action","action",null,h,v);s.push({event:V,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(wo!==0){var K=O?dO(v,O):new FormData(v);l_(c,{pending:!0,data:K,method:v.method,action:x},null,K)}}else typeof x=="function"&&(V.preventDefault(),K=O?dO(v,O):new FormData(v),l_(c,{pending:!0,data:K,method:v.method,action:x},x,K))},currentTarget:v}]})}}for(var F_=0;F_<A0.length;F_++){var $_=A0[F_],m9=$_.toLowerCase(),p9=$_[0].toUpperCase()+$_.slice(1);qi(m9,"on"+p9)}qi(FI,"onAnimationEnd"),qi($I,"onAnimationIteration"),qi(KI,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(Pz,"onTransitionRun"),qi(Rz,"onTransitionStart"),qi(Dz,"onTransitionCancel"),qi(HI,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function hO(s,l){l=(l&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],v=h.event;h=h.listeners;e:{var x=void 0;if(l)for(var O=h.length-1;0<=O;O--){var V=h[O],K=V.instance,J=V.currentTarget;if(V=V.listener,K!==x&&v.isPropagationStopped())break e;x=V,v.currentTarget=J;try{x(v)}catch(le){Fp(le)}v.currentTarget=null,x=K}else for(O=0;O<h.length;O++){if(V=h[O],K=V.instance,J=V.currentTarget,V=V.listener,K!==x&&v.isPropagationStopped())break e;x=V,v.currentTarget=J;try{x(v)}catch(le){Fp(le)}v.currentTarget=null,x=K}}}}function rt(s,l){var c=l[Zu];c===void 0&&(c=l[Zu]=new Set);var h=s+"__bubble";c.has(h)||(mO(l,s,2,!1),c.add(h))}function K_(s,l,c){var h=0;l&&(h|=4),mO(c,s,h,l)}var Ng="_reactListening"+Math.random().toString(36).slice(2);function H_(s){if(!s[Ng]){s[Ng]=!0,od.forEach(function(c){c!=="selectionchange"&&(g9.has(c)||K_(c,!1,s),K_(c,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Ng]||(l[Ng]=!0,K_("selectionchange",!1,l))}}function mO(s,l,c,h){switch(FO(l)){case 2:var v=$9;break;case 8:v=K9;break;default:v=ox}c=v.bind(null,l,c,s),v=void 0,!Nl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),h?v!==void 0?s.addEventListener(l,c,{capture:!0,passive:v}):s.addEventListener(l,c,!0):v!==void 0?s.addEventListener(l,c,{passive:v}):s.addEventListener(l,c,!1)}function G_(s,l,c,h,v){var x=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var V=h.stateNode.containerInfo;if(V===v)break;if(O===4)for(O=h.return;O!==null;){var K=O.tag;if((K===3||K===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;V!==null;){if(O=ya(V),O===null)return;if(K=O.tag,K===5||K===6||K===26||K===27){h=x=O;continue e}V=V.parentNode}}h=h.return}no(function(){var J=x,le=fi(c),fe=[];e:{var te=GI.get(s);if(te!==void 0){var se=Sa,Oe=s;switch(s){case"keypress":if(Pl(c)===0)break e;case"keydown":case"keyup":se=Bp;break;case"focusin":Oe="focus",se=Dl;break;case"focusout":Oe="blur",se=Dl;break;case"beforeblur":case"afterblur":se=Dl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=_d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=T;break;case FI:case $I:case KI:se=Dp;break;case HI:se=q;break;case"scroll":case"scrollend":se=bd;break;case"wheel":se=ie;break;case"copy":case"cut":case"paste":se=jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Ja;break;case"toggle":case"beforetoggle":se=We}var ze=(l&4)!==0,Rt=!ze&&(s==="scroll"||s==="scrollend"),G=ze?te!==null?te+"Capture":null:te;ze=[];for(var H=J,Z;H!==null;){var ce=H;if(Z=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Z===null||G===null||(ce=Vi(H,G),ce!=null&&ze.push(Qd(H,ce,Z))),Rt)break;H=H.return}0<ze.length&&(te=new se(te,Oe,null,c,le),fe.push({event:te,listeners:ze}))}}if((l&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",se=s==="mouseout"||s==="pointerout",te&&c!==gd&&(Oe=c.relatedTarget||c.fromElement)&&(ya(Oe)||Oe[pa]))break e;if((se||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,se?(Oe=c.relatedTarget||c.toElement,se=J,Oe=Oe?ya(Oe):null,Oe!==null&&(Rt=a(Oe),ze=Oe.tag,Oe!==Rt||ze!==5&&ze!==27&&ze!==6)&&(Oe=null)):(se=null,Oe=J),se!==Oe)){if(ze=_d,ce="onMouseLeave",G="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(ze=Ja,ce="onPointerLeave",G="onPointerEnter",H="pointer"),Rt=se==null?te:Mr(se),Z=Oe==null?te:Mr(Oe),te=new ze(ce,H+"leave",se,c,le),te.target=Rt,te.relatedTarget=Z,ce=null,ya(le)===J&&(ze=new ze(G,H+"enter",Oe,c,le),ze.target=Z,ze.relatedTarget=Rt,ce=ze),Rt=ce,se&&Oe)t:{for(ze=y9,G=se,H=Oe,Z=0,ce=G;ce;ce=ze(ce))Z++;ce=0;for(var Ue=H;Ue;Ue=ze(Ue))ce++;for(;0<Z-ce;)G=ze(G),Z--;for(;0<ce-Z;)H=ze(H),ce--;for(;Z--;){if(G===H||H!==null&&G===H.alternate){ze=G;break t}G=ze(G),H=ze(H)}ze=null}else ze=null;se!==null&&pO(fe,te,se,ze,!1),Oe!==null&&Rt!==null&&pO(fe,Rt,Oe,ze,!0)}}e:{if(te=J?Mr(J):window,se=te.nodeName&&te.nodeName.toLowerCase(),se==="select"||se==="input"&&te.type==="file")var ht=RI;else if(OI(te))if(DI)ht=Cz;else{ht=Tz;var Me=Az}else se=te.nodeName,!se||se.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&nc(J.elementType)&&(ht=RI):ht=Iz;if(ht&&(ht=ht(s,J))){PI(fe,ht,c,le);break e}Me&&Me(s,te,J),s==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&hd(te,"number",te.value)}switch(Me=J?Mr(J):window,s){case"focusin":(OI(Me)||Me.contentEditable==="true")&&(cc=Me,w0=J,Ad=null);break;case"focusout":Ad=w0=cc=null;break;case"mousedown":E0=!0;break;case"contextmenu":case"mouseup":case"dragend":E0=!1,zI(fe,c,le);break;case"selectionchange":if(Oz)break;case"keydown":case"keyup":zI(fe,c,le)}var Xe;if(vt)e:{switch(s){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else uc?jl(s,c)&&(at="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(at="onCompositionStart");at&&(Ia&&c.locale!=="ko"&&(uc||at!=="onCompositionStart"?at==="onCompositionEnd"&&uc&&(Xe=vd()):(Ea=le,yd="value"in Ea?Ea.value:Ea.textContent,uc=!0)),Me=Og(J,at),0<Me.length&&(at=new Ta(at,s,null,c,le),fe.push({event:at,listeners:Me}),Xe?at.data=Xe:(Xe=lc(c),Xe!==null&&(at.data=Xe)))),(Xe=hi?xz(s,c):wz(s,c))&&(at=Og(J,"onBeforeInput"),0<at.length&&(Me=new Ta("onBeforeInput","beforeinput",null,c,le),fe.push({event:Me,listeners:at}),Me.data=Xe)),h9(fe,s,J,c,le)}hO(fe,l)})}function Qd(s,l,c){return{instance:s,listener:l,currentTarget:c}}function Og(s,l){for(var c=l+"Capture",h=[];s!==null;){var v=s,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Vi(s,c),v!=null&&h.unshift(Qd(s,v,x)),v=Vi(s,l),v!=null&&h.push(Qd(s,v,x))),s.tag===3)return h;s=s.return}return[]}function y9(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function pO(s,l,c,h,v){for(var x=l._reactName,O=[];c!==null&&c!==h;){var V=c,K=V.alternate,J=V.stateNode;if(V=V.tag,K!==null&&K===h)break;V!==5&&V!==26&&V!==27||J===null||(K=J,v?(J=Vi(c,x),J!=null&&O.unshift(Qd(c,J,K))):v||(J=Vi(c,x),J!=null&&O.push(Qd(c,J,K)))),c=c.return}O.length!==0&&s.push({event:l,listeners:O})}var v9=/\r\n?/g,b9=/\u0000|\uFFFD/g;function gO(s){return(typeof s=="string"?s:""+s).replace(v9,`
`).replace(b9,"")}function yO(s,l){return l=gO(l),gO(s)===l}function Pt(s,l,c,h,v,x){switch(c){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||wr(s,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&wr(s,""+h);break;case"className":kr(s,"class",h);break;case"tabIndex":kr(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(s,c,h);break;case"style":pd(s,h,x);break;case"data":if(l!=="object"){kr(s,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=rc(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(l!=="input"&&Pt(s,l,"name",v.name,v,null),Pt(s,l,"formEncType",v.formEncType,v,null),Pt(s,l,"formMethod",v.formMethod,v,null),Pt(s,l,"formTarget",v.formTarget,v,null)):(Pt(s,l,"encType",v.encType,v,null),Pt(s,l,"method",v.method,v,null),Pt(s,l,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=rc(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=Li);break;case"onScroll":h!=null&&rt("scroll",s);break;case"onScrollEnd":h!=null&&rt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=rc(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":rt("beforetoggle",s),rt("toggle",s),ec(s,"popover",h);break;case"xlinkActuate":xn(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":xn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":xn(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":xn(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":xn(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":xn(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":xn(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":xn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":xn(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ec(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Op.get(c)||c,ec(s,c,h))}}function W_(s,l,c,h,v,x){switch(c){case"style":pd(s,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof h=="string"?wr(s,h):(typeof h=="number"||typeof h=="bigint")&&wr(s,""+h);break;case"onScroll":h!=null&&rt("scroll",s);break;case"onScrollEnd":h!=null&&rt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ld.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),l=c.slice(2,v?c.length-7:void 0),x=s[Vn]||null,x=x!=null?x[c]:null,typeof x=="function"&&s.removeEventListener(l,x,v),typeof h=="function")){typeof x!="function"&&x!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(l,h,v);break e}c in s?s[c]=h:h===!0?s.setAttribute(c,""):ec(s,c,h)}}}function tr(s,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",s),rt("load",s);var h=!1,v=!1,x;for(x in c)if(c.hasOwnProperty(x)){var O=c[x];if(O!=null)switch(x){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Pt(s,l,x,O,c,null)}}v&&Pt(s,l,"srcSet",c.srcSet,c,null),h&&Pt(s,l,"src",c.src,c,null);return;case"input":rt("invalid",s);var V=x=O=v=null,K=null,J=null;for(h in c)if(c.hasOwnProperty(h)){var le=c[h];if(le!=null)switch(h){case"name":v=le;break;case"type":O=le;break;case"checked":K=le;break;case"defaultChecked":J=le;break;case"value":x=le;break;case"defaultValue":V=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:Pt(s,l,h,le,c,null)}}Ip(s,x,V,K,J,O,v,!1);return;case"select":rt("invalid",s),h=O=x=null;for(v in c)if(c.hasOwnProperty(v)&&(V=c[v],V!=null))switch(v){case"value":x=V;break;case"defaultValue":O=V;break;case"multiple":h=V;default:Pt(s,l,v,V,c,null)}l=x,c=O,s.multiple=!!h,l!=null?Zs(s,!!h,l,!1):c!=null&&Zs(s,!!h,c,!0);return;case"textarea":rt("invalid",s),x=v=h=null;for(O in c)if(c.hasOwnProperty(O)&&(V=c[O],V!=null))switch(O){case"value":h=V;break;case"defaultValue":v=V;break;case"children":x=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:Pt(s,l,O,V,c,null)}Js(s,h,v,x);return;case"option":for(K in c)if(c.hasOwnProperty(K)&&(h=c[K],h!=null))switch(K){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Pt(s,l,K,h,c,null)}return;case"dialog":rt("beforetoggle",s),rt("toggle",s),rt("cancel",s),rt("close",s);break;case"iframe":case"object":rt("load",s);break;case"video":case"audio":for(h=0;h<Yd.length;h++)rt(Yd[h],s);break;case"image":rt("error",s),rt("load",s);break;case"details":rt("toggle",s);break;case"embed":case"source":case"link":rt("error",s),rt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(h=c[J],h!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Pt(s,l,J,h,c,null)}return;default:if(nc(l)){for(le in c)c.hasOwnProperty(le)&&(h=c[le],h!==void 0&&W_(s,l,le,h,c,void 0));return}}for(V in c)c.hasOwnProperty(V)&&(h=c[V],h!=null&&Pt(s,l,V,h,c,null))}function _9(s,l,c,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,O=null,V=null,K=null,J=null,le=null;for(se in c){var fe=c[se];if(c.hasOwnProperty(se)&&fe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":K=fe;default:h.hasOwnProperty(se)||Pt(s,l,se,null,h,fe)}}for(var te in h){var se=h[te];if(fe=c[te],h.hasOwnProperty(te)&&(se!=null||fe!=null))switch(te){case"type":x=se;break;case"name":v=se;break;case"checked":J=se;break;case"defaultChecked":le=se;break;case"value":O=se;break;case"defaultValue":V=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,l));break;default:se!==fe&&Pt(s,l,te,se,h,fe)}}tc(s,O,V,K,J,le,x,v);return;case"select":se=O=V=te=null;for(x in c)if(K=c[x],c.hasOwnProperty(x)&&K!=null)switch(x){case"value":break;case"multiple":se=K;default:h.hasOwnProperty(x)||Pt(s,l,x,null,h,K)}for(v in h)if(x=h[v],K=c[v],h.hasOwnProperty(v)&&(x!=null||K!=null))switch(v){case"value":te=x;break;case"defaultValue":V=x;break;case"multiple":O=x;default:x!==K&&Pt(s,l,v,x,h,K)}l=V,c=O,h=se,te!=null?Zs(s,!!c,te,!1):!!h!=!!c&&(l!=null?Zs(s,!!c,l,!0):Zs(s,!!c,c?[]:"",!1));return;case"textarea":se=te=null;for(V in c)if(v=c[V],c.hasOwnProperty(V)&&v!=null&&!h.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Pt(s,l,V,null,h,v)}for(O in h)if(v=h[O],x=c[O],h.hasOwnProperty(O)&&(v!=null||x!=null))switch(O){case"value":te=v;break;case"defaultValue":se=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&Pt(s,l,O,v,h,x)}Cp(s,te,se);return;case"option":for(var Oe in c)if(te=c[Oe],c.hasOwnProperty(Oe)&&te!=null&&!h.hasOwnProperty(Oe))switch(Oe){case"selected":s.selected=!1;break;default:Pt(s,l,Oe,null,h,te)}for(K in h)if(te=h[K],se=c[K],h.hasOwnProperty(K)&&te!==se&&(te!=null||se!=null))switch(K){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Pt(s,l,K,te,h,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in c)te=c[ze],c.hasOwnProperty(ze)&&te!=null&&!h.hasOwnProperty(ze)&&Pt(s,l,ze,null,h,te);for(J in h)if(te=h[J],se=c[J],h.hasOwnProperty(J)&&te!==se&&(te!=null||se!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:Pt(s,l,J,te,h,se)}return;default:if(nc(l)){for(var Rt in c)te=c[Rt],c.hasOwnProperty(Rt)&&te!==void 0&&!h.hasOwnProperty(Rt)&&W_(s,l,Rt,void 0,h,te);for(le in h)te=h[le],se=c[le],!h.hasOwnProperty(le)||te===se||te===void 0&&se===void 0||W_(s,l,le,te,h,se);return}}for(var G in c)te=c[G],c.hasOwnProperty(G)&&te!=null&&!h.hasOwnProperty(G)&&Pt(s,l,G,null,h,te);for(fe in h)te=h[fe],se=c[fe],!h.hasOwnProperty(fe)||te===se||te==null&&se==null||Pt(s,l,fe,te,h,se)}function vO(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x9(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var v=c[h],x=v.transferSize,O=v.initiatorType,V=v.duration;if(x&&V&&vO(O)){for(O=0,V=v.responseEnd,h+=1;h<c.length;h++){var K=c[h],J=K.startTime;if(J>V)break;var le=K.transferSize,fe=K.initiatorType;le&&vO(fe)&&(K=K.responseEnd,O+=le*(K<V?1:(V-J)/(K-J)))}if(--h,l+=8*(x+O)/(v.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Y_=null,Q_=null;function Pg(s){return s.nodeType===9?s:s.ownerDocument}function bO(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _O(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function X_(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Z_=null;function w9(){var s=window.event;return s&&s.type==="popstate"?s===Z_?!1:(Z_=s,!0):(Z_=null,!1)}var xO=typeof setTimeout=="function"?setTimeout:void 0,E9=typeof clearTimeout=="function"?clearTimeout:void 0,wO=typeof Promise=="function"?Promise:void 0,S9=typeof queueMicrotask=="function"?queueMicrotask:typeof wO!="undefined"?function(s){return wO.resolve(null).then(s).catch(A9)}:xO;function A9(s){setTimeout(function(){throw s})}function Eo(s){return s==="head"}function EO(s,l){var c=l,h=0;do{var v=c.nextSibling;if(s.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(v),Lc(l);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Xd(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,Xd(c);for(var x=c.firstChild;x;){var O=x.nextSibling,V=x.nodeName;x[ga]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=O}}else c==="body"&&Xd(s.ownerDocument.body);c=v}while(c);Lc(l)}function SO(s,l){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?l?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(l?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function J_(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":J_(c),Ju(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function T9(s,l,c,h){for(;s.nodeType===1;){var v=c;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[ga])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=_i(s.nextSibling),s===null)break}return null}function I9(s,l,c){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=_i(s.nextSibling),s===null))return null;return s}function AO(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=_i(s.nextSibling),s===null))return null;return s}function ex(s){return s.data==="$?"||s.data==="$~"}function tx(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function C9(s,l){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||c.readyState!=="loading")l();else{var h=function(){l(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function _i(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var nx=null;function TO(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(l===0)return _i(s.nextSibling);l--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||l++}s=s.nextSibling}return null}function IO(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(l===0)return s;l--}else c!=="/$"&&c!=="/&"||l++}s=s.previousSibling}return null}function CO(s,l,c){switch(l=Pg(c),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Xd(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Ju(s)}var xi=new Map,NO=new Set;function Rg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ms=oe.d;oe.d={f:N9,r:O9,D:P9,C:R9,L:D9,m:j9,X:k9,S:M9,M:L9};function N9(){var s=ms.f(),l=Eg();return s||l}function O9(s){var l=ci(s);l!==null&&l.tag===5&&l.type==="form"?HC(l):ms.r(s)}var jc=typeof document=="undefined"?null:document;function OO(s,l,c){var h=jc;if(h&&typeof l=="string"&&l){var v=xr(l);v='link[rel="'+s+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),NO.has(v)||(NO.add(v),s={rel:s,crossOrigin:c,href:l},h.querySelector(v)===null&&(l=h.createElement("link"),tr(l,"link",s),_n(l),h.head.appendChild(l)))}}function P9(s){ms.D(s),OO("dns-prefetch",s,null)}function R9(s,l){ms.C(s,l),OO("preconnect",s,l)}function D9(s,l,c){ms.L(s,l,c);var h=jc;if(h&&s&&l){var v='link[rel="preload"][as="'+xr(l)+'"]';l==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+xr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+xr(c.imageSizes)+'"]')):v+='[href="'+xr(s)+'"]';var x=v;switch(l){case"style":x=Mc(s);break;case"script":x=kc(s)}xi.has(x)||(s=p({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:s,as:l},c),xi.set(x,s),h.querySelector(v)!==null||l==="style"&&h.querySelector(Zd(x))||l==="script"&&h.querySelector(Jd(x))||(l=h.createElement("link"),tr(l,"link",s),_n(l),h.head.appendChild(l)))}}function j9(s,l){ms.m(s,l);var c=jc;if(c&&s){var h=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+xr(h)+'"][href="'+xr(s)+'"]',x=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=kc(s)}if(!xi.has(x)&&(s=p({rel:"modulepreload",href:s},l),xi.set(x,s),c.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Jd(x)))return}h=c.createElement("link"),tr(h,"link",s),_n(h),c.head.appendChild(h)}}}function M9(s,l,c){ms.S(s,l,c);var h=jc;if(h&&s){var v=va(h).hoistableStyles,x=Mc(s);l=l||"default";var O=v.get(x);if(!O){var V={loading:0,preload:null};if(O=h.querySelector(Zd(x)))V.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":l},c),(c=xi.get(x))&&rx(s,c);var K=O=h.createElement("link");_n(K),tr(K,"link",s),K._p=new Promise(function(J,le){K.onload=J,K.onerror=le}),K.addEventListener("load",function(){V.loading|=1}),K.addEventListener("error",function(){V.loading|=2}),V.loading|=4,Dg(O,l,h)}O={type:"stylesheet",instance:O,count:1,state:V},v.set(x,O)}}}function k9(s,l){ms.X(s,l);var c=jc;if(c&&s){var h=va(c).hoistableScripts,v=kc(s),x=h.get(v);x||(x=c.querySelector(Jd(v)),x||(s=p({src:s,async:!0},l),(l=xi.get(v))&&ix(s,l),x=c.createElement("script"),_n(x),tr(x,"link",s),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function L9(s,l){ms.M(s,l);var c=jc;if(c&&s){var h=va(c).hoistableScripts,v=kc(s),x=h.get(v);x||(x=c.querySelector(Jd(v)),x||(s=p({src:s,async:!0,type:"module"},l),(l=xi.get(v))&&ix(s,l),x=c.createElement("script"),_n(x),tr(x,"link",s),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function PO(s,l,c,h){var v=(v=Ae.current)?Rg(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=Mc(c.href),c=va(v).hoistableStyles,h=c.get(l),h||(h={type:"style",instance:null,count:0,state:null},c.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Mc(c.href);var x=va(v).hoistableStyles,O=x.get(s);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,O),(x=v.querySelector(Zd(s)))&&!x._p&&(O.instance=x,O.state.loading=5),xi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},xi.set(s,c),x||V9(v,s,c,O.state))),l&&h===null)throw Error(r(528,""));return O}if(l&&h!==null)throw Error(r(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=kc(c),c=va(v).hoistableScripts,h=c.get(l),h||(h={type:"script",instance:null,count:0,state:null},c.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Mc(s){return'href="'+xr(s)+'"'}function Zd(s){return'link[rel="stylesheet"]['+s+"]"}function RO(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function V9(s,l,c,h){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=s.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),tr(l,"link",c),_n(l),s.head.appendChild(l))}function kc(s){return'[src="'+xr(s)+'"]'}function Jd(s){return"script[async]"+s}function DO(s,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var h=s.querySelector('style[data-href~="'+xr(c.href)+'"]');if(h)return l.instance=h,_n(h),h;var v=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),_n(h),tr(h,"style",v),Dg(h,c.precedence,s),l.instance=h;case"stylesheet":v=Mc(c.href);var x=s.querySelector(Zd(v));if(x)return l.state.loading|=4,l.instance=x,_n(x),x;h=RO(c),(v=xi.get(v))&&rx(h,v),x=(s.ownerDocument||s).createElement("link"),_n(x);var O=x;return O._p=new Promise(function(V,K){O.onload=V,O.onerror=K}),tr(x,"link",h),l.state.loading|=4,Dg(x,c.precedence,s),l.instance=x;case"script":return x=kc(c.src),(v=s.querySelector(Jd(x)))?(l.instance=v,_n(v),v):(h=c,(v=xi.get(x))&&(h=p({},c),ix(h,v)),s=s.ownerDocument||s,v=s.createElement("script"),_n(v),tr(v,"link",h),s.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,Dg(h,c.precedence,s));return l.instance}function Dg(s,l,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,x=v,O=0;O<h.length;O++){var V=h[O];if(V.dataset.precedence===l)x=V;else if(x!==v)break}x?x.parentNode.insertBefore(s,x.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(s,l.firstChild))}function rx(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function ix(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var jg=null;function jO(s,l,c){if(jg===null){var h=new Map,v=jg=new Map;v.set(c,h)}else v=jg,h=v.get(c),h||(h=new Map,v.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),v=0;v<c.length;v++){var x=c[v];if(!(x[ga]||x[bn]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var O=x.getAttribute(l)||"";O=s+O;var V=h.get(O);V?V.push(x):h.set(O,[x])}}return h}function MO(s,l,c){s=s.ownerDocument||s,s.head.insertBefore(c,l==="title"?s.querySelector("head > title"):null)}function U9(s,l,c){if(c===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function kO(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function B9(s,l,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=Mc(h.href),x=l.querySelector(Zd(v));if(x){l=x._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Mg.bind(s),l.then(s,s)),c.state.loading|=4,c.instance=x,_n(x);return}x=l.ownerDocument||l,h=RO(h),(v=xi.get(v))&&rx(h,v),x=x.createElement("link"),_n(x);var O=x;O._p=new Promise(function(V,K){O.onload=V,O.onerror=K}),tr(x,"link",h),c.instance=x}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=Mg.bind(s),l.addEventListener("load",c),l.addEventListener("error",c))}}var ax=0;function z9(s,l){return s.stylesheets&&s.count===0&&Lg(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&Lg(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4+l);0<s.imgBytes&&ax===0&&(ax=62500*x9());var v=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Lg(s,s.stylesheets),s.unsuspend)){var x=s.unsuspend;s.unsuspend=null,x()}},(s.imgBytes>ax?50:800)+l);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function Mg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var kg=null;function Lg(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,kg=new Map,l.forEach(q9,s),kg=null,Mg.call(s))}function q9(s,l){if(!(l.state.loading&4)){var c=kg.get(s);if(c)var h=c.get(null);else{c=new Map,kg.set(s,c);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var O=v[x];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),h=O)}h&&c.set(null,h)}v=l.instance,O=v.getAttribute("data-precedence"),x=c.get(O)||h,x===h&&c.set(null,v),c.set(O,v),this.count++,h=Mg.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),x?x.parentNode.insertBefore(v,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),l.state.loading|=4}}var eh={$$typeof:P,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function F9(s,l,c,h,v,x,O,V,K){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.hiddenUpdates=ma(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function LO(s,l,c,h,v,x,O,V,K,J,le,fe){return s=new F9(s,l,c,O,K,J,le,fe,V),l=1,x===!0&&(l|=24),x=Vr(3,null,null,l),s.current=x,x.stateNode=s,l=V0(),l.refCount++,s.pooledCache=l,l.refCount++,x.memoizedState={element:h,isDehydrated:c,cache:l},q0(x),s}function VO(s){return s?(s=hc,s):hc}function UO(s,l,c,h,v,x){v=VO(v),h.context===null?h.context=v:h.pendingContext=v,h=fo(l),h.payload={element:c},x=x===void 0?null:x,x!==null&&(h.callback=x),c=ho(s,h,l),c!==null&&(Ir(c,s,l),Rd(c,s,l))}function BO(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<l?c:l}}function sx(s,l){BO(s,l),(s=s.alternate)&&BO(s,l)}function zO(s){if(s.tag===13||s.tag===31){var l=Ll(s,67108864);l!==null&&Ir(l,s,67108864),sx(s,67108864)}}function qO(s){if(s.tag===13||s.tag===31){var l=Fr();l=Al(l);var c=Ll(s,l);c!==null&&Ir(c,s,l),sx(s,l)}}var Vg=!0;function $9(s,l,c,h){var v=W.T;W.T=null;var x=oe.p;try{oe.p=2,ox(s,l,c,h)}finally{oe.p=x,W.T=v}}function K9(s,l,c,h){var v=W.T;W.T=null;var x=oe.p;try{oe.p=8,ox(s,l,c,h)}finally{oe.p=x,W.T=v}}function ox(s,l,c,h){if(Vg){var v=lx(h);if(v===null)G_(s,l,h,Ug,c),$O(s,h);else if(G9(v,s,l,c,h))h.stopPropagation();else if($O(s,h),l&4&&-1<H9.indexOf(s)){for(;v!==null;){var x=ci(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var O=da(x.pendingLanes);if(O!==0){var V=x;for(V.pendingLanes|=2,V.entangledLanes|=2;O;){var K=1<<31-un(O);V.entanglements[1]|=K,O&=~K}Pa(x),(bt&6)===0&&(xg=wt()+500,Wd(0))}}break;case 31:case 13:V=Ll(x,2),V!==null&&Ir(V,x,2),Eg(),sx(x,2)}if(x=lx(h),x===null&&G_(s,l,h,Ug,c),x===v)break;v=x}v!==null&&h.stopPropagation()}else G_(s,l,h,null,c)}}function lx(s){return s=fi(s),ux(s)}var Ug=null;function ux(s){if(Ug=null,s=ya(s),s!==null){var l=a(s);if(l===null)s=null;else{var c=l.tag;if(c===13){if(s=o(l),s!==null)return s;s=null}else if(c===31){if(s=u(l),s!==null)return s;s=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Ug=s,null}function FO(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yn()){case Ri:return 2;case Ys:return 8;case Qs:case p0:return 32;case yp:return 268435456;default:return 32}default:return 32}}var cx=!1,So=null,Ao=null,To=null,th=new Map,nh=new Map,Io=[],H9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $O(s,l){switch(s){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":th.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":nh.delete(l.pointerId)}}function rh(s,l,c,h,v,x){return s===null||s.nativeEvent!==x?(s={blockedOn:l,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[v]},l!==null&&(l=ci(l),l!==null&&zO(l)),s):(s.eventSystemFlags|=h,l=s.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),s)}function G9(s,l,c,h,v){switch(l){case"focusin":return So=rh(So,s,l,c,h,v),!0;case"dragenter":return Ao=rh(Ao,s,l,c,h,v),!0;case"mouseover":return To=rh(To,s,l,c,h,v),!0;case"pointerover":var x=v.pointerId;return th.set(x,rh(th.get(x)||null,s,l,c,h,v)),!0;case"gotpointercapture":return x=v.pointerId,nh.set(x,rh(nh.get(x)||null,s,l,c,h,v)),!0}return!1}function KO(s){var l=ya(s.target);if(l!==null){var c=a(l);if(c!==null){if(l=c.tag,l===13){if(l=o(c),l!==null){s.blockedOn=l,Mi(s.priority,function(){qO(c)});return}}else if(l===31){if(l=u(c),l!==null){s.blockedOn=l,Mi(s.priority,function(){qO(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Bg(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var c=lx(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);gd=h,c.target.dispatchEvent(h),gd=null}else return l=ci(c),l!==null&&zO(l),s.blockedOn=c,!1;l.shift()}return!0}function HO(s,l,c){Bg(s)&&c.delete(l)}function W9(){cx=!1,So!==null&&Bg(So)&&(So=null),Ao!==null&&Bg(Ao)&&(Ao=null),To!==null&&Bg(To)&&(To=null),th.forEach(HO),nh.forEach(HO)}function zg(s,l){s.blockedOn===l&&(s.blockedOn=null,cx||(cx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,W9)))}var qg=null;function GO(s){qg!==s&&(qg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qg===s&&(qg=null);for(var l=0;l<s.length;l+=3){var c=s[l],h=s[l+1],v=s[l+2];if(typeof h!="function"){if(ux(h||c)===null)continue;break}var x=ci(c);x!==null&&(s.splice(l,3),l-=3,l_(x,{pending:!0,data:v,method:c.method,action:h},h,v))}}))}function Lc(s){function l(K){return zg(K,s)}So!==null&&zg(So,s),Ao!==null&&zg(Ao,s),To!==null&&zg(To,s),th.forEach(l),nh.forEach(l);for(var c=0;c<Io.length;c++){var h=Io[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Io.length&&(c=Io[0],c.blockedOn===null);)KO(c),c.blockedOn===null&&Io.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var v=c[h],x=c[h+1],O=v[Vn]||null;if(typeof x=="function")O||GO(c);else if(O){var V=null;if(x&&x.hasAttribute("formAction")){if(v=x,O=x[Vn]||null)V=O.formAction;else if(ux(v)!==null)continue}else V=O.action;typeof V=="function"?c[h+1]=V:(c.splice(h,3),h-=3),GO(c)}}}function WO(){function s(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function fx(s){this._internalRoot=s}Fg.prototype.render=fx.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var c=l.current,h=Fr();UO(c,h,s,l,null,null)},Fg.prototype.unmount=fx.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;UO(s.current,2,null,s,null,null),Eg(),l[pa]=null}};function Fg(s){this._internalRoot=s}Fg.prototype.unstable_scheduleHydration=function(s){if(s){var l=Ep();s={blockedOn:null,target:s,priority:l};for(var c=0;c<Io.length&&l!==0&&l<Io[c].priority;c++);Io.splice(c,0,s),c===0&&KO(s)}};var YO=e.version;if(YO!=="19.2.0")throw Error(r(527,YO,"19.2.0"));oe.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(l),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var Y9={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var $g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$g.isDisabled&&$g.supportsFiber)try{Di=$g.inject(Y9),Qn=$g}catch(s){}}return ah.createRoot=function(s,l){if(!i(s))throw Error(r(299));var c=!1,h="",v=nN,x=rN,O=iN;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),l=LO(s,1,!1,null,null,c,h,null,v,x,O,WO),s[pa]=l.current,H_(s),new fx(l)},ah.hydrateRoot=function(s,l,c){if(!i(s))throw Error(r(299));var h=!1,v="",x=nN,O=rN,V=iN,K=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(V=c.onRecoverableError),c.formState!==void 0&&(K=c.formState)),l=LO(s,1,!0,l,c!=null?c:null,h,v,K,x,O,V,WO),l.context=VO(null),c=l.current,h=Fr(),h=Al(h),v=fo(h),v.callback=null,ho(c,v,h),c=h,l.current.lanes=c,El(l,c),Pa(l),s[pa]=l.current,H_(s),new Fg(l)},ah.version="19.2.0",ah}var aP;function lq(){if(aP)return px.exports;aP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),px.exports=oq(),px.exports}var uq=lq();const cq=Ka(uq);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sP="popstate";function fq(t={}){function e(r,i){let{pathname:a,search:o,hash:u}=r.location;return EE("",{pathname:a,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wh(i)}return hq(e,n,null,t)}function Xt(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function ia(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function dq(){return Math.random().toString(36).substring(2,10)}function oP(t,e){return{usr:t.state,key:t.key,idx:e}}function EE(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Lf(e):e,state:n,key:e&&e.key||r||dq()}}function Wh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function hq(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,u="POP",f=null,d=m();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function m(){return(o.state||{idx:null}).idx}function p(){u="POP";let S=m(),I=S==null?null:S-d;d=S,f&&f({action:u,location:w.location,delta:I})}function y(S,I){u="PUSH";let N=EE(w.location,S,I);d=m()+1;let P=oP(N,d),k=w.createHref(N);try{o.pushState(P,"",k)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(k)}a&&f&&f({action:u,location:w.location,delta:1})}function b(S,I){u="REPLACE";let N=EE(w.location,S,I);d=m();let P=oP(N,d),k=w.createHref(N);o.replaceState(P,"",k),a&&f&&f({action:u,location:w.location,delta:0})}function A(S){return mq(S)}let w={get action(){return u},get location(){return t(i,o)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(sP,p),f=S,()=>{i.removeEventListener(sP,p),f=null}},createHref(S){return e(i,S)},createURL:A,encodeLocation(S){let I=A(S);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:y,replace:b,go(S){return o.go(S)}};return w}function mq(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Wh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Pk(t,e,n="/"){return pq(t,e,n,!1)}function pq(t,e,n,r){let i=typeof e=="string"?Lf(e):e,a=Ps(i.pathname||"/",n);if(a==null)return null;let o=Rk(t);gq(o);let u=null;for(let f=0;u==null&&f<o.length;++f){let d=Iq(a);u=Aq(o[f],d,r)}return u}function Rk(t,e=[],n=[],r="",i=!1){let a=(o,u,f=i,d)=>{let m={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&f)return;Xt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=Es([r,m.relativePath]),y=n.concat(m);o.children&&o.children.length>0&&(Xt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Rk(o.children,e,y,p,f)),!(o.path==null&&!o.index)&&e.push({path:p,score:Eq(p,o.index),routesMeta:y})};return t.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))a(o,u);else for(let d of Dk(o.path))a(o,u,!0,d)}),e}function Dk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=Dk(r.join("/")),u=[];return u.push(...o.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...o),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function gq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Sq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var yq=/^:[\w-]+$/,vq=3,bq=2,_q=1,xq=10,wq=-2,lP=t=>t==="*";function Eq(t,e){let n=t.split("/"),r=n.length;return n.some(lP)&&(r+=wq),e&&(r+=bq),n.filter(i=>!lP(i)).reduce((i,a)=>i+(yq.test(a)?vq:a===""?_q:xq),r)}function Sq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Aq(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let u=0;u<r.length;++u){let f=r[u],d=u===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",p=Vy({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),y=f.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Vy({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Es([a,p.pathname]),pathnameBase:Pq(Es([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=Es([a,p.pathnameBase]))}return o}function Vy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Tq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:m,isOptional:p},y)=>{if(m==="*"){let A=u[y]||"";o=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const b=u[y];return p&&!b?d[m]=void 0:d[m]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function Tq(t,e=!1,n=!0){ia(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Iq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ia(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ps(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Cq(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Lf(t):t;return{pathname:n?n.startsWith("/")?n:Nq(n,e):e,search:Rq(r),hash:Dq(i)}}function Nq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bx(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Oq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iA(t){let e=Oq(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function aA(t,e,n,r=!1){let i;typeof t=="string"?i=Lf(t):(i={...t},Xt(!i.pathname||!i.pathname.includes("?"),bx("?","pathname","search",i)),Xt(!i.pathname||!i.pathname.includes("#"),bx("#","pathname","hash",i)),Xt(!i.search||!i.search.includes("#"),bx("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,u;if(o==null)u=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}u=p>=0?e[p]:"/"}let f=Cq(i,u),d=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var Es=t=>t.join("/").replace(/\/\/+/g,"/"),Pq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Dq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var jk=["POST","PUT","PATCH","DELETE"];new Set(jk);var Mq=["GET",...jk];new Set(Mq);var Vf=E.createContext(null);Vf.displayName="DataRouter";var Jv=E.createContext(null);Jv.displayName="DataRouterState";E.createContext(!1);var Mk=E.createContext({isTransitioning:!1});Mk.displayName="ViewTransition";var kq=E.createContext(new Map);kq.displayName="Fetchers";var Lq=E.createContext(null);Lq.displayName="Await";var sa=E.createContext(null);sa.displayName="Navigation";var Cm=E.createContext(null);Cm.displayName="Location";var oa=E.createContext({outlet:null,matches:[],isDataRoute:!1});oa.displayName="Route";var sA=E.createContext(null);sA.displayName="RouteError";function Vq(t,{relative:e}={}){Xt(Uf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(sa),{hash:i,pathname:a,search:o}=Om(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Es([n,a])),r.createHref({pathname:u,search:o,hash:i})}function Uf(){return E.useContext(Cm)!=null}function Ha(){return Xt(Uf(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Cm).location}var kk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lk(t){E.useContext(sa).static||E.useLayoutEffect(t)}function Nm(){let{isDataRoute:t}=E.useContext(oa);return t?Jq():Uq()}function Uq(){Xt(Uf(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Vf),{basename:e,navigator:n}=E.useContext(sa),{matches:r}=E.useContext(oa),{pathname:i}=Ha(),a=JSON.stringify(iA(r)),o=E.useRef(!1);return Lk(()=>{o.current=!0}),E.useCallback((f,d={})=>{if(ia(o.current,kk),!o.current)return;if(typeof f=="number"){n.go(f);return}let m=aA(f,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Es([e,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[e,n,a,i,t])}var Bq=E.createContext(null);function zq(t){let e=E.useContext(oa).outlet;return E.useMemo(()=>e&&E.createElement(Bq.Provider,{value:t},e),[e,t])}function Om(t,{relative:e}={}){let{matches:n}=E.useContext(oa),{pathname:r}=Ha(),i=JSON.stringify(iA(n));return E.useMemo(()=>aA(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function qq(t,e){return Vk(t,e)}function Vk(t,e,n,r,i){var N;Xt(Uf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(sa),{matches:o}=E.useContext(oa),u=o[o.length-1],f=u?u.params:{},d=u?u.pathname:"/",m=u?u.pathnameBase:"/",p=u&&u.route;{let P=p&&p.path||"";Uk(d,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=Ha(),b;if(e){let P=typeof e=="string"?Lf(e):e;Xt(m==="/"||((N=P.pathname)==null?void 0:N.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=y;let A=b.pathname||"/",w=A;if(m!=="/"){let P=m.replace(/^\//,"").split("/");w="/"+A.replace(/^\//,"").split("/").slice(P.length).join("/")}let S=Pk(t,{pathname:w});ia(p||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ia(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=Gq(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:Es([m,a.encodeLocation?a.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:Es([m,a.encodeLocation?a.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),o,n,r,i);return e&&I?E.createElement(Cm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},I):I}function Fq(){let t=Zq(),e=jq(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,o)}var $q=E.createElement(Fq,null),Kq=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(oa.Provider,{value:this.props.routeContext},E.createElement(sA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hq({routeContext:t,match:e,children:n}){let r=E.useContext(Vf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(oa.Provider,{value:t},n)}function Gq(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let d=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Xt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,f=-1;if(n)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=d),m.route.id){let{loaderData:p,errors:y}=n,b=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((d,m,p)=>{let y,b=!1,A=null,w=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,A=m.route.errorElement||$q,u&&(f<0&&p===0?(Uk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):f===p&&(b=!0,w=m.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,p+1)),I=()=>{let N;return y?N=A:b?N=w:m.route.Component?N=E.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=d,E.createElement(Hq,{match:m,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?E.createElement(Kq,{location:n.location,revalidation:n.revalidation,component:A,error:y,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):I()},null)}function oA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wq(t){let e=E.useContext(Vf);return Xt(e,oA(t)),e}function Yq(t){let e=E.useContext(Jv);return Xt(e,oA(t)),e}function Qq(t){let e=E.useContext(oa);return Xt(e,oA(t)),e}function lA(t){let e=Qq(t),n=e.matches[e.matches.length-1];return Xt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Xq(){return lA("useRouteId")}function Zq(){var r;let t=E.useContext(sA),e=Yq("useRouteError"),n=lA("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Jq(){let{router:t}=Wq("useNavigate"),e=lA("useNavigate"),n=E.useRef(!1);return Lk(()=>{n.current=!0}),E.useCallback(async(i,a={})=>{ia(n.current,kk),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var uP={};function Uk(t,e,n){!e&&!uP[t]&&(uP[t]=!0,ia(!1,n))}E.memo(eF);function eF({routes:t,future:e,state:n,unstable_onError:r}){return Vk(t,void 0,n,r,e)}function zo({to:t,replace:e,state:n,relative:r}){Xt(Uf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(sa);ia(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext(oa),{pathname:o}=Ha(),u=Nm(),f=aA(t,iA(a),o,r==="path"),d=JSON.stringify(f);return E.useEffect(()=>{u(JSON.parse(d),{replace:e,state:n,relative:r})},[u,d,r,e,n]),null}function uA(t){return zq(t.context)}function xt(t){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tF({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Xt(!Uf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=Lf(n));let{pathname:f="/",search:d="",hash:m="",state:p=null,key:y="default"}=n,b=E.useMemo(()=>{let A=Ps(f,o);return A==null?null:{location:{pathname:A,search:d,hash:m,state:p,key:y},navigationType:r}},[o,f,d,m,p,y,r]);return ia(b!=null,`<Router basename="${o}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:E.createElement(sa.Provider,{value:u},E.createElement(Cm.Provider,{children:e,value:b}))}function nF({children:t,location:e}){return qq(SE(t),e)}function SE(t,e=[]){let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let a=[...e,i];if(r.type===E.Fragment){n.push.apply(n,SE(r.props.children,a));return}Xt(r.type===xt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=SE(r.props.children,a)),n.push(o)}),n}var vy="get",by="application/x-www-form-urlencoded";function eb(t){return t!=null&&typeof t.tagName=="string"}function rF(t){return eb(t)&&t.tagName.toLowerCase()==="button"}function iF(t){return eb(t)&&t.tagName.toLowerCase()==="form"}function aF(t){return eb(t)&&t.tagName.toLowerCase()==="input"}function sF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oF(t,e){return t.button===0&&(!e||e==="_self")&&!sF(t)}var Kg=null;function lF(){if(Kg===null)try{new FormData(document.createElement("form"),0),Kg=!1}catch(t){Kg=!0}return Kg}var uF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _x(t){return t!=null&&!uF.has(t)?(ia(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${by}"`),null):t}function cF(t,e){let n,r,i,a,o;if(iF(t)){let u=t.getAttribute("action");r=u?Ps(u,e):null,n=t.getAttribute("method")||vy,i=_x(t.getAttribute("enctype"))||by,a=new FormData(t)}else if(rF(t)||aF(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?Ps(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||vy,i=_x(t.getAttribute("formenctype"))||_x(u.getAttribute("enctype"))||by,a=new FormData(u,t),!lF()){let{name:d,type:m,value:p}=t;if(m==="image"){let y=d?`${d}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else d&&a.append(d,p)}}else{if(eb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vy,r=null,i=by,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cA(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function fF(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ps(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function dF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mF(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await dF(a,n);return o.links?o.links():[]}return[]}));return vF(r.flat(1).filter(hF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function cP(t,e,n,r,i,a){let o=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,u=(f,d)=>{var m;return n[d].pathname!==f.pathname||((m=n[d].route.path)==null?void 0:m.endsWith("*"))&&n[d].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,d)=>o(f,d)||u(f,d)):a==="data"?e.filter((f,d)=>{var p;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(o(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function pF(t,e,{includeHydrateFallback:n}={}){return gF(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function gF(t){return[...new Set(t)]}function yF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function vF(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(yF(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function Bk(){let t=E.useContext(Vf);return cA(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bF(){let t=E.useContext(Jv);return cA(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fA=E.createContext(void 0);fA.displayName="FrameworkContext";function zk(){let t=E.useContext(fA);return cA(t,"You must render this element inside a <HydratedRouter> element"),t}function _F(t,e){let n=E.useContext(fA),[r,i]=E.useState(!1),[a,o]=E.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:p}=e,y=E.useRef(null);E.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=I=>{I.forEach(N=>{o(N.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[t]),E.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{i(!0)},A=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:sh(u,b),onBlur:sh(f,A),onMouseEnter:sh(d,b),onMouseLeave:sh(m,A),onTouchStart:sh(p,b)}]:[!1,y,{}]}function sh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function xF({page:t,...e}){let{router:n}=Bk(),r=E.useMemo(()=>Pk(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(EF,{page:t,matches:r,...e}):null}function wF(t){let{manifest:e,routeModules:n}=zk(),[r,i]=E.useState([]);return E.useEffect(()=>{let a=!1;return mF(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function EF({page:t,matches:e,...n}){let r=Ha(),{manifest:i,routeModules:a}=zk(),{basename:o}=Bk(),{loaderData:u,matches:f}=bF(),d=E.useMemo(()=>cP(t,e,f,i,r,"data"),[t,e,f,i,r]),m=E.useMemo(()=>cP(t,e,f,i,r,"assets"),[t,e,f,i,r]),p=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,w=!1;if(e.forEach(I=>{var P;let N=i.routes[I.route.id];!N||!N.hasLoader||(!d.some(k=>k.route.id===I.route.id)&&I.route.id in u&&((P=a[I.route.id])!=null&&P.shouldRevalidate)||N.hasClientLoader?w=!0:A.add(I.route.id))}),A.size===0)return[];let S=fF(t,o,"data");return w&&A.size>0&&S.searchParams.set("_routes",e.filter(I=>A.has(I.route.id)).map(I=>I.route.id).join(",")),[S.pathname+S.search]},[o,u,r,i,d,e,t,a]),y=E.useMemo(()=>pF(m,i),[m,i]),b=wF(m);return E.createElement(E.Fragment,null,p.map(A=>E.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),y.map(A=>E.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),b.map(({key:A,link:w})=>E.createElement("link",{key:A,nonce:n.nonce,...w})))}function SF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qk=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{qk&&(window.__reactRouterVersion="7.9.3")}catch(t){}function AF({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=fq({window:n,v5Compat:!0}));let i=r.current,[a,o]=E.useState({action:i.action,location:i.location}),u=E.useCallback(f=>{E.startTransition(()=>o(f))},[o]);return E.useLayoutEffect(()=>i.listen(u),[i,u]),E.createElement(tF,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var Fk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fo=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:u,target:f,to:d,preventScrollReset:m,viewTransition:p,...y},b){let{basename:A}=E.useContext(sa),w=typeof d=="string"&&Fk.test(d),S,I=!1;if(typeof d=="string"&&w&&(S=d,qk))try{let j=new URL(window.location.href),U=d.startsWith("//")?new URL(j.protocol+d):new URL(d),B=Ps(U.pathname,A);U.origin===j.origin&&B!=null?d=B+U.search+U.hash:I=!0}catch(j){ia(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=Vq(d,{relative:i}),[P,k,M]=_F(r,y),L=CF(d,{replace:o,state:u,target:f,preventScrollReset:m,relative:i,viewTransition:p});function R(j){e&&e(j),j.defaultPrevented||L(j)}let C=E.createElement("a",{...y,...M,href:S||N,onClick:I||a?e:R,ref:SF(b,k),target:f,"data-discover":!w&&n==="render"?"true":void 0});return P&&!w?E.createElement(E.Fragment,null,C,E.createElement(xF,{page:N})):C});Fo.displayName="Link";var $k=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:u,children:f,...d},m){let p=Om(o,{relative:d.relative}),y=Ha(),b=E.useContext(Jv),{navigator:A,basename:w}=E.useContext(sa),S=b!=null&&DF(p)&&u===!0,I=A.encodeLocation?A.encodeLocation(p).pathname:p.pathname,N=y.pathname,P=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(N=N.toLowerCase(),P=P?P.toLowerCase():null,I=I.toLowerCase()),P&&w&&(P=Ps(P,w)||P);const k=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let M=N===I||!i&&N.startsWith(I)&&N.charAt(k)==="/",L=P!=null&&(P===I||!i&&P.startsWith(I)&&P.charAt(I.length)==="/"),R={isActive:M,isPending:L,isTransitioning:S},C=M?e:void 0,j;typeof r=="function"?j=r(R):j=[r,M?"active":null,L?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(R):a;return E.createElement(Fo,{...d,"aria-current":C,className:j,ref:m,style:U,to:o,viewTransition:u},typeof f=="function"?f(R):f)});$k.displayName="NavLink";var TF=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=vy,action:u,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:p,...y},b)=>{let A=PF(),w=RF(u,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",I=typeof u=="string"&&Fk.test(u),N=P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let k=P.nativeEvent.submitter,M=(k==null?void 0:k.getAttribute("formmethod"))||o;A(k||P.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:a,relative:d,preventScrollReset:m,viewTransition:p})};return E.createElement("form",{ref:b,method:S,action:w,onSubmit:r?f:N,...y,"data-discover":!I&&t==="render"?"true":void 0})});TF.displayName="Form";function IF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kk(t){let e=E.useContext(Vf);return Xt(e,IF(t)),e}function CF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let u=Nm(),f=Ha(),d=Om(t,{relative:a});return E.useCallback(m=>{if(oF(m,e)){m.preventDefault();let p=n!==void 0?n:Wh(f)===Wh(d);u(t,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[f,u,d,n,r,e,t,i,a,o])}var NF=0,OF=()=>`__${String(++NF)}__`;function PF(){let{router:t}=Kk("useSubmit"),{basename:e}=E.useContext(sa),n=Xq();return E.useCallback(async(r,i={})=>{let{action:a,method:o,encType:u,formData:f,body:d}=cF(r,e);if(i.navigate===!1){let m=i.fetcherKey||OF();await t.fetch(m,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||o,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||o,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function RF(t,{relative:e}={}){let{basename:n}=E.useContext(sa),r=E.useContext(oa);Xt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Om(t||".",{relative:e})},o=Ha();if(t==null){a.search=o.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(p=>p).forEach(p=>u.append("index",p));let m=u.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Es([n,a.pathname])),Wh(a)}function DF(t,{relative:e}={}){let n=E.useContext(Mk);Xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Kk("useViewTransitionState"),i=Om(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vy(i.pathname,o)!=null||Vy(i.pathname,a)!=null}var Hk=Ok();const jF=()=>{};var fP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],u=t[n++],f=((i&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},Wk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,u=o?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,m=a>>2,p=(a&3)<<4|u>>4;let y=(u&15)<<2|d>>6,b=d&63;f||(b=64,o||(y=64)),r.push(n[m],n[p],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||d==null||p==null)throw new kF;const y=a<<2|u>>4;if(r.push(y),d!==64){const b=u<<4&240|d>>2;if(r.push(b),p!==64){const A=d<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LF=function(t){const e=Gk(t);return Wk.encodeByteArray(e,!0)},Uy=function(t){return LF(t).replace(/\./g,"")},Yk=function(t){try{return Wk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=()=>Qk().__FIREBASE_DEFAULTS__,UF=()=>{if(typeof process=="undefined"||typeof fP=="undefined")return;const t=fP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BF=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&Yk(t[1]);return e&&JSON.parse(e)},tb=()=>{try{return jF()||VF()||UF()||BF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xk=t=>{var e,n;return(n=(e=tb())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Zk=t=>{const e=Xk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jk=()=>{var t;return(t=tb())==null?void 0:t.config},eL=t=>{var e;return(e=tb())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch(e){return!1}}async function nb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Uy(JSON.stringify(n)),Uy(JSON.stringify(o)),""].join(".")}const Dh={};function qF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dh))Dh[e]?t.emulator.push(e):t.prod.push(e);return t}function FF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let dP=!1;function dA(t,e){if(typeof window=="undefined"||typeof document=="undefined"||!cl(window.location.host)||Dh[t]===e||Dh[t]||dP)return;Dh[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=qF().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{dP=!0,o()},y}function m(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=FF(r),b=n("text"),A=document.getElementById(b)||document.createElement("span"),w=n("learnmore"),S=document.getElementById(w)||document.createElement("a"),I=n("preprendIcon"),N=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const P=y.element;u(P),m(S,w);const k=d();f(N,I),P.append(N,A,S,k),document.body.appendChild(P)}a?(A.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $F(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function nL(){var e;const t=(e=tb())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function KF(){return typeof navigator!="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function HF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WF(){const t=Dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rL(){return!nL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iL(){return!nL()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function aL(){try{return typeof indexedDB=="object"}catch(t){return!1}}function YF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function gme(){return!(typeof navigator=="undefined"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF="FirebaseError";class Ga extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QF,Object.setPrototypeOf(this,Ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pm.prototype.create)}}class Pm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?XF(a,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new Ga(i,u,r)}}function XF(t,e){return t.replace(ZF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZF=/\{\$([^}]+)}/g;function JF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(hP(a)&&hP(o)){if(!Qo(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Ah(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function e$(t,e){const n=new t$(t,e);return n.subscribe.bind(n)}class t${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");n$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=xx),i.error===void 0&&(i.error=xx),i.complete===void 0&&(i.complete=xx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xx(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$=1e3,i$=2,a$=14400*1e3,s$=.5;function yme(t,e=r$,n=i$){const r=e*Math.pow(n,t),i=Math.round(s$*r*(Math.random()-.5)*2);return Math.min(a$,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class Xo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var i;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(i=e==null?void 0:e.optional)!=null?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u$(e))try{this.getOrInitializeService({instanceIdentifier:nu})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch(a){}}}}clearInstance(e=nu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=nu){return this.instances.has(e)}getOptions(e=nu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&o.resolve(i)}return i}onInit(e,n){var o;const r=this.normalizeInstanceIdentifier(n),i=(o=this.onInitCallbacks.get(r))!=null?o:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(a){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=nu){return this.component?this.component.multipleInstances?e:nu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function l$(t){return t===nu?void 0:t}function u$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new o$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const f$={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},d$=st.INFO,h$={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},m$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=h$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hA{constructor(e){this.name=e,this._logLevel=d$,this._logHandler=m$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const p$=(t,e)=>e.some(n=>t instanceof n);let mP,pP;function g$(){return mP||(mP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y$(){return pP||(pP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sL=new WeakMap,AE=new WeakMap,oL=new WeakMap,wx=new WeakMap,mA=new WeakMap;function v$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n($o(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sL.set(n,t)}).catch(()=>{}),mA.set(e,t),e}function b$(t){if(AE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});AE.set(t,e)}let TE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return AE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $o(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _$(t){TE=t(TE)}function x$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ex(this),e,...n);return oL.set(r,e.sort?e.sort():[e]),$o(r)}:y$().includes(t)?function(...e){return t.apply(Ex(this),e),$o(sL.get(this))}:function(...e){return $o(t.apply(Ex(this),e))}}function w$(t){return typeof t=="function"?x$(t):(t instanceof IDBTransaction&&b$(t),p$(t,g$())?new Proxy(t,TE):t)}function $o(t){if(t instanceof IDBRequest)return v$(t);if(wx.has(t))return wx.get(t);const e=w$(t);return e!==t&&(wx.set(t,e),mA.set(e,t)),e}const Ex=t=>mA.get(t);function E$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),u=$o(o);return r&&o.addEventListener("upgradeneeded",f=>{r($o(o.result),f.oldVersion,f.newVersion,$o(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const S$=["get","getKey","getAll","getAllKeys","count"],A$=["put","add","delete","clear"],Sx=new Map;function gP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sx.get(e))return Sx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=A$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||S$.includes(n)))return;const a=async function(o,...u){const f=this.transaction(o,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&f.done]))[0]};return Sx.set(e,a),a}_$(t=>({...t,get:(e,n,r)=>gP(e,n)||t.get(e,n,r),has:(e,n)=>!!gP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(I$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function I$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const IE="@firebase/app",yP="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new hA("@firebase/app"),C$="@firebase/app-compat",N$="@firebase/analytics-compat",O$="@firebase/analytics",P$="@firebase/app-check-compat",R$="@firebase/app-check",D$="@firebase/auth",j$="@firebase/auth-compat",M$="@firebase/database",k$="@firebase/data-connect",L$="@firebase/database-compat",V$="@firebase/functions",U$="@firebase/functions-compat",B$="@firebase/installations",z$="@firebase/installations-compat",q$="@firebase/messaging",F$="@firebase/messaging-compat",$$="@firebase/performance",K$="@firebase/performance-compat",H$="@firebase/remote-config",G$="@firebase/remote-config-compat",W$="@firebase/storage",Y$="@firebase/storage-compat",Q$="@firebase/firestore",X$="@firebase/ai",Z$="@firebase/firestore-compat",J$="firebase",e8="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="[DEFAULT]",t8={[IE]:"fire-core",[C$]:"fire-core-compat",[O$]:"fire-analytics",[N$]:"fire-analytics-compat",[R$]:"fire-app-check",[P$]:"fire-app-check-compat",[D$]:"fire-auth",[j$]:"fire-auth-compat",[M$]:"fire-rtdb",[k$]:"fire-data-connect",[L$]:"fire-rtdb-compat",[V$]:"fire-fn",[U$]:"fire-fn-compat",[B$]:"fire-iid",[z$]:"fire-iid-compat",[q$]:"fire-fcm",[F$]:"fire-fcm-compat",[$$]:"fire-perf",[K$]:"fire-perf-compat",[H$]:"fire-rc",[G$]:"fire-rc-compat",[W$]:"fire-gcs",[Y$]:"fire-gcs-compat",[Q$]:"fire-fst",[Z$]:"fire-fst-compat",[X$]:"fire-vertex","fire-js":"fire-js",[J$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,n8=new Map,NE=new Map;function vP(t,e){try{t.container.addComponent(e)}catch(n){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tu(t){const e=t.name;if(NE.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;NE.set(e,t);for(const n of Yh.values())vP(n,t);for(const n of n8.values())vP(n,t);return!0}function Dm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ko=new Pm("app","Firebase",r8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=e8;function lL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:CE,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ko.create("bad-app-name",{appName:String(i)});if(n||(n=Jk()),!n)throw Ko.create("no-options");const a=Yh.get(i);if(a){if(Qo(n,a.options)&&Qo(r,a.config))return a;throw Ko.create("duplicate-app",{appName:i})}const o=new c$(i);for(const f of NE.values())o.addComponent(f);const u=new i8(n,r,o);return Yh.set(i,u),u}function pA(t=CE){const e=Yh.get(t);if(!e&&t===CE&&Jk())return lL();if(!e)throw Ko.create("no-app",{appName:t});return e}function bP(){return Array.from(Yh.values())}function La(t,e,n){var o;let r=(o=t8[t])!=null?o:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const u=[`Unable to register library "${r}" with version "${e}":`];i&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(u.join(" "));return}Tu(new Xo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8="firebase-heartbeat-database",s8=1,Qh="firebase-heartbeat-store";let Ax=null;function uL(){return Ax||(Ax=E$(a8,s8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ko.create("idb-open",{originalErrorMessage:t.message})})),Ax}async function o8(t){try{const n=(await uL()).transaction(Qh),r=await n.objectStore(Qh).get(cL(t));return await n.done,r}catch(e){if(e instanceof Ga)Rs.warn(e.message);else{const n=Ko.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rs.warn(n.message)}}}async function _P(t,e){try{const r=(await uL()).transaction(Qh,"readwrite");await r.objectStore(Qh).put(e,cL(t)),await r.done}catch(n){if(n instanceof Ga)Rs.warn(n.message);else{const r=Ko.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rs.warn(r.message)}}}function cL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=1024,u8=30;class c8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=xP();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>u8){const o=h8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xP(),{heartbeatsToSend:r,unsentEntries:i}=f8(this._heartbeatsCache.heartbeats),a=Uy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Rs.warn(n),""}}}function xP(){return new Date().toISOString().substring(0,10)}function f8(t,e=l8){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),wP(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class d8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aL()?YF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return _P(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!=null?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return _P(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!=null?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wP(t){return Uy(JSON.stringify({version:2,heartbeats:t})).length}function h8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){Tu(new Xo("platform-logger",e=>new T$(e),"PRIVATE")),Tu(new Xo("heartbeat",e=>new c8(e),"PRIVATE")),La(IE,yP,t),La(IE,yP,"esm2020"),La("fire-js","")}m8("");var EP=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ho,fL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function j(){}j.prototype=C.prototype,R.F=C.prototype,R.prototype=new j,R.prototype.constructor=R,R.D=function(U,B,F){for(var z=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)z[pe-2]=arguments[pe];return C.prototype[B].apply(U,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,C,j){j||(j=0);const U=Array(16);if(typeof C=="string")for(var B=0;B<16;++B)U[B]=C.charCodeAt(j++)|C.charCodeAt(j++)<<8|C.charCodeAt(j++)<<16|C.charCodeAt(j++)<<24;else for(B=0;B<16;++B)U[B]=C[j++]|C[j++]<<8|C[j++]<<16|C[j++]<<24;C=R.g[0],j=R.g[1],B=R.g[2];let F=R.g[3],z;z=C+(F^j&(B^F))+U[0]+3614090360&4294967295,C=j+(z<<7&4294967295|z>>>25),z=F+(B^C&(j^B))+U[1]+3905402710&4294967295,F=C+(z<<12&4294967295|z>>>20),z=B+(j^F&(C^j))+U[2]+606105819&4294967295,B=F+(z<<17&4294967295|z>>>15),z=j+(C^B&(F^C))+U[3]+3250441966&4294967295,j=B+(z<<22&4294967295|z>>>10),z=C+(F^j&(B^F))+U[4]+4118548399&4294967295,C=j+(z<<7&4294967295|z>>>25),z=F+(B^C&(j^B))+U[5]+1200080426&4294967295,F=C+(z<<12&4294967295|z>>>20),z=B+(j^F&(C^j))+U[6]+2821735955&4294967295,B=F+(z<<17&4294967295|z>>>15),z=j+(C^B&(F^C))+U[7]+4249261313&4294967295,j=B+(z<<22&4294967295|z>>>10),z=C+(F^j&(B^F))+U[8]+1770035416&4294967295,C=j+(z<<7&4294967295|z>>>25),z=F+(B^C&(j^B))+U[9]+2336552879&4294967295,F=C+(z<<12&4294967295|z>>>20),z=B+(j^F&(C^j))+U[10]+4294925233&4294967295,B=F+(z<<17&4294967295|z>>>15),z=j+(C^B&(F^C))+U[11]+2304563134&4294967295,j=B+(z<<22&4294967295|z>>>10),z=C+(F^j&(B^F))+U[12]+1804603682&4294967295,C=j+(z<<7&4294967295|z>>>25),z=F+(B^C&(j^B))+U[13]+4254626195&4294967295,F=C+(z<<12&4294967295|z>>>20),z=B+(j^F&(C^j))+U[14]+2792965006&4294967295,B=F+(z<<17&4294967295|z>>>15),z=j+(C^B&(F^C))+U[15]+1236535329&4294967295,j=B+(z<<22&4294967295|z>>>10),z=C+(B^F&(j^B))+U[1]+4129170786&4294967295,C=j+(z<<5&4294967295|z>>>27),z=F+(j^B&(C^j))+U[6]+3225465664&4294967295,F=C+(z<<9&4294967295|z>>>23),z=B+(C^j&(F^C))+U[11]+643717713&4294967295,B=F+(z<<14&4294967295|z>>>18),z=j+(F^C&(B^F))+U[0]+3921069994&4294967295,j=B+(z<<20&4294967295|z>>>12),z=C+(B^F&(j^B))+U[5]+3593408605&4294967295,C=j+(z<<5&4294967295|z>>>27),z=F+(j^B&(C^j))+U[10]+38016083&4294967295,F=C+(z<<9&4294967295|z>>>23),z=B+(C^j&(F^C))+U[15]+3634488961&4294967295,B=F+(z<<14&4294967295|z>>>18),z=j+(F^C&(B^F))+U[4]+3889429448&4294967295,j=B+(z<<20&4294967295|z>>>12),z=C+(B^F&(j^B))+U[9]+568446438&4294967295,C=j+(z<<5&4294967295|z>>>27),z=F+(j^B&(C^j))+U[14]+3275163606&4294967295,F=C+(z<<9&4294967295|z>>>23),z=B+(C^j&(F^C))+U[3]+4107603335&4294967295,B=F+(z<<14&4294967295|z>>>18),z=j+(F^C&(B^F))+U[8]+1163531501&4294967295,j=B+(z<<20&4294967295|z>>>12),z=C+(B^F&(j^B))+U[13]+2850285829&4294967295,C=j+(z<<5&4294967295|z>>>27),z=F+(j^B&(C^j))+U[2]+4243563512&4294967295,F=C+(z<<9&4294967295|z>>>23),z=B+(C^j&(F^C))+U[7]+1735328473&4294967295,B=F+(z<<14&4294967295|z>>>18),z=j+(F^C&(B^F))+U[12]+2368359562&4294967295,j=B+(z<<20&4294967295|z>>>12),z=C+(j^B^F)+U[5]+4294588738&4294967295,C=j+(z<<4&4294967295|z>>>28),z=F+(C^j^B)+U[8]+2272392833&4294967295,F=C+(z<<11&4294967295|z>>>21),z=B+(F^C^j)+U[11]+1839030562&4294967295,B=F+(z<<16&4294967295|z>>>16),z=j+(B^F^C)+U[14]+4259657740&4294967295,j=B+(z<<23&4294967295|z>>>9),z=C+(j^B^F)+U[1]+2763975236&4294967295,C=j+(z<<4&4294967295|z>>>28),z=F+(C^j^B)+U[4]+1272893353&4294967295,F=C+(z<<11&4294967295|z>>>21),z=B+(F^C^j)+U[7]+4139469664&4294967295,B=F+(z<<16&4294967295|z>>>16),z=j+(B^F^C)+U[10]+3200236656&4294967295,j=B+(z<<23&4294967295|z>>>9),z=C+(j^B^F)+U[13]+681279174&4294967295,C=j+(z<<4&4294967295|z>>>28),z=F+(C^j^B)+U[0]+3936430074&4294967295,F=C+(z<<11&4294967295|z>>>21),z=B+(F^C^j)+U[3]+3572445317&4294967295,B=F+(z<<16&4294967295|z>>>16),z=j+(B^F^C)+U[6]+76029189&4294967295,j=B+(z<<23&4294967295|z>>>9),z=C+(j^B^F)+U[9]+3654602809&4294967295,C=j+(z<<4&4294967295|z>>>28),z=F+(C^j^B)+U[12]+3873151461&4294967295,F=C+(z<<11&4294967295|z>>>21),z=B+(F^C^j)+U[15]+530742520&4294967295,B=F+(z<<16&4294967295|z>>>16),z=j+(B^F^C)+U[2]+3299628645&4294967295,j=B+(z<<23&4294967295|z>>>9),z=C+(B^(j|~F))+U[0]+4096336452&4294967295,C=j+(z<<6&4294967295|z>>>26),z=F+(j^(C|~B))+U[7]+1126891415&4294967295,F=C+(z<<10&4294967295|z>>>22),z=B+(C^(F|~j))+U[14]+2878612391&4294967295,B=F+(z<<15&4294967295|z>>>17),z=j+(F^(B|~C))+U[5]+4237533241&4294967295,j=B+(z<<21&4294967295|z>>>11),z=C+(B^(j|~F))+U[12]+1700485571&4294967295,C=j+(z<<6&4294967295|z>>>26),z=F+(j^(C|~B))+U[3]+2399980690&4294967295,F=C+(z<<10&4294967295|z>>>22),z=B+(C^(F|~j))+U[10]+4293915773&4294967295,B=F+(z<<15&4294967295|z>>>17),z=j+(F^(B|~C))+U[1]+2240044497&4294967295,j=B+(z<<21&4294967295|z>>>11),z=C+(B^(j|~F))+U[8]+1873313359&4294967295,C=j+(z<<6&4294967295|z>>>26),z=F+(j^(C|~B))+U[15]+4264355552&4294967295,F=C+(z<<10&4294967295|z>>>22),z=B+(C^(F|~j))+U[6]+2734768916&4294967295,B=F+(z<<15&4294967295|z>>>17),z=j+(F^(B|~C))+U[13]+1309151649&4294967295,j=B+(z<<21&4294967295|z>>>11),z=C+(B^(j|~F))+U[4]+4149444226&4294967295,C=j+(z<<6&4294967295|z>>>26),z=F+(j^(C|~B))+U[11]+3174756917&4294967295,F=C+(z<<10&4294967295|z>>>22),z=B+(C^(F|~j))+U[2]+718787259&4294967295,B=F+(z<<15&4294967295|z>>>17),z=j+(F^(B|~C))+U[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(B+(z<<21&4294967295|z>>>11))&4294967295,R.g[2]=R.g[2]+B&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.v=function(R,C){C===void 0&&(C=R.length);const j=C-this.blockSize,U=this.C;let B=this.h,F=0;for(;F<C;){if(B==0)for(;F<=j;)i(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<C;)if(U[B++]=R.charCodeAt(F++),B==this.blockSize){i(this,U),B=0;break}}else for(;F<C;)if(U[B++]=R[F++],B==this.blockSize){i(this,U),B=0;break}}this.h=B,this.o+=C},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;C=this.o*8;for(var j=R.length-8;j<R.length;++j)R[j]=C&255,C/=256;for(this.v(R),R=Array(16),C=0,j=0;j<4;++j)for(let U=0;U<32;U+=8)R[C++]=this.g[j]>>>U&255;return R};function a(R,C){var j=u;return Object.prototype.hasOwnProperty.call(j,R)?j[R]:j[R]=C(R)}function o(R,C){this.h=C;const j=[];let U=!0;for(let B=R.length-1;B>=0;B--){const F=R[B]|0;U&&F==C||(j[B]=F,U=!1)}this.g=j}var u={};function f(R){return-128<=R&&R<128?a(R,function(C){return new o([C|0],C<0?-1:0)}):new o([R|0],R<0?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return p;if(R<0)return S(d(-R));const C=[];let j=1;for(let U=0;R>=j;U++)C[U]=R/j|0,j*=4294967296;return new o(C,0)}function m(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return S(m(R.substring(1),C));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=d(Math.pow(C,8));let U=p;for(let F=0;F<R.length;F+=8){var B=Math.min(8,R.length-F);const z=parseInt(R.substring(F,F+B),C);B<8?(B=d(Math.pow(C,B)),U=U.j(B).add(d(z))):(U=U.j(j),U=U.add(d(z)))}return U}var p=f(0),y=f(1),b=f(16777216);t=o.prototype,t.m=function(){if(w(this))return-S(this).m();let R=0,C=1;for(let j=0;j<this.g.length;j++){const U=this.i(j);R+=(U>=0?U:4294967296+U)*C,C*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(A(this))return"0";if(w(this))return"-"+S(this).toString(R);const C=d(Math.pow(R,6));var j=this;let U="";for(;;){const B=k(j,C).g;j=I(j,B.j(C));let F=((j.g.length>0?j.g[0]:j.h)>>>0).toString(R);if(j=B,A(j))return F+U;for(;F.length<6;)F="0"+F;U=F+U}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function A(R){if(R.h!=0)return!1;for(let C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function w(R){return R.h==-1}t.l=function(R){return R=I(this,R),w(R)?-1:A(R)?0:1};function S(R){const C=R.g.length,j=[];for(let U=0;U<C;U++)j[U]=~R.g[U];return new o(j,~R.h).add(y)}t.abs=function(){return w(this)?S(this):this},t.add=function(R){const C=Math.max(this.g.length,R.g.length),j=[];let U=0;for(let B=0;B<=C;B++){let F=U+(this.i(B)&65535)+(R.i(B)&65535),z=(F>>>16)+(this.i(B)>>>16)+(R.i(B)>>>16);U=z>>>16,F&=65535,z&=65535,j[B]=z<<16|F}return new o(j,j[j.length-1]&-2147483648?-1:0)};function I(R,C){return R.add(S(C))}t.j=function(R){if(A(this)||A(R))return p;if(w(this))return w(R)?S(this).j(S(R)):S(S(this).j(R));if(w(R))return S(this.j(S(R)));if(this.l(b)<0&&R.l(b)<0)return d(this.m()*R.m());const C=this.g.length+R.g.length,j=[];for(var U=0;U<2*C;U++)j[U]=0;for(U=0;U<this.g.length;U++)for(let B=0;B<R.g.length;B++){const F=this.i(U)>>>16,z=this.i(U)&65535,pe=R.i(B)>>>16,we=R.i(B)&65535;j[2*U+2*B]+=z*we,N(j,2*U+2*B),j[2*U+2*B+1]+=F*we,N(j,2*U+2*B+1),j[2*U+2*B+1]+=z*pe,N(j,2*U+2*B+1),j[2*U+2*B+2]+=F*pe,N(j,2*U+2*B+2)}for(R=0;R<C;R++)j[R]=j[2*R+1]<<16|j[2*R];for(R=C;R<2*C;R++)j[R]=0;return new o(j,0)};function N(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function P(R,C){this.g=R,this.h=C}function k(R,C){if(A(C))throw Error("division by zero");if(A(R))return new P(p,p);if(w(R))return C=k(S(R),C),new P(S(C.g),S(C.h));if(w(C))return C=k(R,S(C)),new P(S(C.g),C.h);if(R.g.length>30){if(w(R)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var j=y,U=C;U.l(R)<=0;)j=M(j),U=M(U);var B=L(j,1),F=L(U,1);for(U=L(U,2),j=L(j,2);!A(U);){var z=F.add(U);z.l(R)<=0&&(B=B.add(j),F=z),U=L(U,1),j=L(j,1)}return C=I(R,B.j(C)),new P(B,C)}for(B=p;R.l(C)>=0;){for(j=Math.max(1,Math.floor(R.m()/C.m())),U=Math.ceil(Math.log(j)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),F=d(j),z=F.j(C);w(z)||z.l(R)>0;)j-=U,F=d(j),z=F.j(C);A(F)&&(F=y),B=B.add(F),R=I(R,z)}return new P(B,R)}t.B=function(R){return k(this,R).h},t.and=function(R){const C=Math.max(this.g.length,R.g.length),j=[];for(let U=0;U<C;U++)j[U]=this.i(U)&R.i(U);return new o(j,this.h&R.h)},t.or=function(R){const C=Math.max(this.g.length,R.g.length),j=[];for(let U=0;U<C;U++)j[U]=this.i(U)|R.i(U);return new o(j,this.h|R.h)},t.xor=function(R){const C=Math.max(this.g.length,R.g.length),j=[];for(let U=0;U<C;U++)j[U]=this.i(U)^R.i(U);return new o(j,this.h^R.h)};function M(R){const C=R.g.length+1,j=[];for(let U=0;U<C;U++)j[U]=R.i(U)<<1|R.i(U-1)>>>31;return new o(j,R.h)}function L(R,C){const j=C>>5;C%=32;const U=R.g.length-j,B=[];for(let F=0;F<U;F++)B[F]=C>0?R.i(F+j)>>>C|R.i(F+j+1)<<32-C:R.i(F+j);return new o(B,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fL=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=m,Ho=o}).apply(typeof EP!="undefined"?EP:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Hg=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dL,Th,hL,_y,OE,mL,pL,gL;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hg=="object"&&Hg];for(var T=0;T<g.length;++T){var D=g[T];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var D=r;g=g.split(".");for(var q=0;q<g.length-1;q++){var X=g[q];if(!(X in D))break e;D=D[X]}g=g[g.length-1],q=D[g],T=T(q),T!=q&&T!=null&&e(D,g,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(T){var D=[],q;for(q in T)Object.prototype.hasOwnProperty.call(T,q)&&D.push([q,T[q]]);return D}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function u(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function f(g,T,D){return g.call.apply(g.bind,arguments)}function d(g,T,D){return d=f,d.apply(null,arguments)}function m(g,T){var D=Array.prototype.slice.call(arguments,1);return function(){var q=D.slice();return q.push.apply(q,arguments),g.apply(this,q)}}function p(g,T){function D(){}D.prototype=T.prototype,g.Z=T.prototype,g.prototype=new D,g.prototype.constructor=g,g.Ob=function(q,X,ie){for(var Ee=Array(arguments.length-2),We=2;We<arguments.length;We++)Ee[We-2]=arguments[We];return T.prototype[X].apply(q,Ee)}}var y=typeof AsyncContext!="undefined"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function b(g){const T=g.length;if(T>0){const D=Array(T);for(let q=0;q<T;q++)D[q]=g[q];return D}return[]}function A(g,T){for(let q=1;q<arguments.length;q++){const X=arguments[q];var D=typeof X;if(D=D!="object"?D:X?Array.isArray(X)?"array":D:"null",D=="array"||D=="object"&&typeof X.length=="number"){D=g.length||0;const ie=X.length||0;g.length=D+ie;for(let Ee=0;Ee<ie;Ee++)g[D+Ee]=X[Ee]}else g.push(X)}}class w{constructor(T,D){this.i=T,this.j=D,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function S(g){o.setTimeout(()=>{throw g},0)}function I(){var g=R;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class N{constructor(){this.h=this.g=null}add(T,D){const q=P.get();q.set(T,D),this.h?this.h.next=q:this.g=q,this.h=q}}var P=new w(()=>new k,g=>g.reset());class k{constructor(){this.next=this.g=this.h=null}set(T,D){this.h=T,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let M,L=!1,R=new N,C=()=>{const g=Promise.resolve(void 0);M=()=>{g.then(j)}};function j(){for(var g;g=I();){try{g.h.call(g.g)}catch(D){S(D)}var T=P;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}L=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const D=()=>{};o.addEventListener("test",D,T),o.removeEventListener("test",D,T)}catch(D){}return g})();function z(g){return/^[\s\xa0]*$/.test(g)}function pe(g,T){B.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}p(pe,B),pe.prototype.init=function(g,T){const D=this.type=g.type,q=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(D=="mouseover"?T=g.fromElement:D=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),W=0;function oe(g,T,D,q,X){this.listener=g,this.proxy=null,this.src=T,this.type=D,this.capture=!!q,this.ha=X,this.key=++W,this.da=this.fa=!1}function ye(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function xe(g,T,D){for(const q in g)T.call(D,g[q],q,g)}function Te(g,T){for(const D in g)T.call(void 0,g[D],D,g)}function $(g){const T={};for(const D in g)T[D]=g[D];return T}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(g,T){let D,q;for(let X=1;X<arguments.length;X++){q=arguments[X];for(D in q)g[D]=q[D];for(let ie=0;ie<Y.length;ie++)D=Y[ie],Object.prototype.hasOwnProperty.call(q,D)&&(g[D]=q[D])}}function ee(g){this.src=g,this.g={},this.h=0}ee.prototype.add=function(g,T,D,q,X){const ie=g.toString();g=this.g[ie],g||(g=this.g[ie]=[],this.h++);const Ee=Ae(g,T,q,X);return Ee>-1?(T=g[Ee],D||(T.fa=!1)):(T=new oe(T,this.src,ie,!!q,X),T.fa=D,g.push(T)),T};function be(g,T){const D=T.type;if(D in g.g){var q=g.g[D],X=Array.prototype.indexOf.call(q,T,void 0),ie;(ie=X>=0)&&Array.prototype.splice.call(q,X,1),ie&&(ye(T),g.g[D].length==0&&(delete g.g[D],g.h--))}}function Ae(g,T,D,q){for(let X=0;X<g.length;++X){const ie=g[X];if(!ie.da&&ie.listener==T&&ie.capture==!!D&&ie.ha==q)return X}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),tt={};function ge(g,T,D,q,X){if(Array.isArray(T)){for(let ie=0;ie<T.length;ie++)ge(g,T[ie],D,q,X);return null}return D=On(D),g&&g[we]?g.J(T,D,u(q)?!!q.capture:!1,X):ue(g,T,D,!1,q,X)}function ue(g,T,D,q,X,ie){if(!T)throw Error("Invalid event type");const Ee=u(X)?!!X.capture:!!X;let We=je(g);if(We||(g[Be]=We=new ee(g)),D=We.add(T,D,q,Ee,ie),D.proxy)return D;if(q=_e(),D.proxy=q,q.src=g,q.listener=D,g.addEventListener)F||(X=Ee),X===void 0&&(X=!1),g.addEventListener(T.toString(),q,X);else if(g.attachEvent)g.attachEvent(de(T.toString()),q);else if(g.addListener&&g.removeListener)g.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return D}function _e(){function g(D){return T.call(g.src,g.listener,D)}const T=Ve;return g}function ne(g,T,D,q,X){if(Array.isArray(T))for(var ie=0;ie<T.length;ie++)ne(g,T[ie],D,q,X);else q=u(q)?!!q.capture:!!q,D=On(D),g&&g[we]?(g=g.i,ie=String(T).toString(),ie in g.g&&(T=g.g[ie],D=Ae(T,D,q,X),D>-1&&(ye(T[D]),Array.prototype.splice.call(T,D,1),T.length==0&&(delete g.g[ie],g.h--)))):g&&(g=je(g))&&(T=g.g[T.toString()],g=-1,T&&(g=Ae(T,D,q,X)),(D=g>-1?T[g]:null)&&Fe(D))}function Fe(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[we])be(T.i,g);else{var D=g.type,q=g.proxy;T.removeEventListener?T.removeEventListener(D,q,g.capture):T.detachEvent?T.detachEvent(de(D),q):T.addListener&&T.removeListener&&T.removeListener(q),(D=je(T))?(be(D,g),D.h==0&&(D.src=null,T[Be]=null)):ye(g)}}}function de(g){return g in tt?tt[g]:tt[g]="on"+g}function Ve(g,T){if(g.da)g=!0;else{T=new pe(T,this);const D=g.listener,q=g.ha||g.src;g.fa&&Fe(g),g=D.call(q,T)}return g}function je(g){return g=g[Be],g instanceof ee?g:null}var Ke="__closure_events_fn_"+(Math.random()*1e9>>>0);function On(g){return typeof g=="function"?g:(g[Ke]||(g[Ke]=function(T){return g.handleEvent(T)}),g[Ke])}function _t(){U.call(this),this.i=new ee(this),this.M=this,this.G=null}p(_t,U),_t.prototype[we]=!0,_t.prototype.removeEventListener=function(g,T,D,q){ne(this,g,T,D,q)};function yt(g,T){var D,q=g.G;if(q)for(D=[];q;q=q.G)D.push(q);if(g=g.M,q=T.type||T,typeof T=="string")T=new B(T,g);else if(T instanceof B)T.target=T.target||g;else{var X=T;T=new B(q,g),ve(T,X)}X=!0;let ie,Ee;if(D)for(Ee=D.length-1;Ee>=0;Ee--)ie=T.g=D[Ee],X=tn(ie,q,!0,T)&&X;if(ie=T.g=g,X=tn(ie,q,!0,T)&&X,X=tn(ie,q,!1,T)&&X,D)for(Ee=0;Ee<D.length;Ee++)ie=T.g=D[Ee],X=tn(ie,q,!1,T)&&X}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const D=g.g[T];for(let q=0;q<D.length;q++)ye(D[q]);delete g.g[T],g.h--}}this.G=null},_t.prototype.J=function(g,T,D,q){return this.i.add(String(g),T,!1,D,q)},_t.prototype.K=function(g,T,D,q){return this.i.add(String(g),T,!0,D,q)};function tn(g,T,D,q){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let X=!0;for(let ie=0;ie<T.length;++ie){const Ee=T[ie];if(Ee&&!Ee.da&&Ee.capture==D){const We=Ee.listener,cn=Ee.ha||Ee.src;Ee.fa&&be(g.i,Ee),X=We.call(cn,q)!==!1&&X}}return X&&!q.defaultPrevented}function ca(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:o.setTimeout(g,T||0)}function Wn(g){g.g=ca(()=>{g.g=null,g.i&&(g.i=!1,Wn(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class wt extends U{constructor(T,D){super(),this.m=T,this.l=D,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Wn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(g){U.call(this),this.h=g,this.g={}}p(Yn,U);var Ri=[];function Ys(g){xe(g.g,function(T,D){this.g.hasOwnProperty(D)&&Fe(T)},g),g.g={}}Yn.prototype.N=function(){Yn.Z.N.call(this),Ys(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qs=o.JSON.stringify,p0=o.JSON.parse,yp=class{stringify(g){return o.JSON.stringify(g,void 0)}parse(g){return o.JSON.parse(g,void 0)}};function vp(){}function bp(){}var Di={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qn(){B.call(this,"d")}p(Qn,B);function ui(){B.call(this,"c")}p(ui,B);var un={},_p=null;function Xu(){return _p=_p||new _t}un.Ia="serverreachability";function xp(g){B.call(this,un.Ia,g)}p(xp,B);function fa(g){const T=Xu();yt(T,new xp(T))}un.STAT_EVENT="statevent";function wl(g,T){B.call(this,un.STAT_EVENT,g),this.stat=T}p(wl,B);function vn(g){const T=Xu();yt(T,new wl(T,g))}un.Ja="timingevent";function da(g,T){B.call(this,un.Ja,g),this.size=T}p(da,B);function ha(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){g()},T)}function ji(){this.g=!0}ji.prototype.ua=function(){this.g=!1};function g0(g,T,D,q,X,ie){g.info(function(){if(g.g)if(ie){var Ee="",We=ie.split("&");for(let vt=0;vt<We.length;vt++){var cn=We[vt].split("=");if(cn.length>1){const Ft=cn[0];cn=cn[1];const hi=Ft.split("_");Ee=hi.length>=2&&hi[1]=="type"?Ee+(Ft+"="+cn+"&"):Ee+(Ft+"=redacted&")}}}else Ee=null;else Ee=ie;return"XMLHTTP REQ ("+q+") [attempt "+X+"]: "+T+`
`+D+`
`+Ee})}function wp(g,T,D,q,X,ie,Ee){g.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+X+"]: "+T+`
`+D+`
`+ie+" "+Ee})}function ma(g,T,D,q){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+y0(g,D)+(q?" "+q:"")})}function El(g,T){g.info(function(){return"TIMEOUT: "+T})}ji.prototype.info=function(){};function y0(g,T){if(!g.g)return T;if(!T)return null;try{const ie=JSON.parse(T);if(ie){for(g=0;g<ie.length;g++)if(Array.isArray(ie[g])){var D=ie[g];if(!(D.length<2)){var q=D[1];if(Array.isArray(q)&&!(q.length<1)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(let Ee=1;Ee<q.length;Ee++)q[Ee]=""}}}}return Qs(ie)}catch(ie){return T}}var Sl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ad={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sd;function Al(){}p(Al,vp),Al.prototype.g=function(){return new XMLHttpRequest},sd=new Al;function Qa(g){return encodeURIComponent(String(g))}function Ep(g){var T=1;g=g.split(":");const D=[];for(;T>0&&g.length;)D.push(g.shift()),T--;return g.length&&D.push(g.join(":")),D}function Mi(g,T,D,q){this.j=g,this.i=T,this.l=D,this.S=q||1,this.V=new Yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ki}function ki(){this.i=null,this.g="",this.h=!1}var bn={},Vn={};function pa(g,T,D){g.M=1,g.A=Tl(xn(T)),g.u=D,g.R=!0,Zu(g,null)}function Zu(g,T){g.F=Date.now(),ga(g),g.B=xn(g.A);var D=g.B,q=g.S;Array.isArray(q)||(q=[String(q)]),nc(D.i,"t",q),g.C=0,D=g.j.L,g.h=new ki,g.g=Vp(g.j,D?T:null,!g.u),g.P>0&&(g.O=new wt(d(g.Y,g,g.g),g.P)),T=g.V,D=g.g,q=g.ba;var X="readystatechange";Array.isArray(X)||(X&&(Ri[0]=X.toString()),X=Ri);for(let ie=0;ie<X.length;ie++){const Ee=ge(D,X[ie],q||T.handleEvent,!1,T.h||T);if(!Ee)break;T.g[Ee.key]=Ee}T=g.J?$(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),fa(),g0(g.i,g.v,g.B,g.l,g.S,g.u)}Mi.prototype.ba=function(g){g=g.target;const T=this.O;T&&Ui(g)==3?T.j():this.Y(g)},Mi.prototype.Y=function(g){try{if(g==this.g)e:{const We=Ui(this.g),cn=this.g.ya(),vt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||Xn(this.g)))){this.K||We!=4||cn==7||(cn==8||vt<=0?fa(3):fa(2)),ya(this);var T=this.g.ca();this.X=T;var D=v0(this);if(this.o=T==200,wp(this.i,this.v,this.B,this.l,this.S,We,T),this.o){if(this.U&&!this.L){t:{if(this.g){var q,X=this.g;if((q=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(q)){var ie=q;break t}}ie=null}if(g=ie)ma(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,va(this,g);else{this.o=!1,this.m=3,vn(12),Mr(this),ci(this);break e}}if(this.R){g=!0;let Ft;for(;!this.K&&this.C<D.length;)if(Ft=Ap(this,D),Ft==Vn){We==4&&(this.m=4,vn(14),g=!1),ma(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==bn){this.m=4,vn(15),ma(this.i,this.l,D,"[Invalid Chunk]"),g=!1;break}else ma(this.i,this.l,Ft,null),va(this,Ft);if(Sp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||D.length!=0||this.h.h||(this.m=1,vn(16),g=!1),this.o=this.o&&g,!g)ma(this.i,this.l,D,"[Invalid Chunked Response]"),Mr(this),ci(this);else if(D.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+D.length),xd(Ee),Ee.P=!0,vn(11))}}else ma(this.i,this.l,D,null),va(this,D);We==4&&Mr(this),this.o&&!this.K&&(We==4?jp(this.j,this):(this.o=!1,ga(this)))}else Za(this.g),T==400&&D.indexOf("Unknown SID")>0?(this.m=3,vn(12)):(this.m=0,vn(13)),Mr(this),ci(this)}}}catch(We){}finally{}};function v0(g){if(!Sp(g))return g.g.la();const T=Xn(g.g);if(T==="")return"";let D="";const q=T.length,X=Ui(g.g)==4;if(!g.h.i){if(typeof TextDecoder=="undefined")return Mr(g),ci(g),"";g.h.i=new o.TextDecoder}for(let ie=0;ie<q;ie++)g.h.h=!0,D+=g.h.i.decode(T[ie],{stream:!(X&&ie==q-1)});return T.length=0,g.h.g+=D,g.C=0,g.h.g}function Sp(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Ap(g,T){var D=g.C,q=T.indexOf(`
`,D);return q==-1?Vn:(D=Number(T.substring(D,q)),isNaN(D)?bn:(q+=1,q+D>T.length?Vn:(T=T.slice(q,q+D),g.C=q+D,T)))}Mi.prototype.cancel=function(){this.K=!0,Mr(this)};function ga(g){g.T=Date.now()+g.H,Ju(g,g.H)}function Ju(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=ha(d(g.aa,g),T)}function ya(g){g.D&&(o.clearTimeout(g.D),g.D=null)}Mi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(El(this.i,this.B),this.M!=2&&(fa(),vn(17)),Mr(this),this.m=2,ci(this)):Ju(this,this.T-g)};function ci(g){g.j.I==0||g.K||jp(g.j,g)}function Mr(g){ya(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,Ys(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function va(g,T){try{var D=g.j;if(D.I!=0&&(D.g==g||_a(D.h,g))){if(!g.L&&_a(D.h,g)&&D.I==3){try{var q=D.Ba.g.parse(T)}catch(vt){q=null}if(Array.isArray(q)&&q.length==3){var X=q;if(X[0]==0){e:if(!D.v){if(D.g)if(D.g.F+3e3<g.F)oc(D),io(D);else break e;Dl(D),vn(18)}}else D.xa=X[1],0<D.xa-D.K&&X[2]<37500&&D.F&&D.A==0&&!D.C&&(D.C=ha(d(D.Va,D),6e3));ba(D.h)<=1&&D.ta&&(D.ta=void 0)}else Ta(D,11)}else if((g.L||D.g==g)&&oc(D),!z(T))for(X=D.Ba.g.parse(T),T=0;T<X.length;T++){let vt=X[T];const Ft=vt[0];if(!(Ft<=D.K))if(D.K=Ft,vt=vt[1],D.I==2)if(vt[0]=="c"){D.M=vt[1],D.ba=vt[2];const hi=vt[3];hi!=null&&(D.ka=hi,D.j.info("VER="+D.ka));const Ia=vt[4];Ia!=null&&(D.za=Ia,D.j.info("SVER="+D.za));const Bi=vt[5];Bi!=null&&typeof Bi=="number"&&Bi>0&&(q=1.5*Bi,D.O=q,D.j.info("backChannelRequestTimeoutMs_="+q)),q=D;const zi=g.g;if(zi){const jl=zi.g?zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jl){var ie=q.h;ie.g||jl.indexOf("spdy")==-1&&jl.indexOf("quic")==-1&&jl.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(ud(ie,ie.h),ie.h=null))}if(q.G){const lc=zi.g?zi.g.getResponseHeader("X-HTTP-Session-Id"):null;lc&&(q.wa=lc,Et(q.J,q.G,lc))}}D.I=3,D.l&&D.l.ra(),D.aa&&(D.T=Date.now()-g.F,D.j.info("Handshake RTT: "+D.T+"ms")),q=D;var Ee=g;if(q.na=Lp(q,q.L?q.ba:null,q.W),Ee.L){cd(q.h,Ee);var We=Ee,cn=q.O;cn&&(We.H=cn),We.D&&(ya(We),ga(We)),q.g=Ee}else Rp(q);D.i.length>0&&Aa(D)}else vt[0]!="stop"&&vt[0]!="close"||Ta(D,7);else D.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Ta(D,7):bd(D):vt[0]!="noop"&&D.l&&D.l.qa(vt),D.A=0)}}fa(4)}catch(vt){}}var _n=class{constructor(g,T){this.g=g,this.map=T}};function od(g){this.l=g||10,o.PerformanceNavigationTiming?(g=o.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ld(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ba(g){return g.h?1:g.g?g.g.size:0}function _a(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function ud(g,T){g.g?g.g.add(T):g.h=T}function cd(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}od.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function fd(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const D of g.g.values())T=T.concat(D.G);return T}return b(g.i)}var Tp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ec(g,T){if(g){g=g.split("&");for(let D=0;D<g.length;D++){const q=g[D].indexOf("=");let X,ie=null;q>=0?(X=g[D].substring(0,q),ie=g[D].substring(q+1)):X=g[D],T(X,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function kr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof kr?(this.l=g.l,Un(this,g.j),this.o=g.o,this.g=g.g,Xs(this,g.u),this.h=g.h,dd(this,Op(g.i)),this.m=g.m):g&&(T=String(g).match(Tp))?(this.l=!1,Un(this,T[1]||"",!0),this.o=xa(T[2]||""),this.g=xa(T[3]||"",!0),Xs(this,T[4]),this.h=xa(T[5]||"",!0),dd(this,T[6]||"",!0),this.m=xa(T[7]||"")):(this.l=!1,this.i=new Js(null,this.l))}kr.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(Il(T,tc,!0),":");var D=this.g;return(D||T=="file")&&(g.push("//"),(T=this.o)&&g.push(Il(T,tc,!0),"@"),g.push(Qa(D).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.u,D!=null&&g.push(":",String(D))),(D=this.h)&&(this.g&&D.charAt(0)!="/"&&g.push("/"),g.push(Il(D,D.charAt(0)=="/"?hd:Ip,!0))),(D=this.i.toString())&&g.push("?",D),(D=this.m)&&g.push("#",Il(D,Cp)),g.join("")},kr.prototype.resolve=function(g){const T=xn(this);let D=!!g.j;D?Un(T,g.j):D=!!g.o,D?T.o=g.o:D=!!g.g,D?T.g=g.g:D=g.u!=null;var q=g.h;if(D)Xs(T,g.u);else if(D=!!g.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var X=T.h.lastIndexOf("/");X!=-1&&(q=T.h.slice(0,X+1)+q)}if(X=q,X==".."||X==".")q="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){q=X.lastIndexOf("/",0)==0,X=X.split("/");const ie=[];for(let Ee=0;Ee<X.length;){const We=X[Ee++];We=="."?q&&Ee==X.length&&ie.push(""):We==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),q&&Ee==X.length&&ie.push("")):(ie.push(We),q=!0)}q=ie.join("/")}else q=X}return D?T.h=q:D=g.i.toString()!=="",D?dd(T,Op(g.i)):D=!!g.m,D&&(T.m=g.m),T};function xn(g){return new kr(g)}function Un(g,T,D){g.j=D?xa(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function Xs(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function dd(g,T,D){T instanceof Js?(g.i=T,rc(g.i,g.l)):(D||(T=Il(T,Zs)),g.i=new Js(T,g.l))}function Et(g,T,D){g.i.set(T,D)}function Tl(g){return Et(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function xa(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Il(g,T,D){return typeof g=="string"?(g=encodeURI(g).replace(T,xr),D&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function xr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var tc=/[#\/\?@]/g,Ip=/[#\?:]/g,hd=/[#\?]/g,Zs=/[#\?@]/g,Cp=/#/g;function Js(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function wr(g){g.g||(g.g=new Map,g.h=0,g.i&&ec(g.i,function(T,D){g.add(decodeURIComponent(T.replace(/\+/g," ")),D)}))}t=Js.prototype,t.add=function(g,T){wr(this),this.i=null,g=eo(this,g);let D=this.g.get(g);return D||this.g.set(g,D=[]),D.push(T),this.h+=1,this};function Np(g,T){wr(g),T=eo(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function md(g,T){return wr(g),T=eo(g,T),g.g.has(T)}t.forEach=function(g,T){wr(this),this.g.forEach(function(D,q){D.forEach(function(X){g.call(T,X,q,this)},this)},this)};function pd(g,T){wr(g);let D=[];if(typeof T=="string")md(g,T)&&(D=D.concat(g.g.get(eo(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)D=D.concat(g[T]);return D}t.set=function(g,T){return wr(this),this.i=null,g=eo(this,g),md(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=pd(this,g),g.length>0?String(g[0]):T):T};function nc(g,T,D){Np(g,T),D.length>0&&(g.i=null,g.g.set(eo(g,T),b(D)),g.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let q=0;q<T.length;q++){var D=T[q];const X=Qa(D);D=pd(this,D);for(let ie=0;ie<D.length;ie++){let Ee=X;D[ie]!==""&&(Ee+="="+Qa(D[ie])),g.push(Ee)}}return this.i=g.join("&")};function Op(g){const T=new Js;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function eo(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function rc(g,T){T&&!g.j&&(wr(g),g.i=null,g.g.forEach(function(D,q){const X=q.toLowerCase();q!=X&&(Np(this,q),nc(this,X,D))},g)),g.j=T}function Li(g,T){const D=new ji;if(o.Image){const q=new Image;q.onload=m(fi,D,"TestLoadImage: loaded",!0,T,q),q.onerror=m(fi,D,"TestLoadImage: error",!1,T,q),q.onabort=m(fi,D,"TestLoadImage: abort",!1,T,q),q.ontimeout=m(fi,D,"TestLoadImage: timeout",!1,T,q),o.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=g}else T(!1)}function gd(g,T){const D=new ji,q=new AbortController,X=setTimeout(()=>{q.abort(),fi(D,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:q.signal}).then(ie=>{clearTimeout(X),ie.ok?fi(D,"TestPingServer: ok",!0,T):fi(D,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(X),fi(D,"TestPingServer: error",!1,T)})}function fi(g,T,D,q,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),q(D)}catch(ie){}}function to(){this.g=new yp}function wa(g){this.i=g.Sb||null,this.h=g.ab||!1}p(wa,vp),wa.prototype.g=function(){return new Cl(this.i,this.h)};function Cl(g,T){_t.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Cl,_t),t=Cl.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,Vi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||o).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,no(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream!="undefined"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ic(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function ic(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?no(this):Vi(this),this.readyState==3&&ic(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,no(this))},t.Na=function(g){this.g&&(this.response=g,no(this))},t.ga=function(){this.g&&no(this)};function no(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Vi(g)}t.setRequestHeader=function(g,T){this.A.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var D=T.next();!D.done;)D=D.value,g.push(D[0]+": "+D[1]),D=T.next();return g.join(`\r
`)};function Vi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function di(g){let T="";return xe(g,function(D,q){T+=q,T+=":",T+=D,T+=`\r
`}),T}function Nl(g,T,D){e:{for(q in D){var q=!1;break e}q=!0}q||(D=di(D),typeof g=="string"?D!=null&&Qa(D):Et(g,T,D))}function Nt(g){_t.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Nt,_t);var Ea=/^https?$/i,yd=["POST","PUT"];t=Nt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,T,D,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sd.g(),this.g.onreadystatechange=y(d(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(ie){Ol(this,ie);return}if(g=D||"",D=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var X in q)D.set(X,q[X]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const ie of q.keys())D.set(ie,q.get(ie));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(D.keys()).find(ie=>ie.toLowerCase()=="content-type"),X=o.FormData&&g instanceof o.FormData,!(Array.prototype.indexOf.call(yd,T,void 0)>=0)||q||X||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Ee]of D)this.g.setRequestHeader(ie,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ie){Ol(this,ie)}};function Ol(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,vd(g),Xa(g)}function vd(g){g.A||(g.A=!0,yt(g,"complete"),yt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,yt(this,"complete"),yt(this,"abort"),Xa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xa(this,!0)),Nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Pl(this):this.Xa())},t.Xa=function(){Pl(this)};function Pl(g){if(g.h&&typeof a!="undefined"){if(g.v&&Ui(g)==4)setTimeout(g.Ca.bind(g),0);else if(yt(g,"readystatechange"),Ui(g)==4){g.h=!1;try{const ie=g.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var D;if(!(D=T)){var q;if(q=ie===0){let Ee=String(g.D).match(Tp)[1]||null;!Ee&&o.self&&o.self.location&&(Ee=o.self.location.protocol.slice(0,-1)),q=!Ea.test(Ee?Ee.toLowerCase():"")}D=q}if(D)yt(g,"complete"),yt(g,"success");else{g.o=6;try{var X=Ui(g)>2?g.g.statusText:""}catch(Ee){X=""}g.l=X+" ["+g.ca()+"]",vd(g)}}finally{Xa(g)}}}}function Xa(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const D=g.g;g.g=null,T||yt(g,"ready");try{D.onreadystatechange=null}catch(q){}}}t.isActive=function(){return!!this.g};function Ui(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ui(this)>2?this.g.status:-1}catch(g){return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch(g){return""}},t.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),p0(T)}};function Xn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch(T){return null}}function Za(g){const T={};g=(g.g&&Ui(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<g.length;q++){if(z(g[q]))continue;var D=Ep(g[q]);const X=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const ie=T[X]||[];T[X]=ie,ie.push(D)}Te(T,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(g,T,D){return D&&D.internalChannelParams&&D.internalChannelParams[g]||T}function ro(g){this.za=0,this.i=[],this.j=new ji,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sa("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sa("baseRetryDelayMs",5e3,g),this.Za=Sa("retryDelaySeedMs",1e4,g),this.Ta=Sa("forwardChannelMaxRetries",2,g),this.va=Sa("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new od(g&&g.concurrentRequestLimit),this.Ba=new to,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ro.prototype,t.ka=8,t.I=1,t.connect=function(g,T,D,q){vn(0),this.W=g,this.H=T||{},D&&q!==void 0&&(this.H.OSID=D,this.H.OAID=q),this.F=this.X,this.J=Lp(this,null,this.W),Aa(this)};function bd(g){if(ac(g),g.I==3){var T=g.V++,D=xn(g.J);if(Et(D,"SID",g.M),Et(D,"RID",T),Et(D,"TYPE","terminate"),Rl(g,D),T=new Mi(g,g.j,T),T.M=2,T.A=Tl(xn(D)),D=!1,o.navigator&&o.navigator.sendBeacon)try{D=o.navigator.sendBeacon(T.A.toString(),"")}catch(q){}!D&&o.Image&&(new Image().src=T.A,D=!0),D||(T.g=Vp(T.j,null),T.g.ea(T.A)),T.F=Date.now(),ga(T)}kp(g)}function io(g){g.g&&(xd(g),g.g.cancel(),g.g=null)}function ac(g){io(g),g.v&&(o.clearTimeout(g.v),g.v=null),oc(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&o.clearTimeout(g.m),g.m=null)}function Aa(g){if(!ld(g.h)&&!g.m){g.m=!0;var T=g.Ea;M||C(),L||(M(),L=!0),R.add(T,g),g.D=0}}function sc(g,T){return ba(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=ha(d(g.Ea,g,T),Mp(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const X=new Mi(this,this.j,g);let ie=this.o;if(this.U&&(ie?(ie=$(ie),ve(ie,this.U)):ie=this.U),this.u!==null||this.R||(X.J=ie,ie=null),this.S)e:{for(var T=0,D=0;D<this.i.length;D++){t:{var q=this.i[D];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(T+=q,T>4096){T=D;break e}if(T===4096||D===this.i.length-1){T=D+1;break e}}T=1e3}else T=1e3;T=Pp(this,X,T),D=xn(this.J),Et(D,"RID",g),Et(D,"CVER",22),this.G&&Et(D,"X-HTTP-Session-Id",this.G),Rl(this,D),ie&&(this.R?T="headers="+Qa(di(ie))+"&"+T:this.u&&Nl(D,this.u,ie)),ud(this.h,X),this.Ra&&Et(D,"TYPE","init"),this.S?(Et(D,"$req",T),Et(D,"SID","null"),X.U=!0,pa(X,D,null)):pa(X,D,T),this.I=2}}else this.I==3&&(g?_d(this,g):this.i.length==0||ld(this.h)||_d(this))};function _d(g,T){var D;T?D=T.l:D=g.V++;const q=xn(g.J);Et(q,"SID",g.M),Et(q,"RID",D),Et(q,"AID",g.K),Rl(g,q),g.u&&g.o&&Nl(q,g.u,g.o),D=new Mi(g,g.j,D,g.D+1),g.u===null&&(D.J=g.o),T&&(g.i=T.G.concat(g.i)),T=Pp(g,D,1e3),D.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),ud(g.h,D),pa(D,q,T)}function Rl(g,T){g.H&&xe(g.H,function(D,q){Et(T,q,D)}),g.l&&xe({},function(D,q){Et(T,q,D)})}function Pp(g,T,D){D=Math.min(g.i.length,D);const q=g.l?d(g.l.Ka,g.l,g):null;e:{var X=g.i;let We=-1;for(;;){const cn=["count="+D];We==-1?D>0?(We=X[0].g,cn.push("ofs="+We)):We=0:cn.push("ofs="+We);let vt=!0;for(let Ft=0;Ft<D;Ft++){var ie=X[Ft].g;const hi=X[Ft].map;if(ie-=We,ie<0)We=Math.max(0,X[Ft].g-100),vt=!1;else try{ie="req"+ie+"_"||"";try{var Ee=hi instanceof Map?hi:Object.entries(hi);for(const[Ia,Bi]of Ee){let zi=Bi;u(Bi)&&(zi=Qs(Bi)),cn.push(ie+Ia+"="+encodeURIComponent(zi))}}catch(Ia){throw cn.push(ie+"type="+encodeURIComponent("_badmap")),Ia}}catch(Ia){q&&q(hi)}}if(vt){Ee=cn.join("&");break e}}Ee=void 0}return g=g.i.splice(0,D),T.G=g,Ee}function Rp(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;M||C(),L||(M(),L=!0),R.add(T,g),g.A=0}}function Dl(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=ha(d(g.Da,g),Mp(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Dp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=ha(d(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vn(10),io(this),Dp(this))};function xd(g){g.B!=null&&(o.clearTimeout(g.B),g.B=null)}function Dp(g){g.g=new Mi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=xn(g.na);Et(T,"RID","rpc"),Et(T,"SID",g.M),Et(T,"AID",g.K),Et(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&Et(T,"TO",g.ia),Et(T,"TYPE","xmlhttp"),Rl(g,T),g.u&&g.o&&Nl(T,g.u,g.o),g.O&&(g.g.H=g.O);var D=g.g;g=g.ba,D.M=1,D.A=Tl(xn(T)),D.u=null,D.R=!0,Zu(D,g)}t.Va=function(){this.C!=null&&(this.C=null,io(this),Dl(this),vn(19))};function oc(g){g.C!=null&&(o.clearTimeout(g.C),g.C=null)}function jp(g,T){var D=null;if(g.g==T){oc(g),xd(g),g.g=null;var q=2}else if(_a(g.h,T))D=T.G,cd(g.h,T),q=1;else return;if(g.I!=0){if(T.o)if(q==1){D=T.u?T.u.length:0,T=Date.now()-T.F;var X=g.D;q=Xu(),yt(q,new da(q,D)),Aa(g)}else Rp(g);else if(X=T.m,X==3||X==0&&T.X>0||!(q==1&&sc(g,T)||q==2&&Dl(g)))switch(D&&D.length>0&&(T=g.h,T.i=T.i.concat(D)),X){case 1:Ta(g,5);break;case 4:Ta(g,10);break;case 3:Ta(g,6);break;default:Ta(g,2)}}}function Mp(g,T){let D=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(D*=2),D*T}function Ta(g,T){if(g.j.info("Error code "+T),T==2){var D=d(g.bb,g),q=g.Ua;const X=!q;q=new kr(q||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Un(q,"https"),Tl(q),X?Li(q.toString(),D):gd(q.toString(),D)}else vn(2);g.I=0,g.l&&g.l.pa(T),kp(g),ac(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function kp(g){if(g.I=0,g.ja=[],g.l){const T=fd(g.h);(T.length!=0||g.i.length!=0)&&(A(g.ja,T),A(g.ja,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.oa()}}function Lp(g,T,D){var q=D instanceof kr?xn(D):new kr(D);if(q.g!="")T&&(q.g=T+"."+q.g),Xs(q,q.u);else{var X=o.location;q=X.protocol,T=T?T+"."+X.hostname:X.hostname,X=+X.port;const ie=new kr(null);q&&Un(ie,q),T&&(ie.g=T),X&&Xs(ie,X),D&&(ie.h=D),q=ie}return D=g.G,T=g.wa,D&&T&&Et(q,D,T),Et(q,"VER",g.ka),Rl(g,q),q}function Vp(g,T,D){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new Nt(new wa({ab:D})):new Nt(g.ma),T.Fa(g.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Up(){}t=Up.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ao(){}ao.prototype.g=function(g,T){return new yr(g,T)};function yr(g,T){_t.call(this),this.g=new ro(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!z(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!z(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new Ja(this)}p(yr,_t),yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yr.prototype.close=function(){bd(this.g)},yr.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var D={};D.__data__=g,g=D}else this.v&&(D={},D.__data__=Qs(g),g=D);T.i.push(new _n(T.Ya++,g)),T.I==3&&Aa(T)},yr.prototype.N=function(){this.g.l=null,delete this.j,bd(this.g),delete this.g,yr.Z.N.call(this)};function Bp(g){Qn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const D in T){g=D;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}p(Bp,Qn);function zp(){ui.call(this),this.status=1}p(zp,ui);function Ja(g){this.g=g}p(Ja,Up),Ja.prototype.ra=function(){yt(this.g,"a")},Ja.prototype.qa=function(g){yt(this.g,new Bp(g))},Ja.prototype.pa=function(g){yt(this.g,new zp)},Ja.prototype.oa=function(){yt(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,yr.prototype.send=yr.prototype.o,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,gL=function(){return new ao},pL=function(){return Xu()},mL=un,OE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sl.NO_ERROR=0,Sl.TIMEOUT=8,Sl.HTTP_ERROR=6,_y=Sl,ad.COMPLETE="complete",hL=ad,bp.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Th=bp,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,dL=Nt}).apply(typeof Hg!="undefined"?Hg:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const SP="@firebase/firestore",AP="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new hA("@firebase/firestore");function Gc(){return Iu.logLevel}function he(t,...e){if(Iu.logLevel<=st.DEBUG){const n=e.map(gA);Iu.debug(`Firestore (${Bf}): ${t}`,...n)}}function mn(t,...e){if(Iu.logLevel<=st.ERROR){const n=e.map(gA);Iu.error(`Firestore (${Bf}): ${t}`,...n)}}function Cu(t,...e){if(Iu.logLevel<=st.WARN){const n=e.map(gA);Iu.warn(`Firestore (${Bf}): ${t}`,...n)}}function gA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yL(t,r,n)}function yL(t,e,n){let r=`FIRESTORE (${Bf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(i){r+=" CONTEXT: "+n}throw mn(r),new Error(r)}function Re(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||yL(e,i,r)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ga{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Fn.UNAUTHENTICATED)))}shutdown(){}}class p8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class g8{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ji,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ji)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new vL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new Fn(e)}}class y8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new y8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_8(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function PE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Tx(i)===Tx(a)?He(i,a):Tx(i)?1:-1}return He(t.length,e.length)}const x8=55296,w8=57343;function Tx(t){const e=t.charCodeAt(0);return e>=x8&&e<=w8}function lf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function _L(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="__name__";class Ra{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ra.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ra?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ra.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return He(e.length,n.length)}static compareSegments(e,n){const r=Ra.isNumericId(e),i=Ra.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ra.extractNumericId(e).compare(Ra.extractNumericId(n)):PE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ho.fromString(e.substring(4,e.length-2))}}class ft extends Ra{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const E8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ra{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return E8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RE}static keyField(){return new Wt([RE])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new me(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new me(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new me(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ft.fromString(e))}static fromName(e){return new Se(ft.fromString(e).popFirst(5))}static empty(){return new Se(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e,n){if(!n)throw new me(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wL(t,e,n,r){if(e===!0&&r===!0)throw new me(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IP(t){if(!Se.isDocumentKey(t))throw new me(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CP(t){if(Se.isDocumentKey(t))throw new me(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function EL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ib(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function mr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ib(t);throw new me(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function S8(t,e){if(e<=0)throw new me(ae.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,e){const n={typeString:t};return e&&(n.value=e),n}function jm(t,e){if(!EL(t))throw new me(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new me(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=-62135596800,OP=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*OP);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<NP)throw new me(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OP}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jm(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-NP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:In("string",ot._jsonSchemaVersion),seconds:In("number"),nanoseconds:In("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new ot(0,0))}static max(){return new ke(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=-1;class By{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function DE(t){return t.fields.find((e=>e.kind===2))}function ru(t){return t.fields.filter((e=>e.kind!==2))}By.UNKNOWN_ID=-1;class xy{constructor(e,n){this.fieldPath=e,this.kind=n}}class Xh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Xh(0,ri.min())}}function SL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new ri(i,Se.empty(),e)}function AL(t){return new ri(t.readTime,t.key,uf)}class ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ri(ke.min(),Se.empty(),uf)}static max(){return new ri(ke.max(),Se.empty(),uf)}}function yA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==TL)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let i=0,a=0,o=!1;e.forEach((u=>{++i,u.next((()=>{++a,o&&a===i&&n()}),(f=>r(f)))})),o=!0,a===i&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((i=>i?Q.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,i)=>{const a=e.length,o=new Array(a);let u=0;for(let f=0;f<a;f++){const d=f;n(e[d]).next((m=>{o[d]=m,++u,u===a&&r(o)}),(m=>i(m)))}}))}static doWhile(e,n){return new Q(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="SimpleDb";class ab{static open(e,n,r,i){try{return new ab(n,e.transaction(i,r))}catch(a){throw new jh(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ji,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new jh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=vA(r.target.error);this.S.reject(new jh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(he(Gr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new T8(n)}}class Go{static delete(e){return he(Gr,"Removing database:",e),lu(Qk().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!aL())return!1;if(Go.F())return!0;const e=Dn(),n=Go.M(e),r=0<n&&n<10,i=CL(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){var e;return typeof process!="undefined"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Go.M(Dn())===12.2&&mn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(he(Gr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const o=a.target.result;n(o)},i.onblocked=()=>{r(new jh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const o=a.target.error;o.name==="VersionError"?r(new me(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new me(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new jh(e,o))},i.onupgradeneeded=a=>{he(Gr,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const o=a.target.result;this.N.k(o,i.transaction,a.oldVersion,this.version).next((()=>{he(Gr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const u=ab.open(this.db,e,a?"readonly":"readwrite",r),f=i(u).next((d=>(u.C(),d))).catch((d=>(u.abort(d),Q.reject(d)))).toPromise();return f.catch((()=>{})),await u.D,f}catch(u){const f=u,d=f.name!=="FirebaseError"&&o<3;if(he(Gr,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function CL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class A8{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return lu(this.U.delete())}}class jh extends me{constructor(e,n){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function dl(t){return t.name==="IndexedDbTransactionError"}class T8{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(he(Gr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(he(Gr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),lu(r)}add(e){return he(Gr,"ADD",this.store.name,e,e),lu(this.store.add(e))}get(e){return lu(this.store.get(e)).next((n=>(n===void 0&&(n=null),he(Gr,"GET",this.store.name,e,n),n)))}delete(e){return he(Gr,"DELETE",this.store.name,e),lu(this.store.delete(e))}count(){return he(Gr,"COUNT",this.store.name),lu(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new Q(((o,u)=>{a.onerror=f=>{u(f.target.error)},a.onsuccess=f=>{o(f.target.result)}}))}{const a=this.cursor(r),o=[];return this.H(a,((u,f)=>{o.push(f)})).next((()=>o))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((i,a)=>{r.onerror=o=>{a(o.target.error)},r.onsuccess=o=>{i(o.target.result)}}))}Z(e,n){he(Gr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((a,o,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Q(((r,i)=>{n.onerror=a=>{const o=vA(a.target.error);i(o)},n.onsuccess=a=>{const o=a.target.result;o?e(o.primaryKey,o.value).next((u=>{u?o.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((i,a)=>{e.onerror=o=>{a(o.target.error)},e.onsuccess=o=>{const u=o.target.result;if(!u)return void i();const f=new A8(u),d=n(u.primaryKey,u.value,f);if(d instanceof Q){const m=d.catch((p=>(f.done(),Q.reject(p))));r.push(m)}f.isDone?i():f.G===null?u.continue():u.continue(f.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function lu(t){return new Q(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=vA(r.target.error);n(i)}}))}let PP=!1;function vA(t){const e=Go.M(Dn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PP||(PP=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Mh="IndexBackfiller";class I8{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){he(Mh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();he(Mh,`Documents written: ${n}`)}catch(n){dl(n)?he(Mh,"Ignoring IndexedDB error during index backfill: ",n):await fl(n)}await this.re(6e4)}))}}class C8{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,a=!0;return Q.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((o=>{if(o!==null&&!r.has(o))return he(Mh,`Processing collection: ${o}`),this.oe(e,o,i).next((u=>{i-=u,r.add(o)}));a=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((a=>{const o=a.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next((()=>this._e(i,a))).next((u=>(he(Mh,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>o.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,a)=>{const o=AL(a);yA(o,r)>0&&(r=o)})),new ri(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;function Mm(t){return t==null}function Zh(t){return t===0&&1/t==-1/0}function NL(t){return typeof t=="number"&&Number.isInteger(t)&&!Zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="";function pr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RP(e)),e=N8(t.get(n),e);return RP(e)}function N8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case zy:n+="";break;default:n+=a}}return n}function RP(t){return t+zy+""}function ja(t){const e=t.length;if(Re(e>=2,64408,{path:t}),e===2)return Re(t.charAt(0)===zy&&t.charAt(1)==="",56145,{path:t}),ft.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const o=t.indexOf(zy,a);switch((o<0||o>n)&&Ie(50515,{path:t}),t.charAt(o+1)){case"":const u=t.substring(a,o);let f;i.length===0?f=u:(i+=u,f=i,i=""),r.push(f);break;case"":i+=t.substring(a,o),i+="\0";break;case"":i+=t.substring(a,o+1);break;default:Ie(61167,{path:t})}a=o+2}return new ft(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="remoteDocuments",km="owner",Vc="owner",Jh="mutationQueues",O8="userId",Gi="mutations",DP="batchId",du="userMutationsIndex",jP=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t,e){return[t,pr(e)]}function OL(t,e,n){return[t,pr(e),n]}const P8={},cf="documentMutations",qy="remoteDocumentsV14",R8=["prefixPath","collectionGroup","readTime","documentId"],Ey="documentKeyIndex",D8=["prefixPath","collectionGroup","documentId"],PL="collectionGroupIndex",j8=["collectionGroup","readTime","prefixPath","documentId"],em="remoteDocumentGlobal",jE="remoteDocumentGlobalKey",ff="targets",RL="queryTargetsIndex",M8=["canonicalId","targetId"],df="targetDocuments",k8=["targetId","path"],bA="documentTargetsIndex",L8=["path","targetId"],Fy="targetGlobalKey",_u="targetGlobal",tm="collectionParents",V8=["collectionId","parent"],hf="clientMetadata",U8="clientId",sb="bundles",B8="bundleId",ob="namedQueries",z8="name",_A="indexConfiguration",q8="indexId",ME="collectionGroupIndex",F8="collectionGroup",kh="indexState",$8=["indexId","uid"],DL="sequenceNumberIndex",K8=["uid","sequenceNumber"],Lh="indexEntries",H8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jL="documentKeyIndex",G8=["indexId","uid","orderedDocumentKey"],lb="documentOverlays",W8=["userId","collectionPath","documentId"],kE="collectionPathOverlayIndex",Y8=["userId","collectionPath","largestBatchId"],ML="collectionGroupOverlayIndex",Q8=["userId","collectionGroup","largestBatchId"],xA="globals",X8="name",kL=[Jh,Gi,cf,iu,ff,km,_u,df,hf,em,tm,sb,ob],Z8=[...kL,lb],LL=[Jh,Gi,cf,qy,ff,km,_u,df,hf,em,tm,sb,ob,lb],VL=LL,wA=[...VL,_A,kh,Lh],J8=wA,UL=[...wA,xA],e7=UL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends IL{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function jn(t,e){const n=Pe(t);return Go.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gg(this.root,e,this.comparator,!0)}}class Gg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r!=null?r:rr.RED,this.left=i!=null?i:rr.EMPTY,this.right=a!=null?a:rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new rr(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new rr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kP(this.data.getIterator())}getIteratorFrom(e){return new kP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class kP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Uc(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new Ct(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException!="undefined"&&a instanceof DOMException?new zL("Invalid base64 string: "+a):a}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const t7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=t7.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function js(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="server_timestamp",FL="__type__",$L="__previous_value__",KL="__local_write_time__";function ub(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[FL])==null?void 0:r.stringValue)===qL}function cb(t){const e=t.mapValue.fields[$L];return ub(e)?cb(e):e}function nm(t){const e=Ds(t.mapValue.fields[KL].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n,r,i,a,o,u,f,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m}}const rm="(default)";class Zo{constructor(e,n){this.projectId=e,this.database=n||rm}static empty(){return new Zo("","")}get isDefaultDatabase(){return this.database===rm}isEqual(e){return e instanceof Zo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="__type__",HL="__max__",qo={mapValue:{fields:{__type__:{stringValue:HL}}}},SA="__vector__",mf="value",Sy={nullValue:"NULL_VALUE"};function Jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ub(t)?4:GL(t)?9007199254740991:fb(t)?10:11:Ie(28295,{value:t})}function za(t,e){if(t===e)return!0;const n=Jo(t);if(n!==Jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nm(t).isEqual(nm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Ds(i.timestampValue),u=Ds(a.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return js(i.bytesValue).isEqual(js(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Kt(i.geoPointValue.latitude)===Kt(a.geoPointValue.latitude)&&Kt(i.geoPointValue.longitude)===Kt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Kt(i.integerValue)===Kt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Kt(i.doubleValue),u=Kt(a.doubleValue);return o===u?Zh(o)===Zh(u):isNaN(o)&&isNaN(u)}return!1})(t,e);case 9:return lf(t.arrayValue.values||[],e.arrayValue.values||[],za);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},u=a.mapValue.fields||{};if(MP(o)!==MP(u))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(u[f]===void 0||!za(o[f],u[f])))return!1;return!0})(t,e);default:return Ie(52216,{left:t})}}function im(t,e){return(t.values||[]).find((n=>za(n,e)))!==void 0}function el(t,e){if(t===e)return 0;const n=Jo(t),r=Jo(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const u=Kt(a.integerValue||a.doubleValue),f=Kt(o.integerValue||o.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return LP(t.timestampValue,e.timestampValue);case 4:return LP(nm(t),nm(e));case 5:return PE(t.stringValue,e.stringValue);case 6:return(function(a,o){const u=js(a),f=js(o);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const u=a.split("/"),f=o.split("/");for(let d=0;d<u.length&&d<f.length;d++){const m=He(u[d],f[d]);if(m!==0)return m}return He(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const u=He(Kt(a.latitude),Kt(o.latitude));return u!==0?u:He(Kt(a.longitude),Kt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return VP(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var y,b,A,w;const u=a.fields||{},f=o.fields||{},d=(y=u[mf])==null?void 0:y.arrayValue,m=(b=f[mf])==null?void 0:b.arrayValue,p=He(((A=d==null?void 0:d.values)==null?void 0:A.length)||0,((w=m==null?void 0:m.values)==null?void 0:w.length)||0);return p!==0?p:VP(d,m)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===qo.mapValue&&o===qo.mapValue)return 0;if(a===qo.mapValue)return 1;if(o===qo.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),d=o.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let p=0;p<f.length&&p<m.length;++p){const y=PE(f[p],m[p]);if(y!==0)return y;const b=el(u[f[p]],d[m[p]]);if(b!==0)return b}return He(f.length,m.length)})(t.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function LP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Ds(t),r=Ds(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function VP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=el(n[i],r[i]);if(a)return a}return He(n.length,r.length)}function pf(t){return VE(t)}function VE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ds(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return js(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Se.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=VE(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${VE(n.fields[o])}`;return i+"}"})(t.mapValue):Ie(61005,{value:t})}function Ay(t){switch(Jo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cb(t);return e?16+Ay(e):16;case 5:return 2*t.stringValue.length;case 6:return js(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Ay(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return hl(r.fields,((a,o)=>{i+=a.length+Ay(o)})),i})(t.mapValue);default:throw Ie(13486,{value:t})}}function Nu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function UE(t){return!!t&&"integerValue"in t}function am(t){return!!t&&"arrayValue"in t}function UP(t){return!!t&&"nullValue"in t}function BP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ty(t){return!!t&&"mapValue"in t}function fb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[EA])==null?void 0:r.stringValue)===SA}function Vh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return hl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Vh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vh(t.arrayValue.values[n]);return e}return{...t}}function GL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HL}const WL={mapValue:{fields:{[EA]:{stringValue:SA},[mf]:{arrayValue:{}}}}};function r7(t){return"nullValue"in t?Sy:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Nu(Zo.empty(),Se.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?fb(t)?WL:{mapValue:{}}:Ie(35942,{value:t})}function i7(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Nu(Zo.empty(),Se.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?WL:"mapValue"in t?fb(t)?{mapValue:{}}:qo:Ie(61959,{value:t})}function zP(t,e){const n=el(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function qP(t,e){const n=el(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ty(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vh(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach(((o,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=Vh(o):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Ty(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return za(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ty(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hl(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new ar(Vh(this.value))}}function YL(t){const e=[];return hl(t.fields,((n,r)=>{const i=new Wt([n]);if(Ty(r)){const a=YL(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,i,a,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Gt(e,0,ke.min(),ke.min(),ke.min(),ar.empty(),0)}static newFoundDocument(e,n,r,i){return new Gt(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new Gt(e,2,n,ke.min(),ke.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,ke.min(),ke.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.position=e,this.inclusive=n}}function FP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(o.referenceValue),n.key):r=el(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function $P(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!za(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n="asc"){this.field=e,this.dir=n}}function a7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{}class lt extends QL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new s7(e,n,r):n==="array-contains"?new u7(e,r):n==="in"?new nV(e,r):n==="not-in"?new c7(e,r):n==="array-contains-any"?new f7(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new o7(e,r):new l7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(el(n,this.value)):n!==null&&Jo(this.value)===Jo(n)&&this.matchesComparison(el(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class It extends QL{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new It(e,n)}matches(e){return gf(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gf(t){return t.op==="and"}function BE(t){return t.op==="or"}function AA(t){return XL(t)&&gf(t)}function XL(t){for(const e of t.filters)if(e instanceof It)return!1;return!0}function zE(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+pf(t.value);if(AA(t))return t.filters.map((e=>zE(e))).join(",");{const e=t.filters.map((n=>zE(n))).join(",");return`${t.op}(${e})`}}function ZL(t,e){return t instanceof lt?(function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&za(r.value,i.value)})(t,e):t instanceof It?(function(r,i){return i instanceof It&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,u)=>a&&ZL(o,i.filters[u])),!0):!1})(t,e):void Ie(19439)}function JL(t,e){const n=t.filters.concat(e);return It.create(n,t.op)}function eV(t){return t instanceof lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${pf(n.value)}`})(t):t instanceof It?(function(n){return n.op.toString()+" {"+n.getFilters().map(eV).join(" ,")+"}"})(t):"Filter"}class s7 extends lt{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class o7 extends lt{constructor(e,n){super(e,"in",n),this.keys=tV("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class l7 extends lt{constructor(e,n){super(e,"not-in",n),this.keys=tV("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tV(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Se.fromName(r.referenceValue)))}class u7 extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return am(n)&&im(n.arrayValue,this.value)}}class nV extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&im(this.value.arrayValue,n)}}class c7 extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(im(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!im(this.value.arrayValue,n)}}class f7 extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!am(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>im(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,n=null,r=[],i=[],a=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.Te=null}}function qE(t,e=null,n=[],r=[],i=null,a=null,o=null){return new d7(t,e,n,r,i,a,o)}function Ou(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>zE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Mm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>pf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>pf(r))).join(",")),e.Te=n}return e.Te}function Lm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$P(t.startAt,e.startAt)&&$P(t.endAt,e.endAt)}function $y(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ky(t,e){return t.filters.filter((n=>n instanceof lt&&n.field.isEqual(e)))}function KP(t,e,n){let r=Sy,i=!0;for(const a of Ky(t,e)){let o=Sy,u=!0;switch(a.op){case"<":case"<=":o=r7(a.value);break;case"==":case"in":case">=":o=a.value;break;case">":o=a.value,u=!1;break;case"!=":case"not-in":o=Sy}zP({value:r,inclusive:i},{value:o,inclusive:u})<0&&(r=o,i=u)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=n.position[a];zP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function HP(t,e,n){let r=qo,i=!0;for(const a of Ky(t,e)){let o=qo,u=!0;switch(a.op){case">=":case">":o=i7(a.value),u=!1;break;case"==":case"in":case"<=":o=a.value;break;case"<":o=a.value,u=!1;break;case"!=":case"not-in":o=qo}qP({value:r,inclusive:i},{value:o,inclusive:u})>0&&(r=o,i=u)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=n.position[a];qP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n=null,r=[],i=[],a=null,o="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rV(t,e,n,r,i,a,o,u){return new $u(t,e,n,r,i,a,o,u)}function Vm(t){return new $u(t)}function GP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TA(t){return t.collectionGroup!==null}function Jc(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Ct(Wt.comparator);return o.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new sm(a,r))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new sm(Wt.keyField(),r))}return e.Ie}function ei(t){const e=Pe(t);return e.Ee||(e.Ee=h7(e,Jc(t))),e.Ee}function h7(t,e){if(t.limitType==="F")return qE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new sm(i.field,a)}));const n=t.endAt?new tl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tl(t.startAt.position,t.startAt.inclusive):null;return qE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function FE(t,e){const n=t.filters.concat([e]);return new $u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hy(t,e,n){return new $u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function db(t,e){return Lm(ei(t),ei(e))&&t.limitType===e.limitType}function iV(t){return`${Ou(ei(t))}|lt:${t.limitType}`}function Wc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>eV(i))).join(", ")}]`),Mm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>pf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>pf(i))).join(",")),`Target(${r})`})(ei(t))}; limitType=${t.limitType})`}function Um(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Jc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,u,f){const d=FP(o,u,f);return o.inclusive?d<=0:d<0})(r.startAt,Jc(r),i)||r.endAt&&!(function(o,u,f){const d=FP(o,u,f);return o.inclusive?d>=0:d>0})(r.endAt,Jc(r),i))})(t,e)}function aV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sV(t){return(e,n)=>{let r=!1;for(const i of Jc(t)){const a=m7(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function m7(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):(function(a,o,u){const f=o.data.field(a),d=u.data.field(a);return f!==null&&d!==null?el(f,d):Ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hl(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return BL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=new Vt(Se.comparator);function Zr(){return p7}const oV=new Vt(Se.comparator);function Ih(...t){let e=oV;for(const n of t)e=e.insert(n.key,n);return e}function lV(t){let e=oV;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ma(){return Uh()}function uV(){return Uh()}function Uh(){return new Bs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const g7=new Vt(Se.comparator),y7=new Ct(Se.comparator);function et(...t){let e=y7;for(const n of t)e=e.add(n);return e}const v7=new Ct(He);function IA(){return v7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function cV(t){return{integerValue:""+t}}function fV(t,e){return NL(e)?cV(e):CA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this._=void 0}}function b7(t,e,n){return t instanceof yf?(function(i,a){const o={fields:{[FL]:{stringValue:qL},[KL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ub(a)&&(a=cb(a)),a&&(o.fields[$L]=a),{mapValue:o}})(n,e):t instanceof vf?hV(t,e):t instanceof bf?mV(t,e):(function(i,a){const o=dV(i,a),u=WP(o)+WP(i.Ae);return UE(o)&&UE(i.Ae)?cV(u):CA(i.serializer,u)})(t,e)}function _7(t,e,n){return t instanceof vf?hV(t,e):t instanceof bf?mV(t,e):n}function dV(t,e){return t instanceof _f?(function(r){return UE(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class yf extends hb{}class vf extends hb{constructor(e){super(),this.elements=e}}function hV(t,e){const n=pV(e);for(const r of t.elements)n.some((i=>za(i,r)))||n.push(r);return{arrayValue:{values:n}}}class bf extends hb{constructor(e){super(),this.elements=e}}function mV(t,e){let n=pV(e);for(const r of t.elements)n=n.filter((i=>!za(i,r)));return{arrayValue:{values:n}}}class _f extends hb{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function WP(t){return Kt(t.integerValue||t.doubleValue)}function pV(t){return am(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n){this.field=e,this.transform=n}}function x7(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof vf&&i instanceof vf||r instanceof bf&&i instanceof bf?lf(r.elements,i.elements,za):r instanceof _f&&i instanceof _f?za(r.Ae,i.Ae):r instanceof yf&&i instanceof yf})(t.transform,e.transform)}class w7{constructor(e,n){this.version=e,this.transformResults=n}}class pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mb{}function gV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bm(t.key,pn.none()):new zf(t.key,t.data,pn.none());{const n=t.data,r=ar.empty();let i=new Ct(Wt.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new zs(t.key,r,new Rr(i.toArray()),pn.none())}}function E7(t,e,n){t instanceof zf?(function(i,a,o){const u=i.value.clone(),f=QP(i.fieldTransforms,a,o.transformResults);u.setAll(f),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):t instanceof zs?(function(i,a,o){if(!Iy(i.precondition,a))return void a.convertToUnknownDocument(o.version);const u=QP(i.fieldTransforms,a,o.transformResults),f=a.data;f.setAll(yV(i)),f.setAll(u),a.convertToFoundDocument(o.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Bh(t,e,n,r){return t instanceof zf?(function(a,o,u,f){if(!Iy(a.precondition,o))return u;const d=a.value.clone(),m=XP(a.fieldTransforms,f,o);return d.setAll(m),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof zs?(function(a,o,u,f){if(!Iy(a.precondition,o))return u;const d=XP(a.fieldTransforms,f,o),m=o.data;return m.setAll(yV(a)),m.setAll(d),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,o,u){return Iy(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(t,e,n)}function S7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=dV(r.transform,i||null);a!=null&&(n===null&&(n=ar.empty()),n.set(r.field,a))}return n||null}function YP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lf(r,i,((a,o)=>x7(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zf extends mb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zs extends mb{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function yV(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function QP(t,e,n){const r=new Map;Re(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,u=e.data.field(a.field);r.set(a.field,_7(o,u,n[i]))}return r}function XP(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,b7(a,o,e))}return r}class Bm extends mb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OA extends mb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&E7(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uV();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let u=this.applyToLocalView(o,a.mutatedFields);u=n.has(i.key)?null:u;const f=gV(o,u);f!==null&&r.set(i.key,f),o.isValidDocument()||o.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&lf(this.mutations,e.mutations,((n,r)=>YP(n,r)))&&lf(this.baseMutations,e.baseMutations,((n,r)=>YP(n,r)))}}class RA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return g7})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new RA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,ct;function vV(t){switch(t){case ae.OK:return Ie(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function bV(t){if(t===void 0)return mn("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Tn.OK:return ae.OK;case Tn.CANCELLED:return ae.CANCELLED;case Tn.UNKNOWN:return ae.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return ae.INTERNAL;case Tn.UNAVAILABLE:return ae.UNAVAILABLE;case Tn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Tn.NOT_FOUND:return ae.NOT_FOUND;case Tn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Tn.ABORTED:return ae.ABORTED;case Tn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Tn.DATA_LOSS:return ae.DATA_LOSS;default:return Ie(39323,{code:t})}}(ct=Tn||(Tn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=new Ho([4294967295,4294967295],0);function ZP(t){const e=T7().encode(t),n=new fL;return n.update(e),new Uint8Array(n.digest())}function JP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ho([n,r],0),new Ho([i,a],0)]}class jA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ch(`Invalid padding: ${n}`);if(r<0)throw new Ch(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ch(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ch(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ho.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ho.fromNumber(r)));return i.compare(I7)===1&&(i=new Ho([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZP(e),[r,i]=JP(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new jA(a,i,n);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.ge===0)return;const n=ZP(e),[r,i]=JP(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ch extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zm(ke.min(),i,new Vt(He),Zr(),et())}}class qm{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qm(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class _V{constructor(e,n){this.targetId=e,this.Ce=n}}class xV{constructor(e,n,r=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class eR{constructor(){this.ve=0,this.Fe=tR(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),r=et();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie(38017,{changeType:a})}})),new qm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=tR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class C7{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zr(),this.Je=Wg(),this.He=Wg(),this.Ye=new Vt(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if($y(a))if(r===0){const o=new Se(a.path);this.et(n,o,Gt.newNoDocument(o,ke.min()))}else Re(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),f=u?this.ct(u,e,o):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,u;try{o=js(r).toUint8Array()}catch(f){if(f instanceof zL)return Cu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new jA(o,i,a)}catch(f){return Cu(f instanceof Ch?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const u=this.ot(o);if(u){if(a.current&&$y(u.target)){const f=new Se(u.target.path);this.It(f).has(o)||this.Et(o,f)||this.et(o,f,Gt.newNoDocument(f,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=et();this.He.forEach(((a,o)=>{let u=!0;o.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new zm(e,n,this.Ye,this.je,r);return this.je=Zr(),this.Je=Wg(),this.He=Wg(),this.Ye=new Vt(He),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eR,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ct(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ct(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eR),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wg(){return new Vt(Se.comparator)}function tR(){return new Vt(Se.comparator)}const N7={asc:"ASCENDING",desc:"DESCENDING"},O7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P7={and:"AND",or:"OR"};class R7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $E(t,e){return t.useProto3Json||Mm(e)?e:{value:e}}function xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function D7(t,e){return xf(t,e.toTimestamp())}function Kn(t){return Re(!!t,49232),ke.fromTimestamp((function(n){const r=Ds(n);return new ot(r.seconds,r.nanos)})(t))}function MA(t,e){return KE(t,e).canonicalString()}function KE(t,e){const n=(function(i){return new ft(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function EV(t){const e=ft.fromString(t);return Re(RV(e),10190,{key:e.toString()}),e}function om(t,e){return MA(t.databaseId,e.path)}function Ss(t,e){const n=EV(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(TV(n))}function SV(t,e){return MA(t.databaseId,e)}function AV(t){const e=EV(t);return e.length===4?ft.emptyPath():TV(e)}function HE(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TV(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function nR(t,e,n){return{name:om(t,e),fields:n.value.mapValue.fields}}function j7(t,e,n){const r=Ss(t,e.name),i=Kn(e.updateTime),a=e.createTime?Kn(e.createTime):ke.min(),o=new ar({mapValue:{fields:e.fields}}),u=Gt.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function M7(t,e){return"found"in e?(function(r,i){Re(!!i.found,43571),i.found.name,i.found.updateTime;const a=Ss(r,i.found.name),o=Kn(i.found.updateTime),u=i.found.createTime?Kn(i.found.createTime):ke.min(),f=new ar({mapValue:{fields:i.found.fields}});return Gt.newFoundDocument(a,o,u,f)})(t,e):"missing"in e?(function(r,i){Re(!!i.missing,3894),Re(!!i.readTime,22933);const a=Ss(r,i.missing),o=Kn(i.readTime);return Gt.newNoDocument(a,o)})(t,e):Ie(7234,{result:e})}function k7(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ie(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,m){return d.useProto3Json?(Re(m===void 0||typeof m=="string",58123),ln.fromBase64String(m||"")):(Re(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),ln.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(d){const m=d.code===void 0?ae.UNKNOWN:bV(d.code);return new me(m,d.message||"")})(o);n=new xV(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ss(t,r.document.name),a=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):ke.min(),u=new ar({mapValue:{fields:r.document.fields}}),f=Gt.newFoundDocument(i,a,o,u),d=r.targetIds||[],m=r.removedTargetIds||[];n=new Cy(d,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ss(t,r.document),a=r.readTime?Kn(r.readTime):ke.min(),o=Gt.newNoDocument(i,a),u=r.removedTargetIds||[];n=new Cy([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ss(t,r.document),a=r.removedTargetIds||[];n=new Cy([],a,i,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new A7(i,a),u=r.targetId;n=new _V(u,o)}}return n}function lm(t,e){let n;if(e instanceof zf)n={update:nR(t,e.key,e.value)};else if(e instanceof Bm)n={delete:om(t,e.key)};else if(e instanceof zs)n={update:nR(t,e.key,e.data),updateMask:q7(e.fieldMask)};else{if(!(e instanceof OA))return Ie(16599,{Vt:e.type});n={verify:om(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const u=o.transform;if(u instanceof yf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof vf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof bf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof _f)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw Ie(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:D7(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie(27497)})(t,e.precondition)),n}function GE(t,e){const n=e.currentDocument?(function(a){return a.updateTime!==void 0?pn.updateTime(Kn(a.updateTime)):a.exists!==void 0?pn.exists(a.exists):pn.none()})(e.currentDocument):pn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(o,u){let f=null;if("setToServerValue"in u)Re(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),f=new yf;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];f=new vf(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];f=new bf(m)}else"increment"in u?f=new _f(o,u.increment):Ie(16584,{proto:u});const d=Wt.fromServerFormat(u.fieldPath);return new NA(d,f)})(t,i))):[];if(e.update){e.update.name;const i=Ss(t,e.update.name),a=new ar({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=(function(f){const d=f.fieldPaths||[];return new Rr(d.map((m=>Wt.fromServerFormat(m))))})(e.updateMask);return new zs(i,a,o,n,r)}return new zf(i,a,n,r)}if(e.delete){const i=Ss(t,e.delete);return new Bm(i,n)}if(e.verify){const i=Ss(t,e.verify);return new OA(i,n)}return Ie(1463,{proto:e})}function L7(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?Kn(i.updateTime):Kn(a);return o.isEqual(ke.min())&&(o=Kn(a)),new w7(o,i.transformResults||[])})(n,e)))):[]}function IV(t,e){return{documents:[SV(t,e.path)]}}function CV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SV(t,i);const a=(function(d){if(d.length!==0)return PV(It.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(d){if(d.length!==0)return d.map((m=>(function(y){return{field:Yc(y.field),direction:U7(y.dir)}})(m)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=$E(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function NV(t){let e=AV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(p){const y=OV(p);return y instanceof It&&AA(y)?y.getFilters():[y]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((y=>(function(A){return new sm(Qc(A.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let y;return y=typeof p=="object"?p.value:p,Mm(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(p){const y=!!p.before,b=p.values||[];return new tl(b,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const y=!p.before,b=p.values||[];return new tl(b,y)})(n.endAt)),rV(e,i,o,a,u,"F",f,d)}function V7(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OV(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qc(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qc(n.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Qc(n.unaryFilter.field);return lt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qc(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return lt.create(Qc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return It.create(n.compositeFilter.filters.map((r=>OV(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(t):Ie(30097,{filter:t})}function U7(t){return N7[t]}function B7(t){return O7[t]}function z7(t){return P7[t]}function Yc(t){return{fieldPath:t.canonicalString()}}function Qc(t){return Wt.fromServerFormat(t.fieldPath)}function PV(t){return t instanceof lt?(function(n){if(n.op==="=="){if(BP(n.value))return{unaryFilter:{field:Yc(n.field),op:"IS_NAN"}};if(UP(n.value))return{unaryFilter:{field:Yc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BP(n.value))return{unaryFilter:{field:Yc(n.field),op:"IS_NOT_NAN"}};if(UP(n.value))return{unaryFilter:{field:Yc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yc(n.field),op:B7(n.op),value:n.value}}})(t):t instanceof It?(function(n){const r=n.getFilters().map((i=>PV(i)));return r.length===1?r[0]:{compositeFilter:{op:z7(n.op),filters:r}}})(t):Ie(54877,{filter:t})}function q7(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function RV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r,i,a=ke.min(),o=ke.min(),u=ln.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.yt=e}}function F7(t,e){let n;if(e.document)n=j7(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Se.fromSegments(e.noDocument.path),i=Ru(e.noDocument.readTime);n=Gt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ie(56709);{const r=Se.fromSegments(e.unknownDocument.path),i=Ru(e.unknownDocument.version);n=Gt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const a=new ot(i[0],i[1]);return ke.fromTimestamp(a)})(e.readTime)),n}function rR(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Gy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(a,o){return{name:om(a,o.key),fields:o.data.value.mapValue.fields,updateTime:xf(a,o.version.toTimestamp()),createTime:xf(a,o.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Pu(e.version)};else{if(!e.isUnknownDocument())return Ie(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Pu(e.version)}}return r}function Gy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Pu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ru(t){const e=new ot(t.seconds,t.nanoseconds);return ke.fromTimestamp(e)}function uu(t,e){const n=(e.baseMutations||[]).map((a=>GE(t.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const o=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const u=e.mutations[a+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map((a=>GE(t.yt,a))),i=ot.fromMillis(e.localWriteTimeMs);return new PA(e.batchId,i,n,r)}function Nh(t){const e=Ru(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ru(t.lastLimboFreeSnapshotVersion):ke.min();let r;return r=(function(a){return a.documents!==void 0})(t.query)?(function(a){const o=a.documents.length;return Re(o===1,1966,{count:o}),ei(Vm(AV(a.documents[0])))})(t.query):(function(a){return ei(NV(a))})(t.query),new vs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,ln.fromBase64String(t.resumeToken))}function jV(t,e){const n=Pu(e.snapshotVersion),r=Pu(e.lastLimboFreeSnapshotVersion);let i;i=$y(e.target)?IV(t.yt,e.target):CV(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ou(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function MV(t){const e=NV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hy(e,e.limit,"L"):e}function Ix(t,e){return new DA(e.largestBatchId,GE(t.yt,e.overlayMutation))}function iR(t,e){const n=e.path.lastSegment();return[t,pr(e.path.popLast()),n]}function aR(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Pu(r.readTime),documentKey:pr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{getBundleMetadata(e,n){return sR(e).get(n).next((r=>{if(r)return(function(a){return{id:a.bundleId,createTime:Ru(a.createTime),version:a.version}})(r)}))}saveBundleMetadata(e,n){return sR(e).put((function(i){return{bundleId:i.id,createTime:Pu(Kn(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return oR(e).get(n).next((r=>{if(r)return(function(a){return{name:a.name,query:MV(a.bundledQuery),readTime:Ru(a.readTime)}})(r)}))}saveNamedQuery(e,n){return oR(e).put((function(i){return{name:i.name,readTime:Pu(Kn(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function sR(t){return jn(t,sb)}function oR(t){return jn(t,ob)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new pb(e,r)}getOverlay(e,n){return oh(e).get(iR(this.userId,n)).next((r=>r?Ix(this.serializer,r):null))}getOverlays(e,n){const r=Ma();return Q.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((a,o)=>{const u=new DA(n,o);i.push(this.St(e,u))})),Q.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((o=>i.add(pr(o.getCollectionPath()))));const a=[];return i.forEach((o=>{const u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);a.push(oh(e).Z(kE,u))})),Q.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Ma(),a=pr(n),o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return oh(e).J(kE,o).next((u=>{for(const f of u){const d=Ix(this.serializer,f);i.set(d.getKey(),d)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const a=Ma();let o;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return oh(e).ee({index:ML,range:u},((f,d,m)=>{const p=Ix(this.serializer,d);a.size()<i||p.largestBatchId===o?(a.set(p.getKey(),p),o=p.largestBatchId):m.done()})).next((()=>a))}St(e,n){return oh(e).put((function(i,a,o){const[u,f,d]=iR(a,o.mutation.key);return{userId:a,collectionPath:f,documentId:d,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:lm(i.yt,o.mutation)}})(this.serializer,this.userId,n))}}function oh(t){return jn(t,lb)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{bt(e){return jn(e,xA)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?ln.fromUint8Array(r):ln.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Kt(e.integerValue));else if("doubleValue"in e){const r=Kt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Zh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ds(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(js(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?GL(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):fb(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ie(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var o,u;const r=e.fields||{};this.Ft(n,53);const i=mf,a=((u=(o=r[i].arrayValue)==null?void 0:o.values)==null?void 0:u.length)||0;this.Ft(n,15),n.Mt(Kt(a)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Se.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}cu.Kt=new cu;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=255;function H7(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function lR(t){const e=64-(function(r){let i=0;for(let a=0;a<8;++a){const o=H7(255&r[a]);if(i+=o,o!==8)break}return i})(t);return Math.ceil(e/8)}class G7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=lR(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=lR(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Bc),this.sn(255)}_n(){this.an(Bc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(a){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,a,!1),new Uint8Array(o.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Bc?(this.sn(Bc),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Bc?(this.an(Bc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class W7{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Y7{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class lh{constructor(){this.cn=new G7,this.ln=new W7(this.cn),this.hn=new Y7(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new fu(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Ny(this.En),directionalValue:Ny(this.dn),orderedDocumentKey:Ny(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function No(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=uR(t.En,e.En),n!==0?n:(n=uR(t.dn,e.dn),n!==0?n:Se.comparator(t.In,e.In)))}function uR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Ny(t){return iL()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function cR(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class fR{constructor(e){this.mn=new Ct(((n,r)=>Wt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Re(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=DE(e);if(n!==void 0&&!this.wn(n))return!1;const r=ru(e);let i=new Set,a=0,o=0;for(;a<r.length&&this.wn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const f=r[a];if(!this.Sn(u,f)||!this.bn(this.fn[o++],f))return!1}++a}for(;a<r.length;++a){const u=r[a];if(o>=this.fn.length||!this.bn(this.fn[o++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new Ct(Wt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new xy(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new xy(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new xy(r.field,r.dir==="asc"?0:1)));return new By(By.UNKNOWN_ID,this.collectionId,n,Xh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){var n,r;if(Re(t instanceof lt||t instanceof It,20012),t instanceof lt){if(t instanceof nV){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((a=>lt.create(t.field,"==",a))))||[];return It.create(i,"or")}return t}const e=t.filters.map((i=>kV(i)));return It.create(e,t.op)}function Q7(t){if(t.getFilters().length===0)return[];const e=QE(kV(t));return Re(LV(e),7391),WE(e)||YE(e)?[e]:e.getFilters()}function WE(t){return t instanceof lt}function YE(t){return t instanceof It&&AA(t)}function LV(t){return WE(t)||YE(t)||(function(n){if(n instanceof It&&BE(n)){for(const r of n.getFilters())if(!WE(r)&&!YE(r))return!1;return!0}return!1})(t)}function QE(t){if(Re(t instanceof lt||t instanceof It,34018),t instanceof lt)return t;if(t.filters.length===1)return QE(t.filters[0]);const e=t.filters.map((r=>QE(r)));let n=It.create(e,t.op);return n=Wy(n),LV(n)?n:(Re(n instanceof It,64498),Re(gf(n),40251),Re(n.filters.length>1,57927),n.filters.reduce(((r,i)=>kA(r,i))))}function kA(t,e){let n;return Re(t instanceof lt||t instanceof It,38388),Re(e instanceof lt||e instanceof It,25473),n=t instanceof lt?e instanceof lt?(function(i,a){return It.create([i,a],"and")})(t,e):dR(t,e):e instanceof lt?dR(e,t):(function(i,a){if(Re(i.filters.length>0&&a.filters.length>0,48005),gf(i)&&gf(a))return JL(i,a.getFilters());const o=BE(i)?i:a,u=BE(i)?a:i,f=o.filters.map((d=>kA(d,u)));return It.create(f,"or")})(t,e),Wy(n)}function dR(t,e){if(gf(e))return JL(e,t.getFilters());{const n=e.filters.map((r=>kA(t,r)));return It.create(n,"or")}}function Wy(t){if(Re(t instanceof lt||t instanceof It,11850),t instanceof lt)return t;const e=t.getFilters();if(e.length===1)return Wy(e[0]);if(XL(t))return t;const n=e.map((i=>Wy(i))),r=[];return n.forEach((i=>{i instanceof lt?r.push(i):i instanceof It&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:It.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(){this.Cn=new LA}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(ri.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class LA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ct(ft.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="IndexedDbIndexManager",Yg=new Uint8Array(0);class Z7{constructor(e,n){this.databaseId=n,this.vn=new LA,this.Fn=new Bs((r=>Ou(r)),((r,i)=>Lm(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const a={collectionId:r,parent:pr(i)};return mR(e).put(a)}return Q.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[_L(n),""],!1,!0);return mR(e).J(i).next((a=>{for(const o of a){if(o.collectionId!==n)break;r.push(ja(o.parent))}return r}))}addFieldIndex(e,n){const r=uh(e),i=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(n);delete i.indexId;const a=r.add(i);if(n.indexState){const o=qc(e);return a.next((u=>{o.put(aR(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return a.next()}deleteFieldIndex(e,n){const r=uh(e),i=qc(e),a=zc(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=uh(e),r=zc(e),i=qc(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const a=new fR(r).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,n){const r=zc(e);let i=!0;const a=new Map;return Q.forEach(this.Mn(n),(o=>this.xn(e,o).next((u=>{i&&(i=!!u),a.set(o,u)})))).next((()=>{if(i){let o=et();const u=[];return Q.forEach(a,((f,d)=>{he(hR,`Using index ${(function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map((k=>`${k.fieldPath}:${k.kind}`)).join(",")}`})(f)} to execute ${Ou(n)}`);const m=(function(P,k){const M=DE(k);if(M===void 0)return null;for(const L of Ky(P,M.fieldPath))switch(L.op){case"array-contains-any":return L.value.arrayValue.values||[];case"array-contains":return[L.value]}return null})(d,f),p=(function(P,k){const M=new Map;for(const L of ru(k))for(const R of Ky(P,L.fieldPath))switch(R.op){case"==":case"in":M.set(L.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return M.set(L.fieldPath.canonicalString(),R.value),Array.from(M.values())}return null})(d,f),y=(function(P,k){const M=[];let L=!0;for(const R of ru(k)){const C=R.kind===0?KP(P,R.fieldPath,P.startAt):HP(P,R.fieldPath,P.startAt);M.push(C.value),L&&(L=C.inclusive)}return new tl(M,L)})(d,f),b=(function(P,k){const M=[];let L=!0;for(const R of ru(k)){const C=R.kind===0?HP(P,R.fieldPath,P.endAt):KP(P,R.fieldPath,P.endAt);M.push(C.value),L&&(L=C.inclusive)}return new tl(M,L)})(d,f),A=this.On(f,d,y),w=this.On(f,d,b),S=this.Nn(f,d,p),I=this.Bn(f.indexId,m,A,y.inclusive,w,b.inclusive,S);return Q.forEach(I,(N=>r.Y(N,n.limit).next((P=>{P.forEach((k=>{const M=Se.fromSegments(k.documentKey);o.has(M)||(o=o.add(M),u.push(M))}))}))))})).next((()=>u))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=Q7(It.create(e.filters,"and")).map((r=>qE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,a,o,u){const f=(n!=null?n.length:1)*Math.max(r.length,a.length),d=f/(n!=null?n.length:1),m=[];for(let p=0;p<f;++p){const y=n?this.Ln(n[p/d]):Yg,b=this.kn(e,y,r[p%d],i),A=this.qn(e,y,a[p%d],o),w=u.map((S=>this.kn(e,y,S,!0)));m.push(...this.createRange(b,A,w))}return m}kn(e,n,r,i){const a=new fu(e,Se.empty(),n,r);return i?a:a.An()}qn(e,n,r,i){const a=new fu(e,Se.empty(),n,r);return i?a.An():a}xn(e,n){const r=new fR(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let o=null;for(const u of a)r.yn(u)&&(!o||u.fields.length>o.fields.length)&&(o=u);return o}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Q.forEach(i,(a=>this.xn(e,a).next((o=>{o?r!==0&&o.fields.length<(function(f){let d=new Ct(Wt.comparator),m=!1;for(const p of f.filters)for(const y of p.getFlattenedFilters())y.field.isKeyField()||(y.op==="array-contains"||y.op==="array-contains-any"?m=!0:d=d.add(y.field));for(const p of f.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(m?1:0)})(a)&&(r=1):r=0})))).next((()=>(function(o){return o.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new lh;for(const i of ru(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const o=r.Pn(i.kind);cu.Kt.Dt(a,o)}return r.un()}Ln(e){const n=new lh;return cu.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new lh;return cu.Kt.Dt(Nu(this.databaseId,n),r.Pn((function(a){const o=ru(a);return o.length===0?0:o[o.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new lh);let a=0;for(const o of ru(e)){const u=r[a++];for(const f of i)if(this.Un(n,o.fieldPath)&&am(u))i=this.Kn(i,o,u);else{const d=f.Pn(o.kind);cu.Kt.Dt(u,d)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],a=[];for(const o of r.arrayValue.values||[])for(const u of i){const f=new lh;f.seed(u.un()),cu.Kt.Dt(o,f.Pn(n.kind)),a.push(f)}return a}Un(e,n){return!!e.filters.find((r=>r instanceof lt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=uh(e),i=qc(e);return(n?r.J(ME,IDBKeyRange.bound(n,n)):r.J()).next((a=>{const o=[];return Q.forEach(a,(u=>i.get([u.indexId,this.uid]).next((f=>{o.push((function(m,p){const y=p?new Xh(p.sequenceNumber,new ri(Ru(p.readTime),new Se(ja(p.documentKey)),p.largestBatchId)):Xh.empty(),b=m.fields.map((([A,w])=>new xy(Wt.fromServerFormat(A),w)));return new By(m.indexId,m.collectionGroup,b,y)})(u,f))})))).next((()=>o))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:He(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=uh(e),a=qc(e);return this.Gn(e).next((o=>i.J(ME,IDBKeyRange.bound(n,n)).next((u=>Q.forEach(u,(f=>a.put(aR(f.indexId,this.uid,o,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((i,a)=>{const o=r.get(i.collectionGroup);return(o?Q.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next((u=>(r.set(i.collectionGroup,u),Q.forEach(u,(f=>this.zn(e,i,f).next((d=>{const m=this.jn(a,f);return d.isEqual(m)?Q.resolve():this.Jn(e,a,f,d,m)})))))))}))}Hn(e,n,r,i){return zc(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return zc(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=zc(e);let a=new Ct(No);return i.ee({index:jL,range:IDBKeyRange.only([r.indexId,this.uid,Ny(this.$n(r,n))])},((o,u)=>{a=a.add(new fu(r.indexId,n,cR(u.arrayValue),cR(u.directionalValue)))})).next((()=>a))}jn(e,n){let r=new Ct(No);const i=this.Qn(n,e);if(i==null)return r;const a=DE(n);if(a!=null){const o=e.data.field(a.fieldPath);if(am(o))for(const u of o.arrayValue.values||[])r=r.add(new fu(n.indexId,e.key,this.Ln(u),i))}else r=r.add(new fu(n.indexId,e.key,Yg,i));return r}Jn(e,n,r,i,a){he(hR,"Updating index entries for document '%s'",n.key);const o=[];return(function(f,d,m,p,y){const b=f.getIterator(),A=d.getIterator();let w=Uc(b),S=Uc(A);for(;w||S;){let I=!1,N=!1;if(w&&S){const P=m(w,S);P<0?N=!0:P>0&&(I=!0)}else w!=null?N=!0:I=!0;I?(p(S),S=Uc(A)):N?(y(w),w=Uc(b)):(w=Uc(b),S=Uc(A))}})(i,a,No,(u=>{o.push(this.Hn(e,n,r,u))}),(u=>{o.push(this.Yn(e,n,r,u))})),Q.waitFor(o)}Gn(e){let n=1;return qc(e).ee({index:DL,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,a)=>{a.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((o,u)=>No(o,u))).filter(((o,u,f)=>!u||No(o,f[u-1])!==0));const i=[];i.push(e);for(const o of r){const u=No(o,e),f=No(o,n);if(u===0)i[0]=e.An();else if(u>0&&f<0)i.push(o),i.push(o.An());else if(f>0)break}i.push(n);const a=[];for(let o=0;o<i.length;o+=2){if(this.Zn(i[o],i[o+1]))return[];const u=i[o].Vn(this.uid,Yg,Se.empty()),f=i[o+1].Vn(this.uid,Yg,Se.empty());a.push(IDBKeyRange.bound(u,f))}return a}Zn(e,n){return No(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(pR)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Ie(44426))))).next(pR)}}function mR(t){return jn(t,tm)}function zc(t){return jn(t,Lh)}function uh(t){return jn(t,_A)}function qc(t){return jn(t,kh)}function pR(t){Re(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;yA(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ri(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VV=41943040;class fr{static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t,e,n){const r=t.store(Gi),i=t.store(cf),a=[],o=IDBKeyRange.only(n.batchId);let u=0;const f=r.ee({range:o},((m,p,y)=>(u++,y.delete())));a.push(f.next((()=>{Re(u===1,47070,{batchId:n.batchId})})));const d=[];for(const m of n.mutations){const p=OL(e,m.key.path,n.batchId);a.push(i.delete(p)),d.push(m.key)}return Q.waitFor(a).next((()=>d))}function Yy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ie(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(VV,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);class gb{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Re(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new gb(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oo(e).ee({index:du,range:r},((i,a,o)=>{n=!1,o.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const a=Xc(e),o=Oo(e);return o.add({}).next((u=>{Re(typeof u=="number",49019);const f=new PA(u,n,r,i),d=(function(b,A,w){const S=w.baseMutations.map((N=>lm(b.yt,N))),I=w.mutations.map((N=>lm(b.yt,N)));return{userId:A,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:S,mutations:I}})(this.serializer,this.userId,f),m=[];let p=new Ct(((y,b)=>He(y.canonicalString(),b.canonicalString())));for(const y of i){const b=OL(this.userId,y.key.path,u);p=p.add(y.key.path.popLast()),m.push(o.put(d)),m.push(a.put(b,P8))}return p.forEach((y=>{m.push(this.indexManager.addToCollectionParentIndex(e,y))})),e.addOnCommittedListener((()=>{this.Xn[u]=f.keys()})),Q.waitFor(m).next((()=>f))}))}lookupMutationBatch(e,n){return Oo(e).get(n).next((r=>r?(Re(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),uu(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Oo(e).ee({index:du,range:i},((o,u,f)=>{u.userId===this.userId&&(Re(u.batchId>=r,47524,{tr:r}),a=uu(this.serializer,u)),f.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=bu;return Oo(e).ee({index:du,range:n,reverse:!0},((i,a,o)=>{r=a.batchId,o.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,bu],[this.userId,Number.POSITIVE_INFINITY]);return Oo(e).J(du,n).next((r=>r.map((i=>uu(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=wy(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return Xc(e).ee({range:i},((o,u,f)=>{const[d,m,p]=o,y=ja(m);if(d===this.userId&&n.path.isEqual(y))return Oo(e).get(p).next((b=>{if(!b)throw Ie(61480,{nr:o,batchId:p});Re(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:p}),a.push(uu(this.serializer,b))}));f.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(He);const i=[];return n.forEach((a=>{const o=wy(this.userId,a.path),u=IDBKeyRange.lowerBound(o),f=Xc(e).ee({range:u},((d,m,p)=>{const[y,b,A]=d,w=ja(b);y===this.userId&&a.path.isEqual(w)?r=r.add(A):p.done()}));i.push(f)})),Q.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=wy(this.userId,r),o=IDBKeyRange.lowerBound(a);let u=new Ct(He);return Xc(e).ee({range:o},((f,d,m)=>{const[p,y,b]=f,A=ja(y);p===this.userId&&r.isPrefixOf(A)?A.length===i&&(u=u.add(b)):m.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],i=[];return n.forEach((a=>{i.push(Oo(e).get(a).next((o=>{if(o===null)throw Ie(35274,{batchId:a});Re(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:a}),r.push(uu(this.serializer,o))})))})),Q.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return UV(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(o){return[o]})(this.userId)),i=[];return Xc(e).ee({range:r},((a,o,u)=>{if(a[0]===this.userId){const f=ja(a[1]);i.push(f)}else u.done()})).next((()=>{Re(i.length===0,56720,{sr:i.map((a=>a.canonicalString()))})}))}))}containsKey(e,n){return BV(e,this.userId,n)}_r(e){return zV(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:bu,lastStreamToken:""}))}}function BV(t,e,n){const r=wy(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let o=!1;return Xc(t).ee({range:a,X:!0},((u,f,d)=>{const[m,p,y]=u;m===e&&p===i&&(o=!0),d.done()})).next((()=>o))}function Oo(t){return jn(t,Gi)}function Xc(t){return jn(t,cf)}function zV(t){return jn(t,Jh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Du(0)}static cr(){return new Du(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Du(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>ke.fromTimestamp(new ot(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Fc(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Re(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const a=[];return Fc(e).ee(((o,u)=>{const f=Nh(u);f.sequenceNumber<=n&&r.get(f.targetId)===null&&(i++,a.push(this.removeTargetData(e,f)))})).next((()=>Q.waitFor(a))).next((()=>i))}forEachTarget(e,n){return Fc(e).ee(((r,i)=>{const a=Nh(i);n(a)}))}lr(e){return yR(e).get(Fy).next((n=>(Re(n!==null,2888),n)))}hr(e,n){return yR(e).put(Fy,n)}Pr(e,n){return Fc(e).put(jV(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Ou(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Fc(e).ee({range:i,index:RL},((o,u,f)=>{const d=Nh(u);Lm(n,d.target)&&(a=d,f.done())})).next((()=>a))}addMatchingKeys(e,n,r){const i=[],a=ko(e);return n.forEach((o=>{const u=pr(o.path);i.push(a.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,o))})),Q.waitFor(i)}removeMatchingKeys(e,n,r){const i=ko(e);return Q.forEach(n,(a=>{const o=pr(a.path);return Q.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,a)])}))}removeMatchingKeysForTargetId(e,n){const r=ko(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ko(e);let a=et();return i.ee({range:r,X:!0},((o,u,f)=>{const d=ja(o[1]),m=new Se(d);a=a.add(m)})).next((()=>a))}containsKey(e,n){const r=pr(n.path),i=IDBKeyRange.bound([r],[_L(r)],!1,!0);let a=0;return ko(e).ee({index:bA,X:!0,range:i},(([o,u],f,d)=>{o!==0&&(a++,d.done())})).next((()=>a>0))}At(e,n){return Fc(e).get(n).next((r=>r?Nh(r):null))}}function Fc(t){return jn(t,ff)}function yR(t){return jn(t,_u)}function ko(t){return jn(t,df)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="LruGarbageCollector",qV=1048576;function bR([t,e],[n,r]){const i=He(t,n);return i===0?He(e,r):i}class eK{constructor(e){this.Ir=e,this.buffer=new Ct(bR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(vR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dl(n)?he(vR,"Ignoring IndexedDB error during garbage collection: ",n):await fl(n)}await this.Vr(3e5)}))}}class tK{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Pr.ce);const r=new eK(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(gR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,u,f,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),Gc()<=st.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${i} in `+(u-o)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${p} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function $V(t,e){return new tK(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e,n){this.db=e,this.garbageCollector=$V(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Qg(e,r)}removeReference(e,n,r){return Qg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Qg(e,n)}br(e,n){return(function(i,a){let o=!1;return zV(i).te((u=>BV(i,u,a).next((f=>(f&&(o=!0),Q.resolve(!f)))))).next((()=>o))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,((o,u)=>{if(u<=n){const f=this.br(e,o).next((d=>{if(!d)return a++,r.getEntry(e,o).next((()=>(r.removeEntry(o,ke.min()),ko(e).delete((function(p){return[0,pr(p.path)]})(o)))))}));i.push(f)}})).next((()=>Q.waitFor(i))).next((()=>r.apply(e))).next((()=>a))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Qg(e,n)}Sr(e,n){const r=ko(e);let i,a=Pr.ce;return r.ee({index:bA},(([o,u],{path:f,sequenceNumber:d})=>{o===0?(a!==Pr.ce&&n(new Se(ja(i)),a),a=d,i=f):a=Pr.ce})).next((()=>{a!==Pr.ce&&n(new Se(ja(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qg(t,e){return ko(t).put((function(r,i){return{targetId:0,path:pr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.changes=new Bs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ql(e).put(r)}removeEntry(e,n,r){return Ql(e).delete((function(a,o){const u=a.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Gy(o),u[u.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Gt.newInvalidDocument(n);return Ql(e).ee({index:Ey,range:IDBKeyRange.only(ch(n))},((i,a)=>{r=this.Cr(n,a)})).next((()=>r))}vr(e,n){let r={size:0,document:Gt.newInvalidDocument(n)};return Ql(e).ee({index:Ey,range:IDBKeyRange.only(ch(n))},((i,a)=>{r={document:this.Cr(n,a),size:Yy(a)}})).next((()=>r))}getEntries(e,n){let r=Zr();return this.Fr(e,n,((i,a)=>{const o=this.Cr(i,a);r=r.insert(i,o)})).next((()=>r))}Mr(e,n){let r=Zr(),i=new Vt(Se.comparator);return this.Fr(e,n,((a,o)=>{const u=this.Cr(a,o);r=r.insert(a,u),i=i.insert(a,Yy(o))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let i=new Ct(wR);n.forEach((f=>i=i.add(f)));const a=IDBKeyRange.bound(ch(i.first()),ch(i.last())),o=i.getIterator();let u=o.getNext();return Ql(e).ee({index:Ey,range:a},((f,d,m)=>{const p=Se.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;u&&wR(u,p)<0;)r(u,null),u=o.getNext();u&&u.isEqual(p)&&(r(u,d),u=o.hasNext()?o.getNext():null),u?m.j(ch(u)):m.done()})).next((()=>{for(;u;)r(u,null),u=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,a){const o=n.path,u=[o.popLast().toArray(),o.lastSegment(),Gy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ql(e).J(IDBKeyRange.bound(u,f,!0)).next((d=>{a==null||a.incrementDocumentReadCount(d.length);let m=Zr();for(const p of d){const y=this.Cr(Se.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);y.isFoundDocument()&&(Um(n,y)||i.has(y.key))&&(m=m.insert(y.key,y))}return m}))}getAllFromCollectionGroup(e,n,r,i){let a=Zr();const o=xR(n,r),u=xR(n,ri.max());return Ql(e).ee({index:PL,range:IDBKeyRange.bound(o,u,!0)},((f,d,m)=>{const p=this.Cr(Se.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);a=a.insert(p.key,p),a.size===i&&m.done()})).next((()=>a))}newChangeBuffer(e){return new iK(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return _R(e).get(jE).next((n=>(Re(!!n,20021),n)))}Dr(e,n){return _R(e).put(jE,n)}Cr(e,n){if(n){const r=F7(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ke.min())))return r}return Gt.newInvalidDocument(e)}}function HV(t){return new rK(t)}class iK extends KV{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Bs((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Ct(((a,o)=>He(a.canonicalString(),o.canonicalString())));return this.changes.forEach(((a,o)=>{const u=this.Br.get(a);if(n.push(this.Nr.removeEntry(e,a,u.readTime)),o.isValidDocument()){const f=rR(this.Nr.serializer,o);i=i.add(a.path.popLast());const d=Yy(f);r+=d-u.size,n.push(this.Nr.addEntry(e,a,f))}else if(r-=u.size,this.trackRemovals){const f=rR(this.Nr.serializer,o.convertToNoDocument(ke.min()));n.push(this.Nr.addEntry(e,a,f))}})),i.forEach((a=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((a,o)=>{this.Br.set(a,{size:o,readTime:r.get(a).readTime})})),r)))}}function _R(t){return jn(t,em)}function Ql(t){return jn(t,qy)}function ch(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xR(t,e){const n=e.documentKey.path.toArray();return[t,Gy(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function wR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=He(n[a],r[a]),i)return i;return i=He(n.length,r.length),i||(i=He(n[n.length-2],r[r.length-2]),i||He(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Bh(r.mutation,i,Rr.empty(),ot.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,et()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=et()){const i=Ma();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=Ih();return a.forEach(((u,f)=>{o=o.insert(u,f.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Ma();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,et())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,u)=>{n.set(o,u)}))}))}computeViews(e,n,r,i){let a=Zr();const o=Uh(),u=(function(){return Uh()})();return n.forEach(((f,d)=>{const m=r.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof zs)?a=a.insert(d.key,d):m!==void 0?(o.set(d.key,m.mutation.getFieldMask()),Bh(m.mutation,d,m.mutation.getFieldMask(),ot.now())):o.set(d.key,Rr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((d,m)=>o.set(d,m))),n.forEach(((d,m)=>{var p;return u.set(d,new aK(m,(p=o.get(d))!=null?p:null))})),u)))}recalculateAndSaveOverlays(e,n){const r=Uh();let i=new Vt(((o,u)=>o-u)),a=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const u of o)u.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let m=r.get(f)||Rr.empty();m=u.applyToLocalView(d,m),r.set(f,m);const p=(i.get(u.batchId)||et()).add(f);i=i.insert(u.batchId,p)}))})).next((()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,m=f.value,p=uV();m.forEach((y=>{if(!a.has(y)){const b=gV(n.get(y),r.get(y));b!==null&&p.set(y,b),a=a.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return Q.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return Se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Q.resolve(Ma());let u=uf,f=a;return o.next((d=>Q.forEach(d,((m,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(m)?Q.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{f=f.insert(m,y)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,f,d,et()))).next((m=>({batchId:u,changes:lV(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((r=>{let i=Ih();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Ih();return this.indexManager.getCollectionParents(e,a).next((u=>Q.forEach(u,(f=>{const d=(function(p,y){return new $u(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((m=>{m.forEach(((p,y)=>{o=o.insert(p,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((f,d)=>{const m=d.getKey();o.get(m)===null&&(o=o.insert(m,Gt.newInvalidDocument(m)))}));let u=Ih();return o.forEach(((f,d)=>{const m=a.get(f);m!==void 0&&Bh(m.mutation,d,Rr.empty(),ot.now()),Um(n,d)&&(u=u.insert(f,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:MV(i.bundledQuery),readTime:Kn(i.readTime)}})(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(){this.overlays=new Vt(Se.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ma();return Q.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Ma(),a=n.length+1,o=new Se(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Vt(((d,m)=>d-m));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=a.get(d.largestBatchId);m===null&&(m=Ma(),a=a.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=Ma(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,m)=>u.set(d,m))),!(u.size()>=i)););return Q.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new DA(n,r));let a=this.qr.get(n);a===void 0&&(a=et(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.Qr=new Ct(zn.$r),this.Ur=new Ct(zn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new zn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new zn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Se(new ft([])),r=new zn(n,e),i=new zn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Se(new ft([])),r=new zn(n,e),i=new zn(n,e+1);let a=et();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new zn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Se.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(zn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new PA(a,n,r,i);this.mutationQueue.push(o);for(const u of i)this.Zr=this.Zr.add(new zn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?bu:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zn(n,0),i=new zn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const u=this.Xr(o.Yr);a.push(u)})),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(He);return n.forEach((i=>{const a=new zn(i,0),o=new zn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(u=>{r=r.add(u.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const o=new zn(new Se(a),0);let u=new Ct(He);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(f.Yr)),!0)}),o),Q.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(i=>{const a=new zn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new zn(n,0),i=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e){this.ri=e,this.docs=(function(){return new Vt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Gt.newInvalidDocument(i))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Zr();const o=n.path,u=new Se(o.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||yA(AL(m),r)<=0||(i.has(m.key)||Um(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ie(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new fK(this)}getSize(e){return Q.resolve(this.size)}}class fK extends KV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e){this.persistence=e,this.si=new Bs((n=>Ou(n)),Lm),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new VA,this.targetCount=0,this.ai=Du.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Du(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Q.waitFor(a).next((()=>i))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),Q.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Pr(0),this.li=!1,this.li=!0,this.hi=new lK,this.referenceDelegate=e(this),this.Pi=new dK(this),this.indexManager=new X7,this.remoteDocumentCache=(function(i){return new cK(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new DV(n),this.Ii=new sK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new uK(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new hK(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class hK extends IL{constructor(e){super(),this.currentSequenceNumber=e}}class yb{constructor(e){this.persistence=e,this.Ri=new VA,this.Vi=null}static mi(e){return new yb(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const i=Se.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Qy{constructor(e,n){this.persistence=e,this.pi=new Bs((r=>pr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=$V(this,n)}static mi(e,n){return new Qy(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Q.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((u=>{u||(r++,a.removeEntry(o,ke.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ay(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(e){this.serializer=e}k(e,n,r,i){const a=new ab("createOrUpgrade",n);r<1&&i>=1&&((function(f){f.createObjectStore(km)})(e),(function(f){f.createObjectStore(Jh,{keyPath:O8}),f.createObjectStore(Gi,{keyPath:DP,autoIncrement:!0}).createIndex(du,jP,{unique:!0}),f.createObjectStore(cf)})(e),ER(e),(function(f){f.createObjectStore(iu)})(e));let o=Q.resolve();return r<3&&i>=3&&(r!==0&&((function(f){f.deleteObjectStore(df),f.deleteObjectStore(ff),f.deleteObjectStore(_u)})(e),ER(e)),o=o.next((()=>(function(f){const d=f.store(_u),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ke.min().toTimestamp(),targetCount:0};return d.put(Fy,m)})(a)))),r<4&&i>=4&&(r!==0&&(o=o.next((()=>(function(f,d){return d.store(Gi).J().next((p=>{f.deleteObjectStore(Gi),f.createObjectStore(Gi,{keyPath:DP,autoIncrement:!0}).createIndex(du,jP,{unique:!0});const y=d.store(Gi),b=p.map((A=>y.put(A)));return Q.waitFor(b)}))})(e,a)))),o=o.next((()=>{(function(f){f.createObjectStore(hf,{keyPath:U8})})(e)}))),r<5&&i>=5&&(o=o.next((()=>this.yi(a)))),r<6&&i>=6&&(o=o.next((()=>((function(f){f.createObjectStore(em)})(e),this.wi(a))))),r<7&&i>=7&&(o=o.next((()=>this.Si(a)))),r<8&&i>=8&&(o=o.next((()=>this.bi(e,a)))),r<9&&i>=9&&(o=o.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(o=o.next((()=>this.Di(a)))),r<11&&i>=11&&(o=o.next((()=>{(function(f){f.createObjectStore(sb,{keyPath:B8})})(e),(function(f){f.createObjectStore(ob,{keyPath:z8})})(e)}))),r<12&&i>=12&&(o=o.next((()=>{(function(f){const d=f.createObjectStore(lb,{keyPath:W8});d.createIndex(kE,Y8,{unique:!1}),d.createIndex(ML,Q8,{unique:!1})})(e)}))),r<13&&i>=13&&(o=o.next((()=>(function(f){const d=f.createObjectStore(qy,{keyPath:R8});d.createIndex(Ey,D8),d.createIndex(PL,j8)})(e))).next((()=>this.Ci(e,a))).next((()=>e.deleteObjectStore(iu)))),r<14&&i>=14&&(o=o.next((()=>this.Fi(e,a)))),r<15&&i>=15&&(o=o.next((()=>(function(f){f.createObjectStore(_A,{keyPath:q8,autoIncrement:!0}).createIndex(ME,F8,{unique:!1}),f.createObjectStore(kh,{keyPath:$8}).createIndex(DL,K8,{unique:!1}),f.createObjectStore(Lh,{keyPath:H8}).createIndex(jL,G8,{unique:!1})})(e)))),r<16&&i>=16&&(o=o.next((()=>{n.objectStore(kh).clear()})).next((()=>{n.objectStore(Lh).clear()}))),r<17&&i>=17&&(o=o.next((()=>{(function(f){f.createObjectStore(xA,{keyPath:X8})})(e)}))),r<18&&i>=18&&iL()&&(o=o.next((()=>{n.objectStore(kh).clear()})).next((()=>{n.objectStore(Lh).clear()}))),o}wi(e){let n=0;return e.store(iu).ee(((r,i)=>{n+=Yy(i)})).next((()=>{const r={byteSize:n};return e.store(em).put(jE,r)}))}yi(e){const n=e.store(Jh),r=e.store(Gi);return n.J().next((i=>Q.forEach(i,(a=>{const o=IDBKeyRange.bound([a.userId,bu],[a.userId,a.lastAcknowledgedBatchId]);return r.J(du,o).next((u=>Q.forEach(u,(f=>{Re(f.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=uu(this.serializer,f);return UV(e,a.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(df),r=e.store(iu);return e.store(_u).get(Fy).next((i=>{const a=[];return r.ee(((o,u)=>{const f=new ft(o),d=(function(p){return[0,pr(p)]})(f);a.push(n.get(d).next((m=>m?Q.resolve():(p=>n.put({targetId:0,path:pr(p),sequenceNumber:i.highestListenSequenceNumber}))(f))))})).next((()=>Q.waitFor(a)))}))}bi(e,n){e.createObjectStore(tm,{keyPath:V8});const r=n.store(tm),i=new LA,a=o=>{if(i.add(o)){const u=o.lastSegment(),f=o.popLast();return r.put({collectionId:u,parent:pr(f)})}};return n.store(iu).ee({X:!0},((o,u)=>{const f=new ft(o);return a(f.popLast())})).next((()=>n.store(cf).ee({X:!0},(([o,u,f],d)=>{const m=ja(u);return a(m.popLast())}))))}Di(e){const n=e.store(ff);return n.ee(((r,i)=>{const a=Nh(i),o=jV(this.serializer,a);return n.put(o)}))}Ci(e,n){const r=n.store(iu),i=[];return r.ee(((a,o)=>{const u=n.store(qy),f=(function(p){return p.document?new Se(ft.fromString(p.document.name).popFirst(5)):p.noDocument?Se.fromSegments(p.noDocument.path):p.unknownDocument?Se.fromSegments(p.unknownDocument.path):Ie(36783)})(o).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(u.put(d))})).next((()=>Q.waitFor(i)))}Fi(e,n){const r=n.store(Gi),i=HV(this.serializer),a=new UA(yb.mi,this.serializer.yt);return r.J().next((o=>{const u=new Map;return o.forEach((f=>{var m;let d=(m=u.get(f.userId))!=null?m:et();uu(this.serializer,f).keys().forEach((p=>d=d.add(p))),u.set(f.userId,d)})),Q.forEach(u,((f,d)=>{const m=new Fn(d),p=pb.wt(this.serializer,m),y=a.getIndexManager(m),b=gb.wt(m,this.serializer,y,a.referenceDelegate);return new GV(i,b,p,y).recalculateAndSaveOverlaysForDocumentKeys(new LE(n,Pr.ce),f).next()}))}))}}function ER(t){t.createObjectStore(df,{keyPath:k8}).createIndex(bA,L8,{unique:!0}),t.createObjectStore(ff,{keyPath:"targetId"}).createIndex(RL,M8,{unique:!0}),t.createObjectStore(_u)}const Po="IndexedDbPersistence",Cx=18e5,Nx=5e3,Ox="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pK="main";class BA{constructor(e,n,r,i,a,o,u,f,d,m,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=a,this.window=o,this.document=u,this.xi=d,this.Oi=m,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=y=>Promise.resolve(),!BA.v())throw new me(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nK(this,i),this.$i=n+pK,this.serializer=new DV(f),this.Ui=new Go(this.$i,this.Ni,new mK(this.serializer)),this.hi=new K7,this.Pi=new J7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=HV(this.serializer),this.Ii=new $7,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&mn(Po,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new me(ae.FAILED_PRECONDITION,Ox);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Pr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Xg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(dl(e))return he(Po,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he(Po,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return fh(e).get(Vc).next((n=>Q.resolve(this.es(n))))}ts(e){return Xg(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Cx)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=jn(n,hf);return r.J().next((i=>{const a=this.ss(i,Cx),o=i.filter((u=>a.indexOf(u)===-1));return Q.forEach(o,(u=>r.delete(u.clientId))).next((()=>o))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):fh(e).get(Vc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,Nx)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new me(ae.FAILED_PRECONDITION,Ox);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xg(e).J().next((r=>this.ss(r,Nx).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(a||o&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&he(Po,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[km,hf],(e=>{const n=new LE(e,Pr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Xg(e).J().next((n=>this.ss(n,Cx).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return gb.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Z7(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return pb.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){he(Po,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=(function(f){return f===18?e7:f===17?UL:f===16?J8:f===15?wA:f===14?VL:f===13?LL:f===12?Z8:f===11?kL:void Ie(60245)})(this.Ni);let o;return this.Ui.runTransaction(e,i,a,(u=>(o=new LE(u,this.ci?this.ci.next():Pr.ce),n==="readwrite-primary"?this.Hi(o).next((f=>!!f||this.Yi(o))).next((f=>{if(!f)throw mn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new me(ae.FAILED_PRECONDITION,TL);return r(o)})).next((f=>this.Xi(o).next((()=>f)))):this.Is(o).next((()=>r(o)))))).then((u=>(o.raiseOnCommittedEvent(),u)))}Is(e){return fh(e).get(Vc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,Nx)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new me(ae.FAILED_PRECONDITION,Ox)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fh(e).put(Vc,n)}static v(){return Go.v()}Zi(e){const n=fh(e);return n.get(Vc).next((r=>this.es(r)?(he(Po,"Releasing primary lease."),n.delete(Vc)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(mn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;rL()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return he(Po,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return mn(Po,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){mn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch(e){}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fh(t){return jn(t,km)}function Xg(t){return jn(t,hf)}function WV(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=et(),i=et();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new zA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rL()?8:CL(Dn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new gK;return this.Ss(e,n,o).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,o,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Gc()<=st.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Wc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Gc()<=st.DEBUG&&he("QueryEngine","Query:",Wc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Gc()<=st.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Wc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):Q.resolve())}ys(e,n){if(GP(n))return Q.resolve(null);let r=ei(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Hy(n,null,"F"),r=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=et(...a);return this.ps.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(n,u);return this.Cs(n,d,o,f.readTime)?this.ys(e,Hy(n,null,"F")):this.vs(e,d,n,f)}))))})))))}ws(e,n,r,i){return GP(n)||i.isEqual(ke.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?Q.resolve(null):(Gc()<=st.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wc(n)),this.vs(e,o,n,SL(i,uf)).next((u=>u)))}))}Ds(e,n){let r=new Ct(sV(e));return n.forEach(((i,a)=>{Um(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Gc()<=st.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Wc(n)),this.ps.getDocumentsMatchingQuery(e,n,ri.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="LocalStore",yK=3e8;class vK{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Vt(He),this.xs=new Bs((a=>Ou(a)),Lm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function QV(t,e,n,r){return new vK(t,e,n,r)}async function XV(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],u=[];let f=et();for(const d of i){o.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of a){u.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:u})))}))}))}function bK(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,m){const p=d.batch,y=p.keys();let b=Q.resolve();return y.forEach((A=>{b=b.next((()=>m.getEntry(f,A))).next((w=>{const S=d.docVersions.get(A);Re(S!==null,48541),w.version.compareTo(S)<0&&(p.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),m.addEntry(w)))}))})),b.next((()=>u.mutationQueue.removeMutationBatch(f,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=et();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function ZV(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function _K(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((m,p)=>{const y=i.get(p);if(!y)return;u.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,p))));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(ln.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(p,b),(function(w,S,I){return w.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=yK?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(y,b,m)&&u.push(n.Pi.updateTargetData(a,b))}));let f=Zr(),d=et();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),u.push(xK(a,o,e.documentUpdates).next((m=>{f=m.ks,d=m.qs}))),!r.isEqual(ke.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(m)}return Q.waitFor(u).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,d))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function xK(t,e,n){let r=et(),i=et();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=Zr();return n.forEach(((u,f)=>{const d=a.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(ke.min())?(e.removeEntry(u,f.readTime),o=o.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),o=o.insert(u,f)):he(qA,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:o,qs:i}}))}function wK(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=bu),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Xy(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Q.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new vs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function wf(t,e,n){const r=Pe(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!dl(o))throw o;he(qA,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function XE(t,e,n){const r=Pe(t);let i=ke.min(),a=et();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(f,d,m){const p=Pe(f),y=p.xs.get(m);return y!==void 0?Q.resolve(p.Ms.get(y)):p.Pi.getTargetData(d,m)})(r,o,ei(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:ke.min(),n?a:et()))).next((u=>(t3(r,aV(e),u),{documents:u,Qs:a})))))}function JV(t,e){const n=Pe(t),r=Pe(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(a=>r.At(a,e).next((o=>o?o.target:null))))}function e3(t,e){const n=Pe(t),r=n.Os.get(e)||ke.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,SL(r,uf),Number.MAX_SAFE_INTEGER))).then((i=>(t3(n,e,i),i)))}function t3(t,e,n){let r=t.Os.get(e)||ke.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="firestore_clients";function SR(t,e){return`${n3}_${t}_${e}`}const r3="firestore_mutations";function AR(t,e,n){let r=`${r3}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const i3="firestore_targets";function Px(t,e){return`${i3}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="SharedClientState";class Zy{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let a,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(a=new me(i.error.code,i.error.message))),o?new Zy(e,n,i.state,a):(mn(Da,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new me(r.error.code,r.error.message))),a?new zh(e,r.state,i):(mn(Da,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jy{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=IA();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=NL(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new Jy(e,a):(mn(Da,`Failed to parse client data for instance '${e}': ${n}`),null)}}class FA{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new FA(n.clientId,n.onlineState):(mn(Da,`Failed to parse online state: ${e}`),null)}}class ZE{constructor(){this.activeTargetIds=IA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rx{constructor(e,n,r,i,a){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Vt(He),this.started=!1,this.Xs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.eo=SR(this.persistenceKey,this.Js),this.no=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new ZE),this.ro=new RegExp(`^${n3}_${o}_([^_]*)$`),this.io=new RegExp(`^${r3}_${o}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${i3}_${o}_(\\d+)$`),this.oo=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this._o=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(SR(this.persistenceKey,r));if(i){const a=Jy.Ws(r,i);a&&(this.Zs=this.Zs.insert(a.clientId,a))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Px(this.persistenceKey,e));if(i){const a=zh.Ws(e,i);a&&(r=a.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Px(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return he(Da,"READ",e,n),n}setItem(e,n){he(Da,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){he(Da,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(he(Da,"EVENT",n.key,n.newValue),n.key===this.eo)return void mn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(a){let o=Pr.ce;if(a!=null)try{const u=JSON.parse(a);Re(typeof u=="number",30636,{So:a}),o=u}catch(u){mn(Da,"Failed to read sequence number from WebStorage",u)}return o})(n.newValue);r!==Pr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new Zy(this.currentUser,e,n,r),a=AR(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Gs())}Po(e){const n=AR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=Px(this.persistenceKey,e),a=new zh(e,n,r);this.setItem(i,a.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return Jy.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return Zy.Ws(new Fn(a),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return zh.Ws(i,n)}uo(e){return FA.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);he(Da,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),a=this.lo(r),o=[],u=[];return a.forEach((f=>{i.has(f)||o.push(f)})),i.forEach((f=>{a.has(f)||u.push(f)})),this.syncEngine.Fo(o,u).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=IA();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class a3{constructor(){this.Mo=new ZE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ZE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="ConnectivityMonitor";class IR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(TR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(TR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zg=null;function JE(){return Zg===null?Zg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zg++,"0x"+Zg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="RestConnection",SK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AK{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===rm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=JE(),u=this.zo(e,n.toUriEncodedString());he(Dx,`Sending RPC '${e}' ${o}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:d}=new URL(u),m=cl(d);return this.Jo(e,u,f,r,m).then((p=>(he(Dx,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Cu(Dx,`RPC '${e}' ${o} failed with error: `,p,"url: ",u,"request:",r),p}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=SK[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="WebChannelConnection";class IK extends AK{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=JE();return new Promise(((u,f)=>{const d=new dL;d.setWithCredentials(!0),d.listenOnce(hL.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case _y.NO_ERROR:const p=d.getResponseJson();he(ur,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),u(p);break;case _y.TIMEOUT:he(ur,`RPC '${e}' ${o} timed out`),f(new me(ae.DEADLINE_EXCEEDED,"Request time out"));break;case _y.HTTP_ERROR:const y=d.getStatus();if(he(ur,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const A=b==null?void 0:b.error;if(A&&A.status&&A.message){const w=(function(I){const N=I.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(N)>=0?N:ae.UNKNOWN})(A.status);f(new me(w,A.message))}else f(new me(ae.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new me(ae.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{he(ur,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(i);he(ur,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=JE(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gL(),u=pL(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=a.join("");he(ur,`Creating RPC '${e}' stream ${i}: ${m}`,f);const p=o.createWebChannel(m,f);this.I_(p);let y=!1,b=!1;const A=new TK({Yo:S=>{b?he(ur,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(y||(he(ur,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),he(ur,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),w=(S,I,N)=>{S.listen(I,(P=>{try{N(P)}catch(k){setTimeout((()=>{throw k}),0)}}))};return w(p,Th.EventType.OPEN,(()=>{b||(he(ur,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),w(p,Th.EventType.CLOSE,(()=>{b||(b=!0,he(ur,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(p))})),w(p,Th.EventType.ERROR,(S=>{b||(b=!0,Cu(ur,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),A.a_(new me(ae.UNAVAILABLE,"The operation could not be completed")))})),w(p,Th.EventType.MESSAGE,(S=>{var I;if(!b){const N=S.data[0];Re(!!N,16349);const P=N,k=(P==null?void 0:P.error)||((I=P[0])==null?void 0:I.error);if(k){he(ur,`RPC '${e}' stream ${i} received error:`,k);const M=k.status;let L=(function(j){const U=Tn[j];if(U!==void 0)return bV(U)})(M),R=k.message;L===void 0&&(L=ae.INTERNAL,R="Unknown error status: "+M+" with message "+k.message),b=!0,A.a_(new me(L,R)),p.close()}else he(ur,`RPC '${e}' stream ${i} received:`,N),A.u_(N)}})),w(u,mL.STAT_EVENT,(S=>{S.stat===OE.PROXY?he(ur,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===OE.NOPROXY&&he(ur,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(){return typeof window!="undefined"?window:null}function Oy(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t){return new R7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="PersistentStream";class o3{constructor(e,n,r,i,a,o,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $A(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(mn(n.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new me(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(CR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(CR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CK extends o3{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=k7(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ke.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?Kn(o.readTime):ke.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=HE(this.serializer),n.addTarget=(function(a,o){let u;const f=o.target;if(u=$y(f)?{documents:IV(a,f)}:{query:CV(a,f).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=wV(a,o.resumeToken);const d=$E(a,o.expectedCount);d!==null&&(u.expectedCount=d)}else if(o.snapshotVersion.compareTo(ke.min())>0){u.readTime=xf(a,o.snapshotVersion.toTimestamp());const d=$E(a,o.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=V7(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=HE(this.serializer),n.removeTarget=e,this.q_(n)}}class NK extends o3{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=L7(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=HE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>lm(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{}class PK extends OK{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new me(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,KE(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(ae.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Ho(e,KE(n,r),i,o,u,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(ae.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mn(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju="RemoteStore";class DK{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Ku(this)&&(he(ju,"Restarting streams for network reachability change."),await(async function(f){const d=Pe(f);d.Ea.add(4),await Fm(d),d.Ra.set("Unknown"),d.Ea.delete(4),await bb(d)})(this))}))})),this.Ra=new RK(r,i)}}async function bb(t){if(Ku(t))for(const e of t.da)await e(!0)}async function Fm(t){for(const e of t.da)await e(!1)}function _b(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),GA(n)?HA(n):Ff(n).O_()&&KA(n,e))}function Ef(t,e){const n=Pe(t),r=Ff(n);n.Ia.delete(e),r.O_()&&l3(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ku(n)&&n.Ra.set("Unknown"))}function KA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ff(t).Y_(e)}function l3(t,e){t.Va.Ue(e),Ff(t).Z_(e)}function HA(t){t.Va=new C7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ff(t).start(),t.Ra.ua()}function GA(t){return Ku(t)&&!Ff(t).x_()&&t.Ia.size>0}function Ku(t){return Pe(t).Ea.size===0}function u3(t){t.Va=void 0}async function jK(t){t.Ra.set("Online")}async function MK(t){t.Ia.forEach(((e,n)=>{KA(t,e)}))}async function kK(t,e){u3(t),GA(t)?(t.Ra.ha(e),HA(t)):t.Ra.set("Unknown")}async function LK(t,e,n){if(t.Ra.set("Online"),e instanceof xV&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){he(ju,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ev(t,r)}else if(e instanceof Cy?t.Va.Ze(e):e instanceof _V?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const r=await ZV(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const u=a.Va.Tt(o);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ia.get(d);m&&a.Ia.set(d,m.withResumeToken(f.resumeToken,o))}})),u.targetMismatches.forEach(((f,d)=>{const m=a.Ia.get(f);if(!m)return;a.Ia.set(f,m.withResumeToken(ln.EMPTY_BYTE_STRING,m.snapshotVersion)),l3(a,f);const p=new vs(m.target,f,d,m.sequenceNumber);KA(a,p)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){he(ju,"Failed to raise snapshot:",r),await ev(t,r)}}async function ev(t,e,n){if(!dl(e))throw e;t.Ea.add(1),await Fm(t),t.Ra.set("Offline"),n||(n=()=>ZV(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(ju,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bb(t)}))}function c3(t,e){return e().catch((n=>ev(t,n,e)))}async function qf(t){const e=Pe(t),n=nl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bu;for(;VK(e);)try{const i=await wK(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,UK(e,i)}catch(i){await ev(e,i)}f3(e)&&d3(e)}function VK(t){return Ku(t)&&t.Ta.length<10}function UK(t,e){t.Ta.push(e);const n=nl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function f3(t){return Ku(t)&&!nl(t).x_()&&t.Ta.length>0}function d3(t){nl(t).start()}async function BK(t){nl(t).ra()}async function zK(t){const e=nl(t);for(const n of t.Ta)e.ea(n.mutations)}async function qK(t,e,n){const r=t.Ta.shift(),i=RA.from(r,e,n);await c3(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await qf(t)}async function FK(t,e){e&&nl(t).X_&&await(async function(r,i){if((function(o){return vV(o)&&o!==ae.ABORTED})(i.code)){const a=r.Ta.shift();nl(r).B_(),await c3(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await qf(r)}})(t,e),f3(t)&&d3(t)}async function NR(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),he(ju,"RemoteStore received new credentials");const r=Ku(n);n.Ea.add(3),await Fm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bb(n)}async function eS(t,e){const n=Pe(t);e?(n.Ea.delete(2),await bb(n)):e||(n.Ea.add(2),await Fm(n),n.Ra.set("Unknown"))}function Ff(t){return t.ma||(t.ma=(function(n,r,i){const a=Pe(n);return a.sa(),new CK(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:jK.bind(null,t),t_:MK.bind(null,t),r_:kK.bind(null,t),H_:LK.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),GA(t)?HA(t):t.Ra.set("Unknown")):(await t.ma.stop(),u3(t))}))),t.ma}function nl(t){return t.fa||(t.fa=(function(n,r,i){const a=Pe(n);return a.sa(),new NK(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:BK.bind(null,t),r_:FK.bind(null,t),ta:zK.bind(null,t),na:qK.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await qf(t)):(await t.fa.stop(),t.Ta.length>0&&(he(ju,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,u=new WA(e,n,o,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function YA(t,e){if(mn("AsyncQueue",`${e}: ${t}`),dl(t))return new me(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{static emptySet(e){return new ef(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=Ih(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ef)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ef;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.ga=new Vt(Se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Sf{constructor(e,n,r,i,a,o,u,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((u=>{o.push({type:0,doc:u})})),new Sf(e,n,ef.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&db(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class KK{constructor(){this.queries=PR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Pe(n),a=i.queries;i.queries=PR(),a.forEach(((o,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new me(ae.ABORTED,"Firestore shutting down"))}}function PR(){return new Bs((t=>iV(t)),db)}async function QA(t,e){const n=Pe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new $K,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const u=YA(o,`Initialization of query '${Wc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&ZA(n)}async function XA(t,e){const n=Pe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HK(t,e){const n=Pe(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const u of o.Sa)u.Fa(i)&&(r=!0);o.wa=i}}r&&ZA(n)}function GK(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function ZA(t){t.Ca.forEach((e=>{e.next()}))}var tS,RR;(RR=tS||(tS={})).Ma="default",RR.Cache="cache";class JA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Sf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.key=e}}class m3{constructor(e){this.key=e}}class WK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=sV(e),this.tu=new ef(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new OR,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const y=i.get(m),b=Um(this.query,p)?p:null,A=!!y&&this.mutatedKeys.has(y.key),w=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;y&&b?y.data.isEqual(b.data)?A!==w&&(r.track({type:3,doc:b}),S=!0):this.su(y,b)||(r.track({type:2,doc:b}),S=!0,(f&&this.eu(b,f)>0||d&&this.eu(b,d)<0)&&(u=!0)):!y&&b?(r.track({type:0,doc:b}),S=!0):y&&!b&&(r.track({type:1,doc:y}),S=!0,(f||d)&&(u=!0)),S&&(b?(o=o.add(b),a=w?a.add(m):a.delete(m)):(o=o.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((m,p)=>(function(b,A){const w=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:S})}};return w(b)-w(A)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i!=null?i:!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,d=f!==this.Za;return this.Za=f,o.length!==0||d?{snapshot:new Sf(this.query,e.tu,a,o,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new m3(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new h3(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $f="SyncEngine";class YK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QK{constructor(e){this.key=e,this.hu=!1}}class XK{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Bs((u=>iV(u)),db),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(Se.comparator),this.Au=new Map,this.Ru=new VA,this.Vu={},this.mu=new Map,this.fu=Du.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZK(t,e,n=!0){const r=xb(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await p3(r,e,n,!0),i}async function JK(t,e){const n=xb(t);await p3(n,e,!0,!1)}async function p3(t,e,n,r){const i=await Xy(t.localStore,ei(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await eT(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&_b(t.remoteStore,i),u}async function eT(t,e,n,r,i){t.pu=(p,y,b)=>(async function(w,S,I,N){let P=S.view.ru(I);P.Cs&&(P=await XE(w.localStore,S.query,!1).then((({documents:R})=>S.view.ru(R,P))));const k=N&&N.targetChanges.get(S.targetId),M=N&&N.targetMismatches.get(S.targetId)!=null,L=S.view.applyChanges(P,w.isPrimaryClient,k,M);return nS(w,S.targetId,L.au),L.snapshot})(t,p,y,b);const a=await XE(t.localStore,e,!0),o=new WK(e,a.Qs),u=o.ru(a.documents),f=qm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(u,t.isPrimaryClient,f);nS(t,n,d.au);const m=new YK(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function eH(t,e,n){const r=Pe(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!db(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wf(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ef(r.remoteStore,i.targetId),Af(r,i.targetId)})).catch(fl)):(Af(r,i.targetId),await wf(r.localStore,i.targetId,!0))}async function tH(t,e){const n=Pe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ef(n.remoteStore,r.targetId))}async function nH(t,e,n){const r=iT(t);try{const i=await(function(o,u){const f=Pe(o),d=ot.now(),m=u.reduce(((b,A)=>b.add(A.key)),et());let p,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let A=Zr(),w=et();return f.Ns.getEntries(b,m).next((S=>{A=S,A.forEach(((I,N)=>{N.isValidDocument()||(w=w.add(I))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,A))).next((S=>{p=S;const I=[];for(const N of u){const P=S7(N,p.get(N.key).overlayedDocument);P!=null&&I.push(new zs(N.key,P,YL(P.value.mapValue),pn.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,I,u)})).next((S=>{y=S;const I=S.applyToLocalDocumentSet(p,w);return f.documentOverlayCache.saveOverlays(b,S.batchId,I)}))})).then((()=>({batchId:y.batchId,changes:lV(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,u,f){let d=o.Vu[o.currentUser.toKey()];d||(d=new Vt(He)),d=d.insert(u,f),o.Vu[o.currentUser.toKey()]=d})(r,i.batchId,n),await ml(r,i.changes),await qf(r.remoteStore)}catch(i){const a=YA(i,"Failed to persist write");n.reject(a)}}async function g3(t,e){const n=Pe(t);try{const r=await _K(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Re(o.hu,14607):i.removedDocuments.size>0&&(Re(o.hu,42227),o.hu=!1))})),await ml(n,r,e)}catch(r){await fl(r)}}function DR(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const u=o.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(o,u){const f=Pe(o);f.onlineState=u;let d=!1;f.queries.forEach(((m,p)=>{for(const y of p.Sa)y.va(u)&&(d=!0)})),d&&ZA(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rH(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new Vt(Se.comparator);o=o.insert(a,Gt.newNoDocument(a,ke.min()));const u=et().add(a),f=new zm(ke.min(),new Map,new Vt(He),o,u);await g3(r,f),r.du=r.du.remove(a),r.Au.delete(e),rT(r)}else await wf(r.localStore,e,!1).then((()=>Af(r,e,n))).catch(fl)}async function iH(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=await bK(n.localStore,e);nT(n,r,null),tT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ml(n,i)}catch(i){await fl(i)}}async function aH(t,e,n){const r=Pe(t);try{const i=await(function(o,u){const f=Pe(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return f.mutationQueue.lookupMutationBatch(d,u).next((p=>(Re(p!==null,37113),m=p.keys(),f.mutationQueue.removeMutationBatch(d,p)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>f.localDocuments.getDocuments(d,m)))}))})(r.localStore,e);nT(r,e,n),tT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ml(r,i)}catch(i){await fl(i)}}function tT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function nT(t,e,n){const r=Pe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Af(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||y3(t,r)}))}function y3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ef(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),rT(t))}function nS(t,e,n){for(const r of n)r instanceof h3?(t.Ru.addReference(r.key,e),sH(t,r)):r instanceof m3?(he($f,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||y3(t,r.key)):Ie(19791,{wu:r})}function sH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(he($f,"New document in limbo: "+n),t.Eu.add(r),rT(t))}function rT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Se(ft.fromString(e)),r=t.fu.next();t.Au.set(r,new QK(n)),t.du=t.du.insert(n,r),_b(t.remoteStore,new vs(ei(Vm(n.path)),r,"TargetPurposeLimboResolution",Pr.ce))}}async function ml(t,e,n){const r=Pe(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{o.push(r.pu(f,e,n).then((d=>{var m;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(d){i.push(d);const p=zA.As(f.targetId,d);a.push(p)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(f,d){const m=Pe(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Q.forEach(d,(y=>Q.forEach(y.Es,(b=>m.persistence.referenceDelegate.addReference(p,y.targetId,b))).next((()=>Q.forEach(y.ds,(b=>m.persistence.referenceDelegate.removeReference(p,y.targetId,b)))))))))}catch(p){if(!dl(p))throw p;he(qA,"Failed to update sequence numbers: "+p)}for(const p of d){const y=p.targetId;if(!p.fromCache){const b=m.Ms.get(y),A=b.snapshotVersion,w=b.withLastLimboFreeSnapshotVersion(A);m.Ms=m.Ms.insert(y,w)}}})(r.localStore,a))}async function oH(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){he($f,"User change. New user:",e.toKey());const r=await XV(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((u=>{u.forEach((f=>{f.reject(new me(ae.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ml(n,r.Ls)}}function lH(t,e){const n=Pe(t),r=n.Au.get(e);if(r&&r.hu)return et().add(r.key);{let i=et();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const u=n.Tu.get(o);i=i.unionWith(u.view.nu)}return i}}async function uH(t,e){const n=Pe(t),r=await XE(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&nS(n,e.targetId,i.au),i}async function cH(t,e){const n=Pe(t);return e3(n.localStore,e).then((r=>ml(n,r)))}async function fH(t,e,n,r){const i=Pe(t),a=await(function(u,f){const d=Pe(u),m=Pe(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(p=>m.er(p,f).next((y=>y?d.localDocuments.getDocuments(p,y):Q.resolve(null)))))})(i.localStore,e);a!==null?(n==="pending"?await qf(i.remoteStore):n==="acknowledged"||n==="rejected"?(nT(i,e,r||null),tT(i,e),(function(u,f){Pe(Pe(u).mutationQueue).ir(f)})(i.localStore,e)):Ie(6720,"Unknown batchState",{Su:n}),await ml(i,a)):he($f,"Cannot apply mutation batch with id: "+e)}async function dH(t,e){const n=Pe(t);if(xb(n),iT(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await jR(n,r.toArray());n.gu=!0,await eS(n.remoteStore,!0);for(const a of i)_b(n.remoteStore,a)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((a,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then((()=>(Af(n,o),wf(n.localStore,o,!0)))),Ef(n.remoteStore,o)})),await i,await jR(n,r),(function(o){const u=Pe(o);u.Au.forEach(((f,d)=>{Ef(u.remoteStore,d)})),u.Ru.Jr(),u.Au=new Map,u.du=new Vt(Se.comparator)})(n),n.gu=!1,await eS(n.remoteStore,!1)}}async function jR(t,e,n){const r=Pe(t),i=[],a=[];for(const o of e){let u;const f=r.Iu.get(o);if(f&&f.length!==0){u=await Xy(r.localStore,ei(f[0]));for(const d of f){const m=r.Tu.get(d),p=await uH(r,m);p.snapshot&&a.push(p.snapshot)}}else{const d=await JV(r.localStore,o);u=await Xy(r.localStore,d),await eT(r,v3(d),o,!1,u.resumeToken)}i.push(u)}return r.Pu.H_(a),i}function v3(t){return rV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function hH(t){return(function(n){return Pe(Pe(n).persistence).Ts()})(Pe(t).localStore)}async function mH(t,e,n,r){const i=Pe(t);if(i.gu)return void he($f,"Ignoring unexpected query state notification.");const a=i.Iu.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const o=await e3(i.localStore,aV(a[0])),u=zm.createSynthesizedRemoteEventForCurrentChange(e,n==="current",ln.EMPTY_BYTE_STRING);await ml(i,o,u);break}case"rejected":await wf(i.localStore,e,!0),Af(i,e,r);break;default:Ie(64155,n)}}async function pH(t,e,n){const r=xb(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){he($f,"Adding an already active target "+i);continue}const a=await JV(r.localStore,i),o=await Xy(r.localStore,a);await eT(r,v3(a),o.targetId,!1,o.resumeToken),_b(r.remoteStore,o)}for(const i of n)r.Iu.has(i)&&await wf(r.localStore,i,!1).then((()=>{Ef(r.remoteStore,i),Af(r,i)})).catch(fl)}}function xb(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=g3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rH.bind(null,e),e.Pu.H_=HK.bind(null,e.eventManager),e.Pu.yu=GK.bind(null,e.eventManager),e}function iT(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aH.bind(null,e),e}class um{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return QV(this.persistence,new YV,e.initialUser,this.serializer)}Cu(e){return new UA(yb.mi,this.serializer)}Du(e){return new a3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}um.provider={build:()=>new um};class gH extends um{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Re(this.persistence.referenceDelegate instanceof Qy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new UA((r=>Qy.mi(r,n)),this.serializer)}}class b3 extends um{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await iT(this.xu.syncEngine),await qf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return QV(this.persistence,new YV,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new FV(r,e.asyncQueue,n)}Mu(e,n){const r=new C8(n,this.persistence);return new I8(e.asyncQueue,r)}Cu(e){const n=WV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new BA(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,s3(),Oy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new a3}}class yH extends b3{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof Rx&&(this.sharedClientState.syncEngine={Co:fH.bind(null,n),vo:mH.bind(null,n),Fo:pH.bind(null,n),Ts:hH.bind(null,n),Do:cH.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await dH(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=s3();if(!Rx.v(n))throw new me(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=WV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Rx(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oH.bind(null,this.syncEngine),await eS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KK})()}createDatastore(e){const n=vb(e.databaseInfo.databaseId),r=(function(a){return new IK(a)})(e.databaseInfo);return(function(a,o,u,f){return new PK(a,o,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,u){return new DK(r,i,a,o,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>DR(this.syncEngine,n,0)),(function(){return IR.v()?new IR:new EK})())}createSyncEngine(e,n){return(function(i,a,o,u,f,d,m){const p=new XK(i,a,o,u,f,d);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=Pe(i);he(ju,"RemoteStore shutting down."),a.Ea.add(5),await Fm(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}cm.provider={build:()=>new cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new me(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,a){const o=Pe(i),u={documents:a.map((p=>om(o.serializer,p)))},f=await o.Ho("BatchGetDocuments",o.serializer.databaseId,ft.emptyPath(),u,a.length),d=new Map;f.forEach((p=>{const y=M7(o.serializer,p);d.set(y.key.toString(),y)}));const m=[];return a.forEach((p=>{const y=d.get(p.toString());Re(!!y,55234,{key:p}),m.push(y)})),m})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Bm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Se.fromPath(r);this.mutations.push(new OA(i,this.precondition(i)))})),await(async function(r,i){const a=Pe(r),o={writes:i.map((u=>lm(a.serializer,u)))};await a.Go("Commit",a.serializer.databaseId,ft.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ie(50498,{Gu:e.constructor.name});n=ke.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new me(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ke.min())?pn.exists(!1):pn.updateTime(n):pn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ke.min()))throw new me(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pn.updateTime(n)}return pn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new $A(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new vH(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Mm(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!vV(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="FirestoreClient";class _H{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=rb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{he(rl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(he(rl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=YA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function jx(t,e){t.asyncQueue.verifyOperationInProgress(),he(rl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await XV(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function MR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xH(t);he(rl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>NR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>NR(e.remoteStore,i))),t._onlineComponents=e}async function xH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(rl,"Using user provided OfflineComponentProvider");try{await jx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ae.FAILED_PRECONDITION||i.code===ae.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Cu("Error using user provided cache. Falling back to memory cache: "+n),await jx(t,new um)}}else he(rl,"Using default OfflineComponentProvider"),await jx(t,new gH(void 0));return t._offlineComponents}async function sT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(rl,"Using user provided OnlineComponentProvider"),await MR(t,t._uninitializedComponentsProvider._online)):(he(rl,"Using default OnlineComponentProvider"),await MR(t,new cm))),t._onlineComponents}function wH(t){return sT(t).then((e=>e.syncEngine))}function EH(t){return sT(t).then((e=>e.datastore))}async function tv(t){const e=await sT(t),n=e.eventManager;return n.onListen=ZK.bind(null,e.syncEngine),n.onUnlisten=eH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tH.bind(null,e.syncEngine),n}function SH(t,e,n={}){const r=new Ji;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,f,d){const m=new aT({next:y=>{m.Nu(),o.enqueueAndForget((()=>XA(a,p)));const b=y.docs.has(u);!b&&y.fromCache?d.reject(new me(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&f&&f.source==="server"?d.reject(new me(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new JA(Vm(u.path),m,{includeMetadataChanges:!0,qa:!0});return QA(a,p)})(await tv(t),t.asyncQueue,e,n,r))),r.promise}function AH(t,e,n={}){const r=new Ji;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,f,d){const m=new aT({next:y=>{m.Nu(),o.enqueueAndForget((()=>XA(a,p))),y.fromCache&&f.source==="server"?d.reject(new me(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new JA(u,m,{includeMetadataChanges:!0,qa:!0});return QA(a,p)})(await tv(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="firestore.googleapis.com",LR=!0;class VR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=x3,this.ssl=LR}else this.host=e.host,this.ssl=(n=e.ssl)!=null?n:LR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qV)throw new me(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_3((r=e.experimentalLongPollingOptions)!=null?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new bL;switch(r.type){case"firstParty":return new v8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=kR.get(n);r&&(he("ComponentProvider","Removing Datastore"),kR.delete(n),r.terminate())})(this),Promise.resolve()}}function w3(t,e,n,r={}){var d;t=mr(t,wb);const i=cl(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(nb(`https://${u}`),dA("Firestore",!0)),a.host!==x3&&a.host!==u&&Cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:u,ssl:i,emulatorOptions:r};if(!Qo(f,o)&&(t._setSettings(f),r.mockUserToken)){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=Fn.MOCK_USER;else{m=tL(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new me(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Fn(y)}t._authCredentials=new p8(new vL(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(jm(n,Yt._jsonSchema))return new Yt(e,r||null,new Se(ft.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:In("string",Yt._jsonSchemaVersion),referencePath:In("string")};class As extends la{constructor(e,n,r){super(e,n,Vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Se(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function Qe(t,e,...n){if(t=Jt(t),xL("collection","path",e),t instanceof wb){const r=ft.fromString(e,...n);return CP(r),new As(t,null,r)}{if(!(t instanceof Yt||t instanceof As))throw new me(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return CP(r),new As(t.firestore,null,r)}}function $e(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=rb.newId()),xL("doc","path",e),t instanceof wb){const r=ft.fromString(e,...n);return IP(r),new Yt(t,null,new Se(r))}{if(!(t instanceof Yt||t instanceof As))throw new me(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return IP(r),new Yt(t.firestore,t instanceof As?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="AsyncQueue";class BR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $A(this,"async_queue_retry"),this._c=()=>{const r=Oy();r&&he(UR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Oy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Oy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ji;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;he(UR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,mn("INTERNAL UNHANDLED ERROR: ",zR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=WA.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ie(47125,{Pc:zR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class aa extends wb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new BR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BR(e),this._firestoreClient=void 0,await e}}}function E3(t,e,n){n||(n=rm);const r=Dm(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(Qo(a,e))return i;throw new me(ae.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new me(ae.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qV)throw new me(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&cl(e.host)&&nb(e.host),r.initialize({options:e,instanceIdentifier:n})}function nv(t,e){const n=typeof t=="object"?t:pA(),r=typeof t=="string"?t:rm,i=Dm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Zk("firestore");a&&w3(i,...a)}return i}function Kf(t){if(t._terminated)throw new me(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TH(t),t._firestoreClient}function TH(t){var r,i,a;const e=t._freezeSettings(),n=(function(u,f,d,m){return new n7(u,f,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,_3(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _H(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Or(ln.fromBase64String(e))}catch(n){throw new me(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Or(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jm(e,Or._jsonSchema))return Or.fromBase64String(e.bytes)}}Or._jsonSchemaVersion="firestore/bytes/1.0",Or._jsonSchema={type:In("string",Or._jsonSchemaVersion),bytes:In("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function S3(){return new Hu(RE)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ea._jsonSchemaVersion}}static fromJSON(e){if(jm(e,ea._jsonSchema))return new ea(e.latitude,e.longitude)}}ea._jsonSchemaVersion="firestore/geoPoint/1.0",ea._jsonSchema={type:In("string",ea._jsonSchemaVersion),latitude:In("number"),longitude:In("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ta._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jm(e,ta._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ta(e.vectorValues);throw new me(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ta._jsonSchemaVersion="firestore/vectorValue/1.0",ta._jsonSchema={type:In("string",ta._jsonSchemaVersion),vectorValues:In("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=/^__.*__$/;class CH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new zf(e,this.data,n,this.fieldTransforms)}}class A3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function T3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:t})}}class oT{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new oT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(T3(this.Ac)&&IH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vb(e)}Cc(e,n,r,i=!1){return new oT({Ac:e,methodName:n,Dc:r,path:Wt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gf(t){const e=t._freezeSettings(),n=vb(t._databaseId);return new NH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lT(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);fT("Data must be an object, but it was:",o,r);const u=O3(r,o);let f,d;if(a.merge)f=new Rr(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const m=[];for(const p of a.mergeFields){const y=rS(e,p,n);if(!o.contains(y))throw new me(ae.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);R3(m,y)||m.push(y)}f=new Rr(m),d=o.fieldTransforms.filter((p=>f.covers(p.field)))}else f=null,d=o.fieldTransforms;return new CH(new ar(u),f,d)}class Eb extends Hf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eb}}class uT extends Hf{_toFieldTransform(e){return new NA(e.path,new yf)}isEqual(e){return e instanceof uT}}class cT extends Hf{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new _f(e.serializer,fV(e.serializer,this.Fc));return new NA(e.path,n)}isEqual(e){return e instanceof cT&&this.Fc===e.Fc}}function I3(t,e,n,r){const i=t.Cc(1,e,n);fT("Data must be an object, but it was:",i,r);const a=[],o=ar.empty();hl(r,((f,d)=>{const m=dT(e,f,n);d=Jt(d);const p=i.yc(m);if(d instanceof Eb)a.push(m);else{const y=$m(d,p);y!=null&&(a.push(m),o.set(m,y))}}));const u=new Rr(a);return new A3(o,u,i.fieldTransforms)}function C3(t,e,n,r,i,a){const o=t.Cc(1,e,n),u=[rS(e,r,n)],f=[i];if(a.length%2!=0)throw new me(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(rS(e,a[y])),f.push(a[y+1]);const d=[],m=ar.empty();for(let y=u.length-1;y>=0;--y)if(!R3(d,u[y])){const b=u[y];let A=f[y];A=Jt(A);const w=o.yc(b);if(A instanceof Eb)d.push(b);else{const S=$m(A,w);S!=null&&(d.push(b),m.set(b,S))}}const p=new Rr(d);return new A3(m,p,o.fieldTransforms)}function N3(t,e,n,r=!1){return $m(n,t.Cc(r?4:3,e))}function $m(t,e){if(P3(t=Jt(t)))return fT("Unsupported field value:",e,t),O3(t,e);if(t instanceof Hf)return(function(r,i){if(!T3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const u of r){let f=$m(u,i.wc(o));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ot.fromDate(r);return{timestampValue:xf(i.serializer,a)}}if(r instanceof ot){const a=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xf(i.serializer,a)}}if(r instanceof ea)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Or)return{bytesValue:wV(i.serializer,r._byteString)};if(r instanceof Yt){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:MA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ta)return(function(o,u){return{mapValue:{fields:{[EA]:{stringValue:SA},[mf]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return CA(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${ib(r)}`)})(t,e)}function O3(t,e){const n={};return BL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hl(t,((r,i)=>{const a=$m(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function P3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof ea||t instanceof Or||t instanceof Yt||t instanceof Hf||t instanceof ta)}function fT(t,e,n){if(!P3(n)||!EL(n)){const r=ib(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function rS(t,e,n){if((e=Jt(e))instanceof Hu)return e._internalPath;if(typeof e=="string")return dT(t,e);throw rv("Field path arguments must be of type string or ",t,!1,void 0,n)}const OH=new RegExp("[~\\*/\\[\\]]");function dT(t,e,n){if(e.search(OH)>=0)throw rv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hu(...e.split("."))._internalPath}catch(r){throw rv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rv(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||o)&&(f+=" (found",a&&(f+=` in field ${r}`),o&&(f+=` in document ${i}`),f+=")"),new me(ae.INVALID_ARGUMENT,u+t+f)}function R3(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PH extends fm{data(){return super.data()}}function Sb(t,e){return typeof e=="string"?dT(t,e):e instanceof Hu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hT{}class Km extends hT{}function qt(t,e,...n){let r=[];e instanceof hT&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((f=>f instanceof Ab)).length,u=a.filter((f=>f instanceof Hm)).length;if(o>1||o>0&&u>0)throw new me(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Hm extends Km{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hm(e,n,r)}_apply(e){const n=this._parse(e);return k3(e._query,n),new la(e.firestore,e.converter,FE(e._query,n))}_parse(e){const n=Gf(e.firestore);return(function(a,o,u,f,d,m,p){let y;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new me(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){$R(p,m);const A=[];for(const w of p)A.push(FR(f,a,w));y={arrayValue:{values:A}}}else y=FR(f,a,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||$R(p,m),y=N3(u,o,p,m==="in"||m==="not-in");return lt.create(d,m,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Je(t,e,n){const r=e,i=Sb("where",t);return Hm._create(i,r,n)}class Ab extends hT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ab(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:It.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const u=a.getFlattenedFilters();for(const f of u)k3(o,f),o=FE(o,f)})(e._query,n),new la(e.firestore,e.converter,FE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tb extends Km{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tb(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new me(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new me(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sm(a,o)})(e._query,this._field,this._direction);return new la(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new $u(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Jr(t,e="asc"){const n=e,r=Sb("orderBy",t);return Tb._create(r,n)}class Ib extends Km{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ib(e,n,r)}_apply(e){return new la(e.firestore,e.converter,Hy(e._query,this._limit,this._limitType))}}function j3(t){return S8("limit",t),Ib._create("limit",t,"F")}class Cb extends Km{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Cb(e,n,r)}_apply(e){const n=RH(e,this.type,this._docOrFields,this._inclusive);return new la(e.firestore,e.converter,(function(i,a){return new $u(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,n))}}function M3(...t){return Cb._create("startAfter",t,!1)}function RH(t,e,n,r){if(n[0]=Jt(n[0]),n[0]instanceof fm)return(function(a,o,u,f,d){if(!f)throw new me(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const p of Jc(a))if(p.field.isKeyField())m.push(Nu(o,f.key));else{const y=f.data.field(p.field);if(ub(y))throw new me(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const b=p.field.canonicalString();throw new me(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}m.push(y)}return new tl(m,d)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Gf(t.firestore);return(function(o,u,f,d,m,p){const y=o.explicitOrderBy;if(m.length>y.length)throw new me(ae.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let A=0;A<m.length;A++){const w=m[A];if(y[A].field.isKeyField()){if(typeof w!="string")throw new me(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof w}`);if(!TA(o)&&w.indexOf("/")!==-1)throw new me(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${w}' contains a slash.`);const S=o.path.child(ft.fromString(w));if(!Se.isDocumentKey(S))throw new me(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const I=new Se(S);b.push(Nu(u,I))}else{const S=N3(f,d,w);b.push(S)}}return new tl(b,p)})(t._query,t.firestore._databaseId,i,e,n,r)}}function FR(t,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new me(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TA(e)&&n.indexOf("/")!==-1)throw new me(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!Se.isDocumentKey(r))throw new me(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nu(t,new Se(r))}if(n instanceof Yt)return Nu(t,n._key);throw new me(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ib(n)}.`)}function $R(t,e){if(!Array.isArray(t)||t.length===0)throw new me(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function k3(t,e){const n=(function(i,a){for(const o of i)for(const u of o.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mT{convertValue(e,n="none"){switch(Jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hl(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[mf].arrayValue)==null?void 0:i.values)==null?void 0:a.map((o=>Kt(o.doubleValue)));return new ta(n)}convertGeoPoint(e){return new ea(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nm(e));default:return null}}convertTimestamp(e){const n=Ds(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);Re(RV(r),9688,{name:e});const i=new Zo(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return i.isEqual(n)||mn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class DH extends mT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ts extends fm{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ts._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ts._jsonSchema={type:In("string",Ts._jsonSchemaVersion),bundleSource:In("string","DocumentSnapshot"),bundleName:In("string"),bundle:In("string")};class qh extends Ts{data(e={}){return super.data(e)}}class Wo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new hu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new qh(this._firestore,this._userDataWriter,r.key,r,new hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((u=>{const f=new qh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new hu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const f=new qh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new hu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,m=-1;return u.type!==0&&(d=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),m=o.indexOf(u.doc.key)),{type:jH(u.type),doc:f,oldIndex:d,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t){t=mr(t,Yt);const e=mr(t.firestore,aa);return SH(Kf(e),t._key).then((n=>L3(e,t,n)))}Wo._jsonSchemaVersion="firestore/querySnapshot/1.0",Wo._jsonSchema={type:In("string",Wo._jsonSchemaVersion),bundleSource:In("string","QuerySnapshot"),bundleName:In("string"),bundle:In("string")};class Nb extends mT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function dr(t){t=mr(t,la);const e=mr(t.firestore,aa),n=Kf(e),r=new Nb(e);return D3(t._query),AH(n,t._query).then((i=>new Wo(e,r,t,i)))}function Va(t,e,n){t=mr(t,Yt);const r=mr(t.firestore,aa),i=pT(t.converter,e,n);return Gm(r,[lT(Gf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pn.none())])}function Mu(t,e,n,...r){t=mr(t,Yt);const i=mr(t.firestore,aa),a=Gf(i);let o;return o=typeof(e=Jt(e))=="string"||e instanceof Hu?C3(a,"updateDoc",t._key,e,n,r):I3(a,"updateDoc",t._key,e),Gm(i,[o.toMutation(t._key,pn.exists(!0))])}function Ob(t){return Gm(mr(t.firestore,aa),[new Bm(t._key,pn.none())])}function Is(t,e){const n=mr(t.firestore,aa),r=$e(t),i=pT(t.converter,e);return Gm(n,[lT(Gf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pn.exists(!1))]).then((()=>r))}function na(t,...e){var f,d,m;t=Jt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||qR(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(qR(e[r])){const p=e[r];e[r]=(f=p.next)==null?void 0:f.bind(p),e[r+1]=(d=p.error)==null?void 0:d.bind(p),e[r+2]=(m=p.complete)==null?void 0:m.bind(p)}let a,o,u;if(t instanceof Yt)o=mr(t.firestore,aa),u=Vm(t._key.path),a={next:p=>{e[r]&&e[r](L3(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=mr(t,la);o=mr(p.firestore,aa),u=p._query;const y=new Nb(o);a={next:b=>{e[r]&&e[r](new Wo(o,y,p,b))},error:e[r+1],complete:e[r+2]},D3(t._query)}return(function(y,b,A,w){const S=new aT(w),I=new JA(b,S,A);return y.asyncQueue.enqueueAndForget((async()=>QA(await tv(y),I))),()=>{S.Nu(),y.asyncQueue.enqueueAndForget((async()=>XA(await tv(y),I)))}})(Kf(o),u,i,a)}function Gm(t,e){return(function(r,i){const a=new Ji;return r.asyncQueue.enqueueAndForget((async()=>nH(await wH(r),i,a))),a.promise})(Kf(t),e)}function L3(t,e,n){const r=n.docs.get(e._key),i=new Nb(t);return new Ts(t,i,e._key,r,new hu(n.hasPendingWrites,n.fromCache),e.converter)}class MH{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=U3(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function V3(t){return new MH(t)}class kH{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=cm.provider,this._offlineComponentProvider={build:n=>new b3(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class LH{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=cm.provider,this._offlineComponentProvider={build:n=>new yH(n,e==null?void 0:e.cacheSizeBytes)}}}function U3(t){return new kH(t==null?void 0:t.forceOwnership)}function B3(){return new LH}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH={maxAttempts:5};function Oh(t,e){if((t=Jt(t)).firestore!==e)throw new me(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Gf(e)}get(e){const n=Oh(e,this._firestore),r=new DH(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Ie(24041);const a=i[0];if(a.isFoundDocument())return new fm(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new fm(this._firestore,r,n._key,null,n.converter);throw Ie(18433,{doc:a})}))}set(e,n,r){const i=Oh(e,this._firestore),a=pT(i.converter,n,r),o=lT(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const a=Oh(e,this._firestore);let o;return o=typeof(n=Jt(n))=="string"||n instanceof Hu?C3(this._dataReader,"Transaction.update",a._key,n,r,i):I3(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,o),this}delete(e){const n=Oh(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3 extends UH{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Oh(e,this._firestore),r=new Nb(this._firestore);return super.get(e).then((i=>new Ts(this._firestore,r,n._key,i._document,new hu(!1,!1),n.converter)))}}function qs(t,e,n){t=mr(t,aa);const r={...VH,...n};return(function(a){if(a.maxAttempts<1)throw new me(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,o,u){const f=new Ji;return a.asyncQueue.enqueueAndForget((async()=>{const d=await EH(a);new bH(a.asyncQueue,d,u,o,f).ju()})),f.promise})(Kf(t),(i=>e(new z3(t,i))),r)}function Ze(){return new uT("serverTimestamp")}function q3(t){return new cT("increment",t)}(function(e,n=!0){(function(i){Bf=i})(Fu),Tu(new Xo("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),u=new aa(new g8(r.getProvider("auth-internal")),new b8(o,r.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new me(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zo(d.options.projectId,m)})(o,i),o);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),La(SP,AP,e),La(SP,AP,"esm2020")})();const KR=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:mT,Bytes:Or,CollectionReference:As,DocumentReference:Yt,DocumentSnapshot:Ts,FieldPath:Hu,FieldValue:Hf,Firestore:aa,FirestoreError:me,GeoPoint:ea,Query:la,QueryCompositeFilterConstraint:Ab,QueryConstraint:Km,QueryDocumentSnapshot:qh,QueryFieldFilterConstraint:Hm,QueryLimitConstraint:Ib,QueryOrderByConstraint:Tb,QuerySnapshot:Wo,QueryStartAtConstraint:Cb,SnapshotMetadata:hu,Timestamp:ot,Transaction:z3,VectorValue:ta,_AutoId:rb,_ByteString:ln,_DatabaseId:Zo,_DocumentKey:Se,_EmptyAuthCredentialsProvider:bL,_FieldPath:Wt,_cast:mr,_logWarn:Cu,_validateIsNotUsedTogether:wL,addDoc:Is,collection:Qe,connectFirestoreEmulator:w3,deleteDoc:Ob,doc:$e,documentId:S3,ensureFirestoreConfigured:Kf,executeWrite:Gm,getDoc:ti,getDocs:dr,getFirestore:nv,increment:q3,initializeFirestore:E3,limit:j3,onSnapshot:na,orderBy:Jr,persistentLocalCache:V3,persistentMultipleTabManager:B3,persistentSingleTabManager:U3,query:qt,runTransaction:qs,serverTimestamp:Ze,setDoc:Va,startAfter:M3,updateDoc:Mu,where:Je},Symbol.toStringTag,{value:"Module"})),BH="modulepreload",zH=function(t){return"/"+t},HR={},dm=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=f(n.map(d=>{if(d=zH(d),d in HR)return;HR[d]=!0;const m=d.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":BH,m||(y.as="script"),y.crossOrigin="",y.href=d,u&&y.setAttribute("nonce",u),document.head.appendChild(y),m)return new Promise((b,A)=>{y.addEventListener("load",b),y.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};var qH="firebase",FH="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */La(qH,FH,"app");function F3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $H=F3,$3=new Pm("auth","Firebase",F3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new hA("@firebase/auth");function KH(t,...e){iv.logLevel<=st.WARN&&iv.warn(`Auth (${Fu}): ${t}`,...e)}function Py(t,...e){iv.logLevel<=st.ERROR&&iv.error(`Auth (${Fu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw yT(t,...e)}function ra(t,...e){return yT(t,...e)}function gT(t,e,n){const r={...$H(),[e]:n};return new Pm("auth","Firebase",r).create(e,{appName:t.name})}function Cs(t){return gT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K3(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ci(t,"argument-error"),gT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $3.create(t,...e)}function qe(t,e,...n){if(!t)throw yT(e,...n)}function bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Py(e),new Error(e)}function Ms(t,e){t||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){var t;return typeof self!="undefined"&&((t=self.location)==null?void 0:t.href)||""}function HH(){return GR()==="http:"||GR()==="https:"}function GR(){var t;return typeof self!="undefined"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HH()||HF()||"connection"in navigator)?navigator.onLine:!0}function WH(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ms(n>e,"Short delay should be less than long delay!"),this.isMobile=$F()||GF()}get(){return GH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t,e){Ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!="undefined")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!="undefined")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!="undefined")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XH=new Wm(3e4,6e4);function Gu(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function pl(t,e,n,r,i={}){return G3(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const u=Rm({key:t.config.apiKey,...o}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:f,...a};return KF()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&cl(t.emulatorConfig.host)&&(d.credentials="include"),H3.fetch()(await W3(t,t.config.apiHost,n,u),d)})}async function G3(t,e,n){t._canInitEmulator=!1;const r={...YH,...e};try{const i=new JH(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Jg(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const u=a.ok?o.errorMessage:o.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jg(t,"credential-already-in-use",o);if(f==="EMAIL_EXISTS")throw Jg(t,"email-already-in-use",o);if(f==="USER_DISABLED")throw Jg(t,"user-disabled",o);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw gT(t,m,d);Ci(t,m)}}catch(i){if(i instanceof Ga)throw i;Ci(t,"network-request-failed",{message:String(i)})}}async function Pb(t,e,n,r,i={}){const a=await pl(t,e,n,r,i);return"mfaPendingCredential"in a&&Ci(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function W3(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?vT(t.config,i):`${t.config.apiScheme}://${i}`;return QH.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function ZH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ra(this.auth,"network-request-failed")),XH.get())})}}function Jg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ra(t,e,r);return i.customData._tokenResponse=n,i}function WR(t){return t!==void 0&&t.enterprise!==void 0}class eG{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tG(t,e){return pl(t,"GET","/v2/recaptchaConfig",Gu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nG(t,e){return pl(t,"POST","/v1/accounts:delete",e)}async function av(t,e){return pl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function rG(t,e=!1){const n=Jt(t),r=await n.getIdToken(e),i=bT(r);qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Fh(Mx(i.auth_time)),issuedAtTime:Fh(Mx(i.iat)),expirationTime:Fh(Mx(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Mx(t){return Number(t)*1e3}function bT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Py("JWT malformed, contained fewer than 3 sections"),null;try{const i=Yk(n);return i?JSON.parse(i):(Py("Failed to decode base64 JWT payload"),null)}catch(i){return Py("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function YR(t){const e=bT(t);return qe(e,"internal-error"),qe(typeof e.exp!="undefined","internal-error"),qe(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hm(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ga&&iG(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!=null?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fh(this.lastLoginAt),this.creationTime=Fh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sv(t){var p;const e=t.auth,n=await t.getIdToken(),r=await hm(t,av(e,{idToken:n}));qe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(p=i.providerUserInfo)!=null&&p.length?Y3(i.providerUserInfo):[],o=oG(t.providerData,a),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=u?f:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new aS(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function sG(t){const e=Jt(t);await sv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oG(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Y3(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lG(t,e){const n=await G3(t,{},async()=>{const r=Rm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await W3(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&cl(t.emulatorConfig.host)&&(f.credentials="include"),H3.fetch()(o,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uG(t,e){return pl(t,"POST","/v2/accounts:revokeToken",Gu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken!="undefined","internal-error"),qe(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):YR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=YR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await lG(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new tf;return r&&(qe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(qe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(qe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tf,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t,e){qe(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class Xi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new aG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new aS(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hm(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rG(this,e)}reload(){return sG(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await hm(this,nG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var N,P,k,M,L,R,C,j;const r=(N=n.displayName)!=null?N:void 0,i=(P=n.email)!=null?P:void 0,a=(k=n.phoneNumber)!=null?k:void 0,o=(M=n.photoURL)!=null?M:void 0,u=(L=n.tenantId)!=null?L:void 0,f=(R=n._redirectEventId)!=null?R:void 0,d=(C=n.createdAt)!=null?C:void 0,m=(j=n.lastLoginAt)!=null?j:void 0,{uid:p,emailVerified:y,isAnonymous:b,providerData:A,stsTokenManager:w}=n;qe(p&&w,e,"internal-error");const S=tf.fromJSON(this.name,w);qe(typeof p=="string",e,"internal-error"),Ro(r,e.name),Ro(i,e.name),qe(typeof y=="boolean",e,"internal-error"),qe(typeof b=="boolean",e,"internal-error"),Ro(a,e.name),Ro(o,e.name),Ro(u,e.name),Ro(f,e.name),Ro(d,e.name),Ro(m,e.name);const I=new Xi({uid:p,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:b,photoURL:o,phoneNumber:a,tenantId:u,stsTokenManager:S,createdAt:d,lastLoginAt:m});return A&&Array.isArray(A)&&(I.providerData=A.map(U=>({...U}))),f&&(I._redirectEventId=f),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new tf;i.updateFromServerResponse(n);const a=new Xi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sv(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];qe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Y3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new tf;u.updateFromIdToken(r);const f=new Xi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new aS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new Map;function _s(t){Ms(t instanceof Function,"Expected a class definition");let e=QR.get(t);return e?(Ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Q3.type="NONE";const XR=Q3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e,n){return`firebase:${t}:${e}:${n}`}class nf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Ry(this.userKey,i.apiKey,a),this.fullPersistenceKey=Ry("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await av(this.auth,{idToken:e}).catch(()=>{});return n?Xi._fromGetAccountInfoResponse(this.auth,n,e):null}return Xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nf(_s(XR),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||_s(XR);const o=Ry(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const m=await d._get(o);if(m){let p;if(typeof m=="string"){const y=await av(e,{idToken:m}).catch(()=>{});if(!y)break;p=await Xi._fromGetAccountInfoResponse(e,y,m)}else p=Xi._fromJSON(e,m);d!==a&&(u=p),a=d;break}}catch(m){}const f=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new nf(a,e,r):(a=f[0],u&&await a._set(o,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch(m){}})),new nf(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(e4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n4(e))return"Blackberry";if(r4(e))return"Webos";if(Z3(e))return"Safari";if((e.includes("chrome/")||J3(e))&&!e.includes("edge/"))return"Chrome";if(t4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function X3(t=Dn()){return/firefox\//i.test(t)}function Z3(t=Dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J3(t=Dn()){return/crios\//i.test(t)}function e4(t=Dn()){return/iemobile/i.test(t)}function t4(t=Dn()){return/android/i.test(t)}function n4(t=Dn()){return/blackberry/i.test(t)}function r4(t=Dn()){return/webos/i.test(t)}function _T(t=Dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cG(t=Dn()){var e;return _T(t)&&!!((e=window.navigator)!=null&&e.standalone)}function fG(){return WF()&&document.documentMode===10}function i4(t=Dn()){return _T(t)||t4(t)||r4(t)||n4(t)||/windows phone/i.test(t)||e4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t,e=[]){let n;switch(t){case"Browser":n=ZR(Dn());break;case"Worker":n=`${ZR(Dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,u)=>{try{const f=e(a);o(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch(a){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hG(t,e={}){return pl(t,"GET","/v2/passwordPolicy",Gu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG=6;class pG{constructor(e){var r,i,a,o;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=n.minPasswordLength)!=null?r:mG,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))!=null?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!=null?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,i,a,o,u,f;const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=(r=n.meetsMinPasswordLength)!=null?r:!0),n.isValid&&(n.isValid=(i=n.meetsMaxPasswordLength)!=null?i:!0),n.isValid&&(n.isValid=(a=n.containsLowercaseLetter)!=null?a:!0),n.isValid&&(n.isValid=(o=n.containsUppercaseLetter)!=null?o:!0),n.isValid&&(n.isValid=(u=n.containsNumericCharacter)!=null?u:!0),n.isValid&&(n.isValid=(f=n.containsNonAlphanumericCharacter)!=null?f:!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JR(this),this.idTokenSubscription=new JR(this),this.beforeStateQueue=new dG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await nf.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await av(this,{idToken:e}),r=await Xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Nr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,u=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!o||o===u)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(Cs(this));const n=e?Jt(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hG(this),n=new pG(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uG(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_s(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await nf.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=(r=(n=this.currentUser)==null?void 0:n.uid)!=null?r:null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(u,this,"internal-error"),u.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{o=!0,f()}}else{const f=e.addObserver(n);return()=>{o=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=a4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&KH(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function gl(t){return Jt(t)}class JR{constructor(e){this.auth=e,this.observer=null,this.addObserver=e$(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yG(t){Rb=t}function s4(t){return Rb.loadJS(t)}function vG(){return Rb.recaptchaEnterpriseScript}function bG(){return Rb.gapiScript}function _G(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xG{constructor(){this.enterprise=new wG}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wG{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const EG="recaptcha-enterprise",o4="NO_RECAPTCHA";class SG{constructor(e){this.type=EG,this.auth=gl(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,u)=>{tG(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new eG(f);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(f=>{u(f)})})}function i(a,o,u){const f=window.grecaptcha;WR(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(o4)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xG().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(u=>{if(!n&&WR(window.grecaptcha))i(u,a,o);else{if(typeof window=="undefined"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let f=vG();f.length!==0&&(f+=u),s4(f).then(()=>{i(u,a,o)}).catch(d=>{o(d)})}}).catch(u=>{o(u)})})}}async function eD(t,e,n,r=!1,i=!1){const a=new SG(t);let o;if(i)o=o4;else try{o=await a.verify(n)}catch(f){o=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function tD(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await eD(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await eD(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(t,e){const n=Dm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Qo(a,e!=null?e:{}))return i;Ci(i,"already-initialized")}return n.initialize({options:e})}function TG(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_s);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function IG(t,e,n){const r=gl(t);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=l4(e),{host:o,port:u}=CG(e),f=u===null?"":`:${u}`,d={url:`${a}//${o}${f}/`},m=Object.freeze({host:o,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(Qo(d,r.config.emulator)&&Qo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,cl(o)?(nb(`${a}//${o}${f}`),dA("Auth",!0)):NG()}function l4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CG(t){const e=l4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:nD(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:nD(o)}}}function nD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,n){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function OG(t,e){return pl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PG(t,e){return Pb(t,"POST","/v1/accounts:signInWithPassword",Gu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RG(t,e){return Pb(t,"POST","/v1/accounts:signInWithEmailLink",Gu(t,e))}async function DG(t,e){return Pb(t,"POST","/v1/accounts:signInWithEmailLink",Gu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends xT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new mm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tD(e,n,"signInWithPassword",PG);case"emailLink":return RG(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tD(e,r,"signUpPassword",OG);case"emailLink":return DG(e,{idToken:n,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf(t,e){return Pb(t,"POST","/v1/accounts:signInWithIdp",Gu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG="http://localhost";class ku extends xT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ku(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new ku(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return rf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rf(e,n)}buildRequest(){const e={requestUri:jG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MG(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kG(t){const e=Sh(Ah(t)).link,n=e?Sh(Ah(e)).deep_link_id:null,r=Sh(Ah(t)).deep_link_id;return(r?Sh(Ah(r)).link:null)||r||n||e||t}class wT{constructor(e){var o,u,f,d,m,p;const n=Sh(Ah(e)),r=(o=n.apiKey)!=null?o:null,i=(u=n.oobCode)!=null?u:null,a=MG((f=n.mode)!=null?f:null);qe(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=(d=n.continueUrl)!=null?d:null,this.languageCode=(m=n.lang)!=null?m:null,this.tenantId=(p=n.tenantId)!=null?p:null}static parseLink(e){const n=kG(e);try{return new wT(n)}catch(r){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this.providerId=Wf.PROVIDER_ID}static credential(e,n){return mm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wT.parseLink(n);return qe(r,"argument-error"),mm._fromEmailAndCode(e,r.code,r.tenantId)}}Wf.PROVIDER_ID="password";Wf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends Db{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Ym{constructor(){super("facebook.com")}static credential(e){return ku._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch(n){return null}}}Lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Ym{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ku._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wi.credential(n,r)}catch(i){return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends Ym{constructor(){super("github.com")}static credential(e){return ku._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch(n){return null}}}Vo.GITHUB_SIGN_IN_METHOD="github.com";Vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Ym{constructor(){super("twitter.com")}static credential(e,n){return ku._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Uo.credential(n,r)}catch(i){return null}}}Uo.TWITTER_SIGN_IN_METHOD="twitter.com";Uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Xi._fromIdTokenResponse(e,r,i),o=rD(r);return new Tf({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=rD(r);return new Tf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function rD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends Ga{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ov.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!=null?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ov(e,n,r,i)}}function u4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ov._fromErrorAndOperation(t,a,e,r):a})}async function LG(t,e,n=!1){const r=await hm(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Tf._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VG(t,e,n=!1){const{auth:r}=t;if(Nr(r.app))return Promise.reject(Cs(r));const i="reauthenticate";try{const a=await hm(t,u4(r,i,e,t),n);qe(a.idToken,r,"internal-error");const o=bT(a.idToken);qe(o,r,"internal-error");const{sub:u}=o;return qe(t.uid===u,r,"user-mismatch"),Tf._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ci(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t,e,n=!1){if(Nr(t.app))return Promise.reject(Cs(t));const r="signIn",i=await u4(t,r,e),a=await Tf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function UG(t,e){return c4(gl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BG(t){const e=gl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function zG(t,e,n){return Nr(t.app)?Promise.reject(Cs(t)):UG(Jt(t),Wf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&BG(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(t,e){return Jt(t).setPersistence(e)}function FG(t,e,n,r){return Jt(t).onIdTokenChanged(e,n,r)}function $G(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}function KG(t,e,n,r){return Jt(t).onAuthStateChanged(e,n,r)}function iD(t){return Jt(t).signOut()}const lv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lv,"1"),this.storage.removeItem(lv),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=1e3,GG=10;class d4 extends f4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,f)=>{this.notifyListeners(o,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);fG()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,GG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},HG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}d4.type="LOCAL";const WG=d4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4 extends f4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}h4.type="SESSION";const ET=h4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async d=>d(n.origin,a)),f=await YG(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((u,f)=>{const d=ST("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(m),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(){return window}function XG(t){Ua().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){return typeof Ua().WorkerGlobalScope!="undefined"&&typeof Ua().importScripts=="function"}async function ZG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}function JG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function eW(){return m4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="firebaseLocalStorageDb",tW=1,uv="firebaseLocalStorage",g4="fbase_key";class Qm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mb(t,e){return t.transaction([uv],e?"readwrite":"readonly").objectStore(uv)}function nW(){const t=indexedDB.deleteDatabase(p4);return new Qm(t).toPromise()}function sS(){const t=indexedDB.open(p4,tW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(uv,{keyPath:g4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(uv)?e(r):(r.close(),await nW(),e(await sS()))})})}async function aD(t,e,n){const r=Mb(t,!0).put({[g4]:e,value:n});return new Qm(r).toPromise()}async function rW(t,e){const n=Mb(t,!1).get(e),r=await new Qm(n).toPromise();return r===void 0?null:r.value}function sD(t,e){const n=Mb(t,!0).delete(e);return new Qm(n).toPromise()}const iW=800,aW=3;class y4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>aW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jb._getInstance(eW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await ZG(),!this.activeServiceWorker)return;this.sender=new QG(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sS();return await aD(e,lv,"1"),await sD(e,lv),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Mb(i,!1).getAll();return new Qm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y4.type="LOCAL";const sW=y4;new Wm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){return e?_s(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends xT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oW(t){return c4(t.auth,new TT(t),t.bypassAuthState)}function lW(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),VG(n,new TT(t),t.bypassAuthState)}async function uW(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),LG(n,new TT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:u}=e;if(o){this.reject(o);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oW;case"linkViaPopup":case"linkViaRedirect":return uW;case"reauthViaPopup":case"reauthViaRedirect":return lW;default:Ci(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=new Wm(2e3,1e4);async function fW(t,e,n){if(Nr(t.app))return Promise.reject(ra(t,"operation-not-supported-in-this-environment"));const r=gl(t);K3(t,e,Db);const i=AT(r,n);return new mu(r,"signInViaPopup",e,i).executeNotNull()}class mu extends v4{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,mu.currentPopupAction&&mu.currentPopupAction.cancel(),mu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=ST();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ra(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ra(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ra(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cW.get())};e()}}mu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW="pendingRedirect",Dy=new Map;class hW extends v4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dy.get(this.auth._key());if(!e){try{const r=await mW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dy.set(this.auth._key(),e)}return this.bypassAuthState||Dy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mW(t,e){const n=_4(e),r=b4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function pW(t,e){return b4(t)._set(_4(e),"true")}function gW(t,e){Dy.set(t._key(),e)}function b4(t){return _s(t._redirectPersistence)}function _4(t){return Ry(dW,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t,e,n){return yW(t,e,n)}async function yW(t,e,n){if(Nr(t.app))return Promise.reject(Cs(t));const r=gl(t);K3(t,e,Db),await r._initializationPromise;const i=AT(r,n);return await pW(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function vW(t,e,n=!1){if(Nr(t.app))return Promise.reject(Cs(t));const r=gl(t),i=AT(r,e),o=await new hW(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW=600*1e3;class _W{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!x4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ra(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bW&&this.cachedEventUids.clear(),this.cachedEventUids.has(lD(e))}saveEventToCache(e){this.cachedEventUids.add(lD(e)),this.lastProcessedEventTime=Date.now()}}function lD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function x4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wW(t,e={}){return pl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SW=/^https?/;async function AW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wW(t);for(const n of e)try{if(TW(n))return}catch(r){}Ci(t,"unauthorized-domain")}function TW(t){const e=iS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!SW.test(n))return!1;if(EW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=new Wm(3e4,6e4);function uD(){const t=Ua().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CW(t){return new Promise((e,n)=>{var i,a,o;function r(){uD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uD(),n(ra(t,"network-request-failed"))},timeout:IW.get()})}if((a=(i=Ua().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Ua().gapi)!=null&&o.load)r();else{const u=_G("iframefcb");return Ua()[u]=()=>{gapi.load?r():n(ra(t,"network-request-failed"))},s4(`${bG()}?onload=${u}`).catch(f=>n(f))}}).catch(e=>{throw jy=null,e})}let jy=null;function NW(t){return jy=jy||CW(t),jy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW=new Wm(5e3,15e3),PW="__/auth/iframe",RW="emulator/auth/iframe",DW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MW(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vT(e,RW):`https://${t.config.authDomain}/${PW}`,r={apiKey:e.apiKey,appName:t.name,v:Fu},i=jW.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Rm(r).slice(1)}`}async function kW(t){const e=await NW(t),n=Ua().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:MW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DW,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=ra(t,"network-request-failed"),u=Ua().setTimeout(()=>{a(o)},OW.get());function f(){Ua().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VW=500,UW=600,BW="_blank",zW="http://localhost";class cD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function qW(t,e,n,r=VW,i=UW){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...LW,width:r.toString(),height:i.toString(),top:a,left:o},d=Dn().toLowerCase();n&&(u=J3(d)?BW:n),X3(d)&&(e=e||zW,f.scrollbars="yes");const m=Object.entries(f).reduce((y,[b,A])=>`${y}${b}=${A},`,"");if(cG(d)&&u!=="_self")return FW(e||"",u),new cD(null);const p=window.open(e||"",u,m);qe(p,t,"popup-blocked");try{p.focus()}catch(y){}return new cD(p)}function FW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W="__/auth/handler",KW="emulator/auth/handler",HW=encodeURIComponent("fac");async function fD(t,e,n,r,i,a){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fu,eventId:i};if(e instanceof Db){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",JF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))o[m]=p}if(e instanceof Ym){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await t._getAppCheckToken(),d=f?`#${HW}=${encodeURIComponent(f)}`:"";return`${GW(t)}?${Rm(u).slice(1)}${d}`}function GW({config:t}){return t.emulator?vT(t,KW):`https://${t.authDomain}/${$W}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="webStorageSupport";class WW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=vW,this._overrideRedirectResult=gW}async _openPopup(e,n,r,i){var o;Ms((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await fD(e,n,r,iS(),i);return qW(e,a,ST())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await fD(e,n,r,iS(),i);return XG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ms(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kW(e),r=new _W(e);return n.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kx,{type:kx},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[kx];a!==void 0&&n(!!a),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return i4()||Z3()||_T()}}const YW=WW;var dD="@firebase/auth",hD="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZW(t){Tu(new Xo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;qe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a4(t)},d=new gG(r,i,a,f);return TG(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tu(new Xo("auth-internal",e=>{const n=gl(e.getProvider("auth").getImmediate());return(r=>new QW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),La(dD,hD,XW(t)),La(dD,hD,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JW=300,eY=eL("authIdTokenMaxAge")||JW;let mD=null;const tY=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eY)return;const i=n==null?void 0:n.token;mD!==i&&(mD=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function w4(t=pA()){const e=Dm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AG(t,{popupRedirectResolver:YW,persistence:[sW,WG,ET]}),r=eL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=tY(a.toString());$G(n,o,()=>o(n.currentUser)),FG(n,u=>o(u))}}const i=Xk("auth");return i&&IG(n,`http://${i}`),n}function nY(){var t,e;return(e=(t=document.getElementsByTagName("head"))==null?void 0:t[0])!=null?e:document}yG({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ra("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",nY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZW("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="firebasestorage.googleapis.com",rY="storageBucket",iY=120*1e3,aY=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Ga{constructor(e,n,r=0){super(Lx(e),`Firebase Storage: ${n} (${Lx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qa;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qa||(qa={}));function Lx(t){return"storage/"+t}function sY(){const t="An unknown error occurred, please check the error payload for server response.";return new Wa(qa.UNKNOWN,t)}function oY(){return new Wa(qa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lY(){return new Wa(qa.CANCELED,"User canceled the upload/download.")}function uY(t){return new Wa(qa.INVALID_URL,"Invalid URL '"+t+"'.")}function cY(t){return new Wa(qa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function pD(t){return new Wa(qa.INVALID_ARGUMENT,t)}function S4(){return new Wa(qa.APP_DELETED,"The Firebase app was deleted.")}function fY(t){return new Wa(qa.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zi.makeFromUrl(e,n)}catch(i){return new Zi(e,"")}if(r.path==="")return r;throw cY(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),f={bucket:1,path:3};function d(k){k.path_=decodeURIComponent(k.path)}const m="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${p}/${m}/b/${i}/o${y}`,"i"),A={bucket:1,path:3},w=n===E4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",I=new RegExp(`^https?://${w}/${i}/${S}`,"i"),P=[{regex:u,indices:f,postModify:a},{regex:b,indices:A,postModify:d},{regex:I,indices:{bucket:1,path:2},postModify:d}];for(let k=0;k<P.length;k++){const M=P[k],L=M.regex.exec(e);if(L){const R=L[M.indices.bucket];let C=L[M.indices.path];C||(C=""),r=new Zi(R,C),M.postModify(r);break}}if(r==null)throw uY(e);return r}}class dY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hY(t,e,n){let r=1,i=null,a=null,o=!1,u=0;function f(){return u===2}let d=!1;function m(...S){d||(d=!0,e.apply(null,S))}function p(S){i=setTimeout(()=>{i=null,t(b,f())},S)}function y(){a&&clearTimeout(a)}function b(S,...I){if(d){y();return}if(S){y(),m.call(null,S,...I);return}if(f()||o){y(),m.call(null,S,...I);return}r<64&&(r*=2);let P;u===1?(u=2,P=0):P=(r+Math.random())*1e3,p(P)}let A=!1;function w(S){A||(A=!0,y(),!d&&(i!==null?(S||(u=2),clearTimeout(i),p(0)):S||(u=1)))}return p(0),a=setTimeout(()=>{o=!0,w(!0)},n),w}function mY(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(t){return t!==void 0}function gD(t,e,n,r){if(r<e)throw pD(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw pD(`Invalid value for '${t}'. Expected ${n} or less.`)}function gY(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var cv;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(cv||(cv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(e,n,r,i,a,o,u,f,d,m,p,y=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=m,this.connectionFactory_=p,this.retry=y,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,w)=>{this.resolve_=A,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ey(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=u=>{const f=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const u=a.getErrorCode()===cv.NO_ERROR,f=a.getStatus();if(!u||yY(f,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===cv.ABORT;r(!1,new ey(!1,null,m));return}const d=this.successCodes_.indexOf(f)!==-1;r(!0,new ey(d,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());pY(f)?a(f):a()}catch(f){o(f)}else if(u!==null){const f=sY();f.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,f)):o(f)}else if(i.canceled){const f=this.appDelete_?S4():lY();o(f)}else{const f=oY();o(f)}};this.canceled_?n(!1,new ey(!1,null,!0)):this.backoffId_=hY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ey{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function bY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _Y(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function xY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function wY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function EY(t,e,n,r,i,a,o=!0,u=!1){const f=gY(t.urlParams),d=t.url+f,m=Object.assign({},t.headers);return xY(m,e),bY(m,n),_Y(m,a),wY(m,r),new vY(d,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function AY(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this._service=e,n instanceof Zi?this._location=n:this._location=Zi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new fv(e,n)}get root(){const e=new Zi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AY(this._location.path)}get storage(){return this._service}get parent(){const e=SY(this._location.path);if(e===null)return null;const n=new Zi(this._location.bucket,e);return new fv(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fY(e)}}function yD(t,e){const n=e==null?void 0:e[rY];return n==null?null:Zi.makeFromBucketSpec(n,t)}function TY(t,e,n,r={}){t.host=`${e}:${n}`;const i=cl(e);i&&(nb(`https://${t.host}/b`),dA("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:tL(a,t.app.options.projectId))}class IY{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=E4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iY,this._maxUploadRetryTime=aY,this._requests=new Set,i!=null?this._bucket=Zi.makeFromBucketSpec(i,this._host):this._bucket=yD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zi.makeFromBucketSpec(this._url,e):this._bucket=yD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fv(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new dY(S4());{const o=EY(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const vD="@firebase/storage",bD="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="storage";function CY(t=pA(),e){t=Jt(t);const r=Dm(t,A4).getImmediate({identifier:e}),i=Zk("storage");return i&&NY(r,...i),r}function NY(t,e,n,r={}){TY(t,e,n,r)}function OY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new IY(n,r,i,e,Fu)}function PY(){Tu(new Xo(A4,OY,"PUBLIC").setMultipleInstances(!0)),La(vD,bD,""),La(vD,bD,"esm2020")}PY();const Xl={apiKey:"AIzaSyCnIt7Q2qoFg0TYfNBel_OyMbriuDtvU7s",authDomain:"artemisa-f65f0.firebaseapp.com",projectId:"artemisa-f65f0",storageBucket:"artemisa-f65f0.appspot.com",messagingSenderId:"1074389759165",appId:"1:1074389759165:web:6f836d4eb1105f93b3b3d4",measurementId:"G-QFRSGHKRPN"},RY={apiKey:Xl.apiKey,authDomain:Xl.authDomain,projectId:Xl.projectId,storageBucket:Xl.storageBucket,messagingSenderId:Xl.messagingSenderId,appId:Xl.appId,measurementId:Xl.measurementId},xu=bP().length?bP()[0]:lL(RY),Hi=w4(xu);var Ck;(Ck=Hi.useDeviceLanguage)==null||Ck.call(Hi);const DY=new Wi;DY.setCustomParameters({prompt:"select_account"});let My;try{if(typeof window!="undefined"){const t=typeof location!="undefined"&&location.hostname==="localhost";My=E3(xu,{localCache:V3({tabManager:B3()}),experimentalAutoDetectLongPolling:!0,...t?{experimentalForceLongPolling:!0}:{},ignoreUndefinedProperties:!0})}else My=nv(xu)}catch(t){My=nv(xu)}const Ce=My;CY(xu);let af=null,Vx=null;async function jY(){var t,e;if(typeof window=="undefined")return{analytics:null,perf:null};try{const n=await dm(()=>import("./index.esm-CPAVUneL.js"),__vite__mapDeps([0,1]));await((e=(t=n.isSupported)==null?void 0:t.call(n))!=null?e:Promise.resolve(!0))&&!af&&(af=n.getAnalytics(xu))}catch(n){}try{const n=await dm(()=>import("./index.esm-3NhmC7iG.js"),__vite__mapDeps([2,1]));Vx||(Vx=n.getPerformance(xu))}catch(n){}return{analytics:af,perf:Vx}}async function IT(t,e){try{af||await jY(),af&&(await dm(()=>import("./index.esm-CPAVUneL.js"),__vite__mapDeps([0,1]))).logEvent(af,t,e)}catch(n){}}function gn(){var n,r;const t="artemisa",e=typeof localStorage!="undefined"&&(n=localStorage.getItem("orgId"))!=null?n:void 0;return String((r=e!=null?e:t)!=null?r:"artemisa").trim()||"artemisa"}const T4=E.createContext(null),I4=()=>{const t=E.useContext(T4);if(!t)throw new Error("CartProvider missing");return t},_D="artemisa.cart.v1";function MY({children:t}){const[e,n]=E.useState([]);E.useEffect(()=>{try{const d=localStorage.getItem(_D);d&&n(JSON.parse(d))}catch(d){}},[]),E.useEffect(()=>{localStorage.setItem(_D,JSON.stringify(e))},[e]);const r=d=>{const m=Number(d.price)||0;n(p=>{const y=p.findIndex(b=>b.id===d.id);if(y>=0){const b=[...p];return b[y]={...b[y],qty:b[y].qty+1},b}return[...p,{id:d.id,name:d.name,price:m,qty:1,recipe:d.recipe}]})},i=d=>n(m=>m.map(p=>p.id===d?{...p,qty:p.qty+1}:p)),a=d=>n(m=>m.map(p=>p.id===d?{...p,qty:Math.max(1,p.qty-1)}:p)),o=d=>n(m=>m.filter(p=>p.id!==d)),u=()=>n([]),f=E.useMemo(()=>e.reduce((d,m)=>d+(Number(m.price)||0)*m.qty,0),[e]);return _.jsx(T4.Provider,{value:{items:e,total:f,addProduct:r,inc:i,dec:a,remove:o,clear:u},children:t})}function Zl(t){if(!t)return"";if(!/[]/.test(t))return t.normalize("NFC");try{const e=new Uint8Array([...t].map(r=>r.charCodeAt(0))),n=new TextDecoder("utf-8").decode(e);return(/[^\u0000-\u001F]/.test(n)?n:t).normalize("NFC")}catch(e){return t.normalize("NFC")}}const xD=["frappes","coldbrew","bebidas calientes","comida"];function kY(){const{addProduct:t}=I4(),[e,n]=E.useState([]),[r,i]=E.useState(""),[a,o]=E.useState(xD[0]),[u,f]=E.useState(!1),[d,m]=E.useState(null);E.useEffect(()=>{const w=qt(Qe(Ce,"products"),Je("orgId","==",gn()),Jr("name")),S=na(w,I=>{const N=[];I.forEach(P=>{var M,L,R,C;const k=P.data();N.push({id:P.id,name:String((M=k.name)!=null?M:""),price:Number(k.price)||0,active:!!k.active,photoUrl:(L=k.photoUrl)!=null?L:"",category:String((R=k.category)!=null?R:""),recipe:(C=k.recipe)!=null?C:{},sizes:Array.isArray(k.sizes)?k.sizes:[]})}),n(N)});return()=>S()},[]);const p=E.useMemo(()=>{const w=r.trim().toLowerCase();return e.filter(S=>u?S.active:!0).filter(S=>{var I;return Zl(String((I=S.category)!=null?I:"")).toLowerCase()===a}).filter(S=>Zl(S.name).toLowerCase().includes(w))},[e,r,a,u]),y=w=>{var I,N;if(((N=(I=w.sizes)==null?void 0:I.length)!=null?N:0)>0){m(w);return}t({id:w.id,name:Zl(w.name),price:Number(w.price)||0,qty:1,recipe:w.recipe||{},sizeId:"",sizeName:""})},b=(w,S)=>{var I,N;return Zl(String((N=(I=w==null?void 0:w.name)!=null?I:w==null?void 0:w.label)!=null?N:`tamao ${S+1}`))},A=(w,S)=>{var I,N,P;return String((P=(N=(I=w==null?void 0:w.id)!=null?I:w==null?void 0:w.name)!=null?N:w==null?void 0:w.label)!=null?P:S)};return _.jsxs("div",{className:"max-w-5xl mx-auto p-4 space-y-4",style:{paddingBottom:"var(--bottom-bar-space, 160px)"},children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("input",{className:"flex-1 border rounded-xl px-4 py-3",placeholder:"Buscar productos...",value:r,onChange:w=>i(w.target.value)}),_.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[_.jsx("input",{type:"checkbox",checked:u,onChange:w=>f(w.target.checked)}),"Solo activos"]})]}),_.jsx("div",{className:"flex gap-2 overflow-auto no-scrollbar",children:xD.map(w=>_.jsx("button",{onClick:()=>o(w),className:"px-3 py-1 rounded-full border whitespace-nowrap "+(a===w?"bg-orange-500 text-white border-orange-500":"bg-white"),children:w},w))}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[p.map(w=>{var I,N;const S=((N=(I=w.sizes)==null?void 0:I.length)!=null?N:0)>0;return _.jsxs("div",{className:"bg-white border rounded-2xl overflow-hidden flex flex-col",children:[w.photoUrl?_.jsx("img",{src:w.photoUrl,alt:Zl(w.name),className:"h-40 w-full object-cover"}):_.jsx("div",{className:"h-40 w-full bg-slate-100 flex items-center justify-center text-slate-400",children:"Sin foto"}),_.jsxs("div",{className:"p-3 flex-1 flex flex-col",children:[_.jsx("div",{className:"font-semibold",children:Zl(w.name)}),_.jsx("div",{className:"text-sm text-slate-600 mt-1",children:S?"Con tamaos":`$${Number(w.price||0).toLocaleString()}`}),_.jsx("div",{className:"mt-auto pt-3",children:_.jsx("button",{onClick:()=>y(w),className:"w-full rounded-xl bg-[var(--brand,#f97316)] text-white py-2",children:"Aadir"})})]})]},w.id)}),p.length===0&&_.jsx("div",{className:"text-sm text-slate-500",children:"Sin resultados."})]}),_.jsx("div",{"aria-hidden":!0,style:{height:8}}),d&&_.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-end md:items-center md:justify-center",onClick:w=>{w.target===w.currentTarget&&m(null)},children:_.jsxs("div",{className:"bg-white w-full md:max-w-md rounded-t-2xl md:rounded-2xl p-4 space-y-3 max-h-[85vh] overflow-auto md:mb-0",style:{marginBottom:"var(--bottom-bar-space, 160px)"},children:[_.jsx("div",{className:"font-semibold text-lg",children:"Elegir tamao"}),_.jsx("div",{className:"space-y-2",children:(d.sizes||[]).map((w,S)=>{const I=b(w,S),N=A(w,S),P=Number((w==null?void 0:w.price)||0);return _.jsxs("button",{onClick:()=>{t({id:`${d.id}:${N}`,name:Zl(d.name),sizeId:String(N),sizeName:I,price:P,qty:1,recipe:(w==null?void 0:w.recipe)||{}}),m(null)},className:"w-full border rounded-xl px-4 py-3 flex items-center justify-between hover:bg-slate-50",children:[_.jsx("span",{className:"font-medium",children:I}),_.jsxs("span",{className:"text-slate-600",children:["$",P.toLocaleString()]})]},`${d.id}-${N}`)})}),_.jsx("button",{className:"w-full py-2 border rounded-xl",onClick:()=>m(null),children:"Cancelar"})]})})]})}async function LY({uid:t,email:e,displayName:n}){if(!t)return;const r=gn(),i=$e(Ce,"orgs",r,"members",t),a=await ti(i),o=(e||"").trim().toLowerCase();let u=null;try{const p=await ti($e(Ce,"settings",r)),y=(p.exists()?p.data().roleByEmail:null)||{};o&&y[o]&&(u=y[o])}catch(p){}const f="client";if(!a.exists()){await Va(i,{orgId:r,uid:t,role:u||f,email:o||null,displayName:n||null,createdAt:Ze(),updatedAt:Ze()},{merge:!0});return}const d=a.data(),m={updatedAt:Ze()};(d.email||null)!==(o||null)&&(m.email=o||null),(d.displayName||null)!==(n||null)&&(m.displayName=n||null),u&&d.role!==u&&(m.role=u),Object.keys(m).length>0&&await Mu(i,m)}const VY=["frappes","coldbrew","bebidas calientes"];async function UY(t,e,n){const r=$e(t,"customers",e);if((await ti(r)).exists())n&&Object.keys(n).length&&await Mu(r,{...n,updatedAt:Ze()});else{const a=Ze();await Mu(r,{}).catch(async()=>{await qs(t,async o=>{o.set(r,{orgId:gn(),stampsProgress:0,totalStamps:0,freeCredits:0,createdAt:a,updatedAt:a,...n||{}})})})}}function BY(t){return!t||!t.length?0:t.reduce((e,n)=>{const r=!!n.isBeverage||(n.category?VY.includes(n.category.toLowerCase()):!1);return e+(r?Number(n.qty||0):0)},0)}function C4(t){const e=Math.max(0,Math.floor(t)),n=Math.floor(e/10),r=e%10;return{totalStamps:e,freeCredits:n,stampsProgress:r}}async function N4(t,e){const n=gn(),r=$e(t,"customers",e),i=Qe(t,"customers",e,"loyaltyEvents");await qs(t,async a=>{const o=await a.get(r);if(!o.exists())throw new Error("El cliente no existe.");const u=o.data()||{},f=Number(u.totalStamps||0);if(f<10)throw new Error("Sin crditos disponibles.");const d=C4(f-10);a.update(r,{...d,updatedAt:Ze()}),a.set($e(i),{orgId:n,type:"redeem",delta:-10,at:Ze(),by:"staff"})})}async function zY(t,e){const n=gn(),r=$e(t,"orders",e);await qs(t,async i=>{const a=await i.get(r);if(!a.exists())return;const o={...a.data()},u=o.customerUid||null;if(!u)return;const f=BY(o.items);if(f<=0)return;const d=$e(t,"customers",u),m=await i.get(d);m.exists()||i.set(d,{orgId:n,stampsProgress:0,totalStamps:0,freeCredits:0,createdAt:Ze(),updatedAt:Ze()});const p=m.exists()?m.data():{totalStamps:0},y=C4(Number(p.totalStamps||0)+f),b=Qe(t,"customers",u,"loyaltyEvents");i.set($e(b),{orgId:n,type:"earn",delta:f,orderId:e,at:Ze(),staffId:o.staffId||null}),i.update(d,{...y,updatedAt:Ze()})})}const O4=E.createContext(null);function qY({children:t}){const[e,n]=E.useState(null),[r,i]=E.useState(!0);E.useEffect(()=>{qG(Hi,ET).catch(()=>{});const o=KG(Hi,u=>{var f,d,m,p;n(u!=null?u:null),i(!1),window.__firebaseAuthUid=(f=u==null?void 0:u.uid)!=null?f:null,u&&Promise.allSettled([LY({uid:u.uid,email:u.email,displayName:u.displayName}),UY(Ce,u.uid,{email:(d=u.email)!=null?d:null,displayName:(m=u.displayName)!=null?m:null,photoURL:(p=u.photoURL)!=null?p:null})]).catch(()=>{})});return()=>o()},[]);const a=E.useMemo(()=>({user:e,loading:r,async loginGoogle(o){const u=new Wi,f={};o!=null&&o.forceSelect&&(f.prompt="select_account"),o!=null&&o.preferredEmail&&(f.login_hint=o.preferredEmail),u.setCustomParameters(f);try{await fW(Hi,u)}catch(d){await oD(Hi,u)}},async switchGoogleAccount(o){try{await iD(Hi)}catch(d){}const u=new Wi,f={prompt:"select_account"};o&&(f.login_hint=o),u.setCustomParameters(f),await oD(Hi,u)},async loginEmail(o,u){await zG(Hi,o,u)},async logout(){await iD(Hi)}}),[e,r]);return _.jsx(O4.Provider,{value:a,children:t})}function oi(){const t=E.useContext(O4);if(!t)throw new Error("useAuth debe usarse dentro de <AuthProvider>");return t}function Xm(t){const[e,n]=E.useState(null),[r,i]=E.useState(!0);return E.useEffect(()=>{const a=gn();if(!t){n(null),i(!t);return}i(!0);const o=$e(Ce,"orgs",a,"members",t),u=na(o,f=>{var m;const d=f.exists()?(m=f.data())==null?void 0:m.role:null;n(d!=null?d:null),i(!1)},()=>{n(null),i(!1)});return()=>u()},[t]),{role:e,loading:r}}const dv=gn(),hv=(t=new Date)=>t.toISOString().slice(0,10);function FY(t){const e={};for(const n of t){const r=n.recipe||{},i=Number(n.qty)||0;for(const[a,o]of Object.entries(r)){const u=(Number(o)||0)*i;u>0&&(e[a]=(e[a]||0)+u)}}return e}function P4(t){const e={};for(const n of t||[]){const r=(n==null?void 0:n.recipe)||{},i=Number((n==null?void 0:n.qty)||0);for(const[a,o]of Object.entries(r)){const u=(Number(o)||0)*i;u>0&&(e[a]=(e[a]||0)+u)}}return e}function CT(t){return t.map(e=>({item_id:e.id,item_name:e.name,price:Number(e.price)||0,quantity:Number(e.qty)||0}))}function $Y(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function il(t){if(t===void 0)return;if(t===null)return t;const e=typeof t;if(e==="number")return Number.isFinite(t)?t:0;if(e==="string"||e==="boolean")return t;if(Array.isArray(t))return t.map(il).filter(r=>r!==void 0);if(e==="object"){if(t instanceof ot||!$Y(t))return t;const n={};for(const[r,i]of Object.entries(t)){const a=il(i);a!==void 0&&(n[r]=a)}return n}return t}async function KY(t,e,n="cash",r,i){if(!e.length)throw new Error("El carrito est vaco");const a=FY(e),o=Object.keys(a),u=$e(Qe(t,"orders"));await qs(t,async f=>{var A;const d=[];for(const w of o){const S=$e(t,"inventoryItems",w),I=await f.get(S);if(!I.exists())throw new Error(`Ingrediente no existe: ${w}`);const N=I.data(),P=Number((N==null?void 0:N.stock)||0),k=Number(a[w]||0),M=String((A=N==null?void 0:N.name)!=null?A:w),L=String((N==null?void 0:N.unit)||""),R=Number((N==null?void 0:N.costPerUnit)||0);if(P<k)throw new Error(`Stock insuficiente de ${M}. Falta ${k-P} ${L||""}.`);d.push({id:w,have:P,req:k,name:M,unit:L,cpu:R})}const m=d.reduce((w,S)=>w+S.req*S.cpu,0);for(const{id:w,have:S,req:I}of d){const N=$e(t,"inventoryItems",w);f.update(N,{stock:S-I,updatedAt:Ze()});const P=$e(Qe(t,"stockMovements"));f.set(P,il({id:P.id,orgId:dv,dateKey:hv(),at:Ze(),type:"consume",ingredientId:w,qty:I,reason:"sale",orderId:u.id}))}const p=e.map(w=>{var P,k;const S=Number.isFinite(Number(w.price))?Number(w.price):0,I=Number(w.qty)||0,N={productId:String((P=w.id)!=null?P:""),name:String((k=w.name)!=null?k:""),price:S,qty:I,total:S*I,recipe:w.recipe||{}};return w.sizeId&&(N.sizeId=String(w.sizeId)),w.sizeName&&(N.sizeName=String(w.sizeName)),typeof w.isBeverage=="boolean"&&(N.isBeverage=w.isBeverage),w.category&&(N.category=String(w.category)),N}),y=Ze(),b=p.reduce((w,S)=>w+(Number(S.total)||0),0);f.set(u,il({id:u.id,orgId:dv,dateKey:hv(),at:y,createdAt:y,items:p,total:b,cogs:Number(m||0),payMethod:n||"cash",status:"pending",staffId:r!=null?r:null,customerUid:i!=null?i:null,consumption:a}))});try{const f=e.reduce((d,m)=>d+Number(m.price||0)*Number(m.qty||0),0);await IT("begin_checkout",{value:f,currency:"COP",items:CT(e)})}catch(f){}return u.id}async function HY(t,e){var i;const n=$e(t,"orders",e),r=await qs(t,async a=>{const o=await a.get(n);if(!o.exists())throw new Error("Orden no existe");const u=o.data();if(u.status==="canceled")throw new Error("No se puede entregar una orden anulada");return u.status!=="delivered"&&a.update(n,il({status:"delivered",deliveredAt:Ze()})),{total:Number(u.total||0),items:Array.isArray(u.items)?u.items:[],id:n.id}});try{await IT("purchase",{transaction_id:e,value:(i=r==null?void 0:r.total)!=null?i:0,currency:"COP",items:CT(((r==null?void 0:r.items)||[]).map(a=>({id:String(a.productId||a.id||""),name:String(a.name||""),price:Number(a.price||0),qty:Number(a.qty||0)})))})}catch(a){}try{await zY(t,e)}catch(a){}}async function GY(t,e){return HY(t,e)}async function WY(t,e){var i;const n=$e(t,"orders",e),r=await qs(t,async a=>{var p,y,b;const o=await a.get(n);if(!o.exists())throw new Error("Orden no existe");const u=o.data();if(u.status==="canceled")return{total:Number(u.total||0),items:Array.isArray(u.items)?u.items:[]};if(u.status==="delivered")throw new Error("No se puede anular una orden ya entregada");const f=u.consumption&&typeof u.consumption=="object"?u.consumption:P4(u.items),d=Object.keys(f),m={};for(const A of d){const w=$e(t,"inventoryItems",A),S=await a.get(w);m[A]=S.exists()?{have:Number(((p=S.data())==null?void 0:p.stock)||0)}:null}for(const A of d){const w=Number(f[A]||0),S=$e(t,"inventoryItems",A),I=(b=(y=m[A])==null?void 0:y.have)!=null?b:0;m[A]&&a.update(S,{stock:I+w,updatedAt:Ze()});const N=$e(Qe(t,"stockMovements"));a.set(N,il({id:N.id,orgId:dv,dateKey:hv(),at:Ze(),type:"revert",ingredientId:A,qty:w,reason:"cancel",orderId:e}))}return a.update(n,il({status:"canceled",canceledAt:Ze()})),{total:Number(u.total||0),items:Array.isArray(u.items)?u.items:[]}});try{await IT("refund",{transaction_id:e,value:(i=r==null?void 0:r.total)!=null?i:0,currency:"COP",items:CT(((r==null?void 0:r.items)||[]).map(a=>({id:String(a.productId||a.id||""),name:String(a.name||""),price:Number(a.price||0),qty:Number(a.qty||0)})))})}catch(a){}}async function YY(t,e){const n=$e(t,"orders",e);await qs(t,async r=>{var d,m,p;const i=await r.get(n);if(!i.exists())return;const a=i.data();let o={},u=[],f={};if(a.status!=="canceled"){o=a.consumption&&typeof a.consumption=="object"?a.consumption:P4(a.items),u=Object.keys(o),f={};for(const y of u){const b=$e(t,"inventoryItems",y),A=await r.get(b);f[y]=A.exists()?{have:Number(((d=A.data())==null?void 0:d.stock)||0)}:null}for(const y of u){const b=Number(o[y]||0),A=$e(t,"inventoryItems",y),w=(p=(m=f[y])==null?void 0:m.have)!=null?p:0;f[y]&&r.update(A,{stock:w+b,updatedAt:Ze()});const S=$e(Qe(t,"stockMovements"));r.set(S,il({id:S.id,orgId:dv,dateKey:hv(),at:Ze(),type:"revert",ingredientId:y,qty:b,reason:"delete",orderId:e}))}}r.delete(n)})}function QY(t,e=300){const[n,r]=E.useState(t);return E.useEffect(()=>{const i=setTimeout(()=>r(t),e);return()=>clearTimeout(i)},[t,e]),n}function XY(t,e,n=12,r=Ce!=null?Ce:nv()){const[i,a]=E.useState([]),[o,u]=E.useState(!1),[f,d]=E.useState(),[m,p]=E.useState(!1),y=E.useRef(null),b=QY(e.trim().toLowerCase(),250),A=E.useMemo(()=>qt(Qe(r,"customers"),Je("orgId","==",t),Jr("updatedAt","desc"),j3(n)),[r,t,n]),w=E.useCallback(async(N=!1)=>{u(!0),d(void 0);try{const P=N&&y.current?qt(A,M3(y.current)):A,M=(await dr(P)).docs;M.length&&(y.current=M[M.length-1]);const L=M.map(R=>{var U,B,F,z,pe,we,W;const C=R.data();return{id:R.id,orgId:C.orgId,displayName:(U=C.displayName)!=null?U:null,email:(B=C.email)!=null?B:null,photoURL:(F=C.photoURL)!=null?F:null,points:(z=C.points)!=null?z:0,stampsProgress:(pe=C.stampsProgress)!=null?pe:0,totalStamps:(we=C.totalStamps)!=null?we:0,freeCredits:(W=C.freeCredits)!=null?W:0}});a(R=>{const C=N?R.concat(L):L;if(!b)return C;const j=b;return C.filter(U=>(U.displayName||"").toLowerCase().includes(j)||(U.email||"").toLowerCase().includes(j)||U.id.toLowerCase().includes(j))}),p(M.length===n)}catch(P){d((P==null?void 0:P.message)||"Error al buscar clientes")}finally{u(!1)}},[A,b]);E.useEffect(()=>{y.current=null,a([]),p(!1),d(void 0),w(!1)},[t,b,w]);const S=E.useCallback(async()=>{!m||o||await w(!0)},[m,o,w]),I=E.useCallback(()=>{y.current=null,a([]),p(!1),d(void 0)},[]);return{results:i,loading:o,error:f,hasMore:m,fetchMore:S,reset:I}}const wD=["frappes","coldbrew","bebidas calientes"];function Ux(t){if(!t)return"";if(!/[]/.test(t))return t.normalize("NFC");try{const e=new Uint8Array([...t].map(r=>r.charCodeAt(0))),n=new TextDecoder("utf-8").decode(e);return(/[^\u0000-\u001F]/.test(n)?n:t).normalize("NFC")}catch(e){return t.normalize("NFC")}}function ZY(){var Y,ve;const{items:t,inc:e,dec:n,remove:r,clear:i}=I4(),{user:a}=oi(),{role:o}=Xm(),u=gn(),f=o==="owner"||o==="worker",[d,m]=E.useState("cash"),[p,y]=E.useState(!1),[b,A]=E.useState(f),[w,S]=E.useState(""),{results:I,loading:N,hasMore:P,fetchMore:k}=XY(u,w,12),[M,L]=E.useState(null),[R,C]=E.useState({});E.useEffect(()=>{f?A(!0):(A(!1),L(null))},[f]),E.useEffect(()=>{const ee=Array.from(new Set((t||[]).map(Ae=>{var Be;return String((Be=Ae.id)!=null?Be:"")}).map(Ae=>Ae.includes(":")?Ae.split(":")[0]:Ae).filter(Boolean)));if(!ee.length){C({});return}let be=!1;return(async()=>{try{const Ae={};for(let tt=0;tt<ee.length;tt+=10){const ge=ee.slice(tt,tt+10),ue=qt(Qe(Ce,"products"),Je(S3(),"in",ge));(await dr(ue)).forEach(ne=>{const Fe=ne.data(),de=String((Fe==null?void 0:Fe.category)||"").toLowerCase();Ae[ne.id]=wD.includes(de)})}be||C(Ae)}catch(Ae){be||C({})}})(),()=>{be=!0}},[t]);const j=E.useMemo(()=>b?null:f?(M==null?void 0:M.id)||null:(a==null?void 0:a.uid)||null,[f,b,M==null?void 0:M.id,a==null?void 0:a.uid]),U=E.useMemo(()=>(t||[]).map(ee=>{var _e,ne;const be=String((_e=ee.id)!=null?_e:""),Ae=be.includes(":")?be.split(":")[0]:be,Be=String(ee.category||"").toLowerCase(),tt=R[Ae]===!0,ge=!!ee.isBeverage||wD.includes(Be)||tt,ue={id:Ae,name:String((ne=ee.name)!=null?ne:""),price:Number.isFinite(Number(ee.price))?Number(ee.price):0,qty:Number(ee.qty)||0,recipe:ee.recipe||{},category:Be||void 0,isBeverage:ge};return ee.sizeId&&(ue.sizeId=String(ee.sizeId)),ee.sizeName&&(ue.sizeName=String(ee.sizeName)),ue}),[t,R]),B=E.useMemo(()=>U.reduce((ee,be)=>ee+Number(be.price)*Number(be.qty||0),0),[U]),F=E.useMemo(()=>U.filter(ee=>ee.isBeverage&&ee.qty>0&&ee.price>0),[U]),z=E.useMemo(()=>F.length?Math.min(...F.map(ee=>Number(ee.price)||0)):0,[F]),pe=!b&&!!M&&Number((M==null?void 0:M.freeCredits)||0)>0&&z>0,[we,W]=E.useState(!1);E.useEffect(()=>{pe||W(!1)},[pe]);const oe=E.useMemo(()=>we?Math.min(z,B):0,[we,z,B]),ye=E.useMemo(()=>oe<=0?U:[...U,{id:"loyalty-credit",name:"Bebida gratis (credito)",price:-oe,qty:1,recipe:{},isBeverage:!1,category:"promo"}],[U,oe]),xe=E.useMemo(()=>B-oe,[B,oe]),Te=ee=>`$${Number(ee||0).toLocaleString()}`,$=async()=>{if(!p)try{if(!ye.length)return alert("No hay productos en el carrito");if(!(a!=null&&a.uid))return alert("Debes iniciar sesin");y(!0);const ee=j;await KY(Ce,ye,d,a.uid,ee),we&&(M!=null&&M.id)&&await N4(Ce,M.id),i(),alert("Venta registrada."),f&&(L(null),A(!0)),W(!1)}catch(ee){console.error(ee),alert("No se pudo completar el pago: "+((ee==null?void 0:ee.message)||ee))}finally{y(!1)}};return _.jsxs("div",{className:"container-app p-6 pb-28 space-y-4",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"Carrito"}),U.length===0&&_.jsx("div",{className:"text-slate-500",children:"Tu carrito est vaco."}),U.map(ee=>_.jsxs("div",{className:"bg-white border rounded-2xl p-4 flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"font-medium",children:[Ux(ee.name)," ",ee.sizeName?`(${Ux(ee.sizeName)})`:""," ",ee.category?` ${Ux(ee.category)}`:""]}),_.jsxs("div",{className:"text-sm text-slate-600",children:[Te(ee.price)," c/u"]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{className:"px-3 py-1 border rounded-lg",onClick:()=>n(ee.id),children:"-"}),_.jsx("div",{className:"w-6 text-center",children:ee.qty}),_.jsx("button",{className:"px-3 py-1 border rounded-lg",onClick:()=>e(ee.id),children:"+"}),_.jsx("div",{className:"w-28 text-right font-medium",children:Te(ee.price*ee.qty)}),_.jsx("button",{className:"px-3 py-1 border rounded-lg",onClick:()=>r(ee.id),children:"Quitar"})]})]},ee.id+(ee.sizeId||""))),f&&_.jsxs("div",{className:"bg-white border rounded-2xl p-4 space-y-3",children:[_.jsx("div",{className:"font-semibold",children:"Modo de venta"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:"px-3 py-1 rounded-xl border "+(b?"bg-orange-500 text-white border-orange-500":""),onClick:()=>A(!0),title:"No se registran puntos ni historial de cliente",children:"Sin cliente (rapida)"}),_.jsx("button",{className:"px-3 py-1 rounded-xl border "+(b?"":"bg-orange-500 text-white border-orange-500"),onClick:()=>A(!1),title:"Asigna un cliente para fidelizacin",children:"Asignar cliente"})]}),!b&&_.jsxs(_.Fragment,{children:[M?_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[M.photoURL?_.jsx("img",{src:M.photoURL,className:"w-10 h-10 rounded-full object-cover",alt:"avatar"}):_.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200"}),_.jsxs("div",{children:[_.jsx("div",{className:"font-medium",children:M.displayName||"Sin nombre"}),_.jsx("div",{className:"text-xs text-slate-600",children:M.email||"(sin email)"}),_.jsxs("div",{className:"text-xs",children:["Creditos: ",(Y=M.freeCredits)!=null?Y:0," | Sellos: ",(ve=M.stampsProgress)!=null?ve:0,"/10"]}),_.jsxs("div",{className:"text-[10px] text-slate-500",children:["ID: ",M.id]})]})]}),_.jsx("button",{onClick:()=>L(null),className:"text-sm px-3 py-1 rounded-lg border hover:bg-slate-50",children:"Cambiar"})]}):_.jsxs(_.Fragment,{children:[_.jsx("input",{value:w,onChange:ee=>S(ee.target.value),className:"w-full border rounded-lg px-3 py-2",placeholder:"Buscar por nombre, email o ID"}),_.jsxs("div",{className:"max-h-60 overflow-auto divide-y rounded-lg border",children:[N&&_.jsx("div",{className:"p-3 text-sm text-slate-600",children:"Buscando..."}),!N&&I.length===0&&_.jsx("div",{className:"p-3 text-sm text-slate-600",children:"Sin resultados."}),I.map(ee=>{var be,Ae;return _.jsxs("button",{onClick:()=>L(ee),className:"w-full text-left p-3 hover:bg-slate-50 flex items-center gap-3",children:[ee.photoURL?_.jsx("img",{src:ee.photoURL,className:"w-8 h-8 rounded-full object-cover",alt:"avatar"}):_.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200"}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("div",{className:"truncate",children:ee.displayName||"Sin nombre"}),_.jsx("div",{className:"text-xs text-slate-600 truncate",children:ee.email||"(sin email)"})]}),_.jsxs("div",{className:"ml-auto text-xs",children:["Cred: ",(be=ee.freeCredits)!=null?be:0," | ",(Ae=ee.stampsProgress)!=null?Ae:0,"/10"]})]},ee.id)}),P&&_.jsx("button",{onClick:k,className:"w-full p-3 text-sm hover:bg-slate-50",children:"Cargar mas"})]})]}),pe&&_.jsx("div",{className:"pt-2",children:_.jsxs("label",{className:"inline-flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",checked:we,onChange:ee=>W(ee.target.checked)}),_.jsxs("span",{children:["Canjear ",_.jsx("b",{children:"1 credito"})," (descuenta ",Te(z)," - bebida mas barata del carrito)"]})]})})]}),_.jsxs("div",{className:"text-[11px] text-slate-500",children:["Cliente:"," ",_.jsx("span",{className:"font-mono",children:b?"(sin cliente)":j||"(ninguno)"})]})]}),U.length>0&&_.jsxs("div",{className:"bg-white border rounded-2xl p-4 space-y-2",children:[_.jsx("div",{className:"text-sm text-slate-600",children:"Metodo de pago"}),_.jsx("div",{className:"flex gap-2",children:["cash","qr","card","other"].map(ee=>_.jsx("button",{className:`px-3 py-1 rounded-xl border ${d===ee?"bg-orange-500 text-white border-orange-500":""}`,onClick:()=>m(ee),children:ee==="cash"?"Efectivo":ee==="qr"?"QR":ee==="card"?"Tarjeta":"Otro"},ee))})]}),U.length>0&&_.jsxs("div",{className:"bg-white border rounded-2xl p-4 space-y-2",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"text-xl font-semibold",children:["Total ",Te(xe)]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{className:"btn",onClick:i,disabled:p,children:"Vaciar"}),_.jsx("button",{className:"btn btn-primary",onClick:$,disabled:p||xe<=0||f&&!b&&!M||!f&&!j,title:f&&!b&&!M?"Selecciona un cliente":!f&&!j?"Selecciona cliente":"",children:p?"Pagando...":"Confirmar pago"})]})]}),oe>0&&_.jsxs("div",{className:"text-xs text-slate-600",children:["Descuento por credito aplicado: ",Te(oe)]})]})]})}const JY={daily:"Diario",weekly:"Semanal",monthly:"Mensual"};function $c(t){if(!t)return"";if(!/[]/.test(t))return t.normalize("NFC");try{const e=new Uint8Array([...t].map(r=>r.charCodeAt(0))),n=new TextDecoder("utf-8").decode(e);return(/[^\u0000-\u001F]/.test(n)?n:t).normalize("NFC")}catch(e){return t.normalize("NFC")}}function eQ(){var Be,tt,ge;const[t,e]=E.useState([]),[n,r]=E.useState(""),[i,a]=E.useState("all"),[o,u]=E.useState("all"),[f,d]=E.useState("name"),[m,p]=E.useState("asc"),[y,b]=E.useState(null),[A,w]=E.useState({}),[S,I]=E.useState(!1),[N,P]=E.useState({name:"",unit:"g",stock:0,minStock:0,costPerUnit:0,supplier:"",kind:"consumable",frequency:"daily"}),[k,M]=E.useState(!1),[L,R]=E.useState("in"),[C,j]=E.useState(0),[U,B]=E.useState(""),[F,z]=E.useState(null);E.useEffect(()=>{const ue=gn(),_e=qt(Qe(Ce,"inventoryItems"),Je("orgId","==",ue),Jr("name")),ne=na(_e,Fe=>{const de=Fe.docs.map(Ve=>{var wt,Yn,Ri;const je=Ve.data(),Ke=je.frequency||je.periodicity||"daily",On=je.kind||"consumable",_t=je.unit||"g",yt=Number(je.stock)||0,tn=Number(je.minStock)||0,ca=Number(je.costPerUnit)||0,Wn=String((Yn=(wt=je.supplier)!=null?wt:je.provider)!=null?Yn:"");return{id:Ve.id,name:String((Ri=je.name)!=null?Ri:""),unit:_t,stock:yt,minStock:tn,costPerUnit:ca,supplier:Wn,provider:je.provider,periodicity:je.periodicity,frequency:Ke,kind:On}});e(de)});return()=>ne()},[]);const pe=ue=>{b(ue.id),w({...ue})},we=()=>{b(null),w({})},W=async()=>{var ne,Fe,de,Ve;if(!y)return;const ue=String(A.name||"").trim();if(!ue)return alert("Nombre requerido.");const _e={name:ue,unit:A.unit||"g",stock:Math.max(0,Number(A.stock)||0),minStock:Math.max(0,Number(A.minStock)||0),costPerUnit:Math.max(0,Number(A.costPerUnit)||0),supplier:String((Fe=(ne=A.supplier)!=null?ne:A.provider)!=null?Fe:""),provider:String((Ve=(de=A.supplier)!=null?de:A.provider)!=null?Ve:""),frequency:A.frequency||A.periodicity||"daily",periodicity:(A.frequency||"daily")==="daily"?"daily":(A.frequency||"daily")==="monthly"?"monthly":"weekly",kind:A.kind||"consumable",updatedAt:Ze()};await Mu($e(Ce,"inventoryItems",y),_e),b(null),w({})},oe=async ue=>{confirm("Eliminar tem? Esta accin no se puede deshacer.")&&await Ob($e(Ce,"inventoryItems",ue))},ye=async ue=>{var Fe,de;ue.preventDefault();const _e=String(N.name||"").trim();if(!_e)return;const ne={orgId:gn(),name:_e,unit:N.unit||"g",stock:Math.max(0,Number(N.stock)||0),minStock:Math.max(0,Number(N.minStock)||0),costPerUnit:Math.max(0,Number(N.costPerUnit)||0),supplier:String((Fe=N.supplier)!=null?Fe:""),provider:String((de=N.supplier)!=null?de:""),frequency:N.frequency||"daily",periodicity:(N.frequency||"daily")==="daily"?"daily":(N.frequency||"daily")==="monthly"?"monthly":"weekly",kind:N.kind||"consumable",createdAt:Ze(),updatedAt:Ze()};await Is(Qe(Ce,"inventoryItems"),ne),I(!1),P({name:"",unit:"g",stock:0,minStock:0,costPerUnit:0,supplier:"",kind:"consumable",frequency:"daily"})},xe=(ue,_e)=>{z(ue),R(_e),j(0),B(""),M(!0)},Te=async()=>{if(!k||!F)return;const ue=Math.abs(Number(C)||0);if(ue<=0)return;const _e=w4().currentUser,ne=$e(Ce,"inventoryItems",F.id);await qs(Ce,async Fe=>{var tn;const de=await Fe.get(ne);if(!de.exists())throw new Error("tem no existe");const Ke=Number(((tn=de.data())==null?void 0:tn.stock)||0)+(L==="in"?1:-1)*ue;if(Ke<0)throw new Error("La salida dejara el stock negativo.");Fe.update(ne,{stock:Ke,updatedAt:Ze()});const _t=new Set(["sale","cancel","delete"]).has(U)?U:null,yt=$e(Qe(Ce,"stockMovements"));Fe.set(yt,{id:yt.id,orgId:gn(),at:Ze(),type:L==="in"?"revert":"consume",ingredientId:F.id,qty:ue,reason:_t,userId:(_e==null?void 0:_e.uid)||null,itemName:F.name,unit:F.unit})}),M(!1),z(null)},$=E.useMemo(()=>{const ue=n.trim().toLowerCase();return t.filter(_e=>i==="all"?!0:(_e.kind||"consumable")===i).filter(_e=>o==="all"?!0:(_e.frequency||_e.periodicity||"daily")===o).filter(_e=>ue?$c(_e.name).toLowerCase().includes(ue):!0)},[t,n,i,o]),Y=E.useMemo(()=>{const ue=[...$],_e=m==="asc"?1:-1;return ue.sort((ne,Fe)=>{let de,Ve;switch(f){case"name":return de=$c(ne.name).toLowerCase(),Ve=$c(Fe.name).toLowerCase(),de<Ve?-1*_e:de>Ve?1*_e:0;case"stock":return(ne.stock-Fe.stock)*_e;case"minStock":return(ne.minStock-Fe.minStock)*_e;case"costPerUnit":return(ne.costPerUnit-Fe.costPerUnit)*_e;default:return 0}}),ue},[$,f,m]),ve=ue=>{f===ue?p(_e=>_e==="asc"?"desc":"asc"):(d(ue),p("asc"))},ee=({active:ue,children:_e,onClick:ne})=>_.jsx("button",{className:`px-3 py-1.5 rounded-full border text-sm transition
      ${ue?"bg-[var(--brand,#f97316)] text-white border-[var(--brand,#f97316)] shadow-sm":"bg-white hover:bg-slate-50"}`,onClick:ne,children:_e}),be=({label:ue,sortKey:_e})=>{const ne=_e&&f===_e;return _.jsxs("th",{className:`cursor-pointer select-none ${ne?"underline":""}`,onClick:()=>_e&&ve(_e),title:_e?"Ordenar":"",children:[ue," ",ne?m==="asc"?"^":"v":""]})},Ae=ue=>Number(ue.stock)<=Number(ue.minStock||0);return _.jsxs("div",{className:"container-app space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"Bodega"}),_.jsx("button",{className:"btn btn-primary",onClick:()=>I(!0),children:"Nuevo tem"})]}),_.jsx("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:_.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[_.jsx("input",{className:"input w-full",placeholder:"Buscar por nombre...",value:n,onChange:ue=>r(ue.target.value)}),_.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[_.jsx(ee,{active:i==="all",onClick:()=>a("all"),children:"Todo"}),_.jsx(ee,{active:i==="consumable",onClick:()=>a("consumable"),children:"Consumibles"}),_.jsx(ee,{active:i==="equipment",onClick:()=>a("equipment"),children:"Maquinaria"})]}),_.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[_.jsx(ee,{active:o==="all",onClick:()=>u("all"),children:"Todas"}),_.jsx(ee,{active:o==="daily",onClick:()=>u("daily"),children:"Diario"}),_.jsx(ee,{active:o==="weekly",onClick:()=>u("weekly"),children:"Semanal"}),_.jsx(ee,{active:o==="monthly",onClick:()=>u("monthly"),children:"Mensual"})]})]})}),_.jsx("div",{className:"rounded-2xl border bg-white overflow-auto",children:_.jsxs("table",{className:"table min-w-[1000px]",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx(be,{label:"Nombre",sortKey:"name"}),_.jsx("th",{children:"Unidad"}),_.jsx(be,{label:"Stock",sortKey:"stock"}),_.jsx(be,{label:"Mn",sortKey:"minStock"}),_.jsx(be,{label:"Costo/u",sortKey:"costPerUnit"}),_.jsx("th",{children:"Frecuencia"}),_.jsx("th",{children:"Proveedor"}),_.jsx("th",{className:"w-56",children:"Acciones"})]})}),_.jsxs("tbody",{children:[Y.length===0&&_.jsx("tr",{children:_.jsx("td",{colSpan:8,className:"px-3 py-4 text-center text-slate-500",children:"Sin tems."})}),Y.map(ue=>{var Fe,de,Ve,je;const _e=y===ue.id,ne=_e?A:ue;return _.jsxs("tr",{className:Ae(ue)?"bg-[#fffbeb]":"",children:[_.jsx("td",{className:"px-3 py-2",children:_e?_.jsx("input",{className:"input",value:ne.name||"",onChange:Ke=>w({...ne,name:Ke.target.value})}):_.jsx("span",{className:"font-medium",children:$c(ne.name)})}),_.jsx("td",{className:"px-3 py-2",children:_e?_.jsxs("select",{className:"input",value:ne.unit,onChange:Ke=>w({...ne,unit:Ke.target.value}),children:[_.jsx("option",{value:"g",children:"g"}),_.jsx("option",{value:"ml",children:"ml"}),_.jsx("option",{value:"u",children:"u"})]}):ne.unit}),_.jsx("td",{className:"px-3 py-2",children:_e?_.jsx("input",{className:"input",type:"number",min:0,value:String((Fe=ne.stock)!=null?Fe:0),onChange:Ke=>w({...ne,stock:Number(Ke.target.value||0)})}):ne.stock.toLocaleString()}),_.jsx("td",{className:"px-3 py-2",children:_e?_.jsx("input",{className:"input",type:"number",min:0,value:String((de=ne.minStock)!=null?de:0),onChange:Ke=>w({...ne,minStock:Number(Ke.target.value||0)})}):((Ve=ne.minStock)!=null?Ve:0).toLocaleString()}),_.jsx("td",{className:"px-3 py-2",children:_e?_.jsx("input",{className:"input",type:"number",min:0,step:"0.01",value:String((je=ne.costPerUnit)!=null?je:0),onChange:Ke=>w({...ne,costPerUnit:Number(Ke.target.value||0)})}):`$${Number(ne.costPerUnit||0).toLocaleString()}`}),_.jsx("td",{className:"px-3 py-2",children:_e?_.jsxs("select",{className:"input",value:ne.frequency||"daily",onChange:Ke=>w({...ne,frequency:Ke.target.value}),disabled:(ne.kind||"consumable")==="equipment",children:[_.jsx("option",{value:"daily",children:"Diario"}),_.jsx("option",{value:"weekly",children:"Semanal"}),_.jsx("option",{value:"monthly",children:"Mensual"})]}):(ne.kind||"consumable")==="equipment"?_.jsx("span",{className:"text-slate-400",children:"-"}):JY[ne.frequency||"daily"]}),_.jsx("td",{className:"px-3 py-2",children:_e?_.jsx("input",{className:"input",value:ne.supplier||"",onChange:Ke=>w({...ne,supplier:Ke.target.value,provider:Ke.target.value}),placeholder:"Nombre proveedor"}):$c(ne.supplier)||_.jsx("span",{className:"text-slate-400",children:"-"})}),_.jsx("td",{className:"px-3 py-2",children:_.jsx("div",{className:"flex flex-wrap gap-2",children:_e?_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"btn btn-sm",onClick:we,children:"Cancelar"}),_.jsx("button",{className:"btn btn-primary btn-sm",onClick:W,children:"Guardar"})]}):_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>pe(ue),children:"Editar"}),_.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>oe(ue.id),children:"Eliminar"}),_.jsx("button",{className:"btn btn-sm",onClick:()=>xe(ue,"in"),children:"Entrada"}),_.jsx("button",{className:"btn btn-sm",onClick:()=>xe(ue,"out"),children:"Salida"})]})})})]},ue.id)})]})]})}),S&&_.jsx("div",{className:"fixed inset-0 z-20 bg-black/40 flex items-end md:items-center justify-center p-3",children:_.jsxs("form",{onSubmit:ye,className:"w-full max-w-2xl rounded-2xl bg-white p-4 shadow-lg space-y-3",children:[_.jsx("div",{className:"text-lg font-semibold",children:"Nuevo tem"}),_.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("div",{className:"label",children:"Nombre"}),_.jsx("input",{className:"input w-full",value:N.name||"",onChange:ue=>P({...N,name:ue.target.value})})]}),_.jsxs("div",{children:[_.jsx("div",{className:"label",children:"Unidad"}),_.jsxs("select",{className:"input",value:N.unit,onChange:ue=>P({...N,unit:ue.target.value}),children:[_.jsx("option",{value:"g",children:"Gramos (g)"}),_.jsx("option",{value:"ml",children:"Mililitros (ml)"}),_.jsx("option",{value:"u",children:"Unidades (u)"})]})]}),_.jsxs("div",{children:[_.jsx("div",{className:"label",children:"Stock"}),_.jsx("input",{className:"input",type:"number",min:0,value:String((Be=N.stock)!=null?Be:0),onChange:ue=>P({...N,stock:Number(ue.target.value||0)})})]}),_.jsxs("div",{children:[_.jsx("div",{className:"label",children:"Mnimo"}),_.jsx("input",{className:"input",type:"number",min:0,value:String((tt=N.minStock)!=null?tt:0),onChange:ue=>P({...N,minStock:Number(ue.target.value||0)})})]}),_.jsxs("div",{children:[_.jsx("div",{className:"label",children:"Costo por unidad"}),_.jsx("input",{className:"input",type:"number",min:0,step:"0.01",value:String((ge=N.costPerUnit)!=null?ge:0),onChange:ue=>P({...N,costPerUnit:Number(ue.target.value||0)})})]}),_.jsxs("div",{children:[_.jsx("div",{className:"label",children:"Frecuencia"}),_.jsxs("select",{className:"input",value:N.frequency||"daily",onChange:ue=>P({...N,frequency:ue.target.value}),disabled:N.kind==="equipment",children:[_.jsx("option",{value:"daily",children:"Diario"}),_.jsx("option",{value:"weekly",children:"Semanal"}),_.jsx("option",{value:"monthly",children:"Mensual"})]})]}),_.jsxs("div",{children:[_.jsx("div",{className:"label",children:"Proveedor"}),_.jsx("input",{className:"input",value:N.supplier||"",onChange:ue=>P({...N,supplier:ue.target.value}),placeholder:"Ej: Distribuidor XYZ"})]}),_.jsxs("div",{children:[_.jsx("div",{className:"label",children:"Tipo"}),_.jsxs("select",{className:"input",value:N.kind||"consumable",onChange:ue=>P({...N,kind:ue.target.value}),children:[_.jsx("option",{value:"consumable",children:"Consumible"}),_.jsx("option",{value:"equipment",children:"Maquinaria / Activo"})]})]})]}),_.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[_.jsx("button",{type:"button",className:"btn",onClick:()=>I(!1),children:"Cancelar"}),_.jsx("button",{className:"btn btn-primary",children:"Crear"})]})]})}),k&&F&&_.jsx("div",{className:"fixed inset-0 z-20 bg-black/40 flex items-end md:items-center justify-center p-3",children:_.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-4 shadow-lg space-y-3",children:[_.jsx("div",{className:"text-lg font-semibold",children:L==="in"?"Registrar ENTRADA":"Registrar SALIDA"}),_.jsxs("div",{className:"text-sm text-slate-600",children:["tem: ",_.jsx("span",{className:"font-medium",children:$c(F.name)}),"  Stock actual:"," ",_.jsx("span",{className:"font-medium",children:F.stock})," ",F.unit]}),_.jsxs("div",{className:"grid gap-3",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"label",children:["Cantidad (",F.unit,")"]}),_.jsx("input",{className:"input",type:"number",min:0,value:String(C),onChange:ue=>j(Number(ue.target.value||0))})]}),_.jsxs("div",{children:[_.jsx("div",{className:"label",children:"Motivo (opcional)"}),_.jsx("input",{className:"input",placeholder:'Usa: "sale", "cancel" o "delete" (otro texto se guardar como vaco)',value:U,onChange:ue=>B(ue.target.value)})]})]}),_.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[_.jsx("button",{className:"btn",onClick:()=>M(!1),children:"Cancelar"}),_.jsx("button",{className:"btn btn-primary",onClick:Te,children:"Guardar"})]})]})})]})}const oS=["frappes","coldbrew","bebidas calientes","comida"],tQ=()=>({id:"",name:"",category:"frappes",active:!0,sizes:[]});function Yr(t){if(!t)return"";if(!/[]/.test(t))return t.normalize("NFC");try{const e=new Uint8Array([...t].map(r=>r.charCodeAt(0))),n=new TextDecoder("utf-8").decode(e);return(/[^\u0000-\u001F]/.test(n)?n:t).normalize("NFC")}catch(e){return t.normalize("NFC")}}function nQ(){const[t,e]=E.useState([]),[n,r]=E.useState(""),[i,a]=E.useState(oS[0]),[o,u]=E.useState(null),[f,d]=E.useState(!1),[m,p]=E.useState({}),y=I=>{var N;return(N=m[I])!=null?N:!0},b=I=>p(N=>{var P;return{...N,[I]:!((P=N[I])==null||P)}});E.useEffect(()=>{(async()=>{const I=gn();let N;try{N=await dr(qt(Qe(Ce,"products"),Je("orgId","==",I),Jr("name")))}catch(k){N=await dr(qt(Qe(Ce,"products"),Je("orgId","==",I)))}const P=N.docs.map(k=>{var R,C;const M=k.data(),L=(M.sizes||[]).map((j,U)=>{var B,F;return{id:String((B=j.id)!=null?B:U+1),name:String((F=j.name)!=null?F:""),price:Number(j.price||0),recipe:j.recipe||{}}});return{id:k.id,name:String((R=M.name)!=null?R:""),category:String((C=M.category)!=null?C:"frappes"),active:!!M.active,sizes:L}});P.sort((k,M)=>Yr(k.name).localeCompare(Yr(M.name))),e(P)})()},[]);const A=E.useMemo(()=>{const I=n.trim().toLowerCase();return t.filter(N=>N.category===i).filter(N=>Yr(N.name).toLowerCase().includes(I))},[t,n,i]),w=async I=>{d(!0);try{const N={orgId:gn(),name:I.name,category:I.category,active:!!I.active,sizes:(I.sizes||[]).map((k,M)=>{var L;return{id:String((L=k.id)!=null?L:M+1),name:k.name,price:Number(k.price||0),recipe:k.recipe||{}}}),updatedAt:Ze()};let P=I.id;P?await Va($e(Ce,"products",P),N,{merge:!0}):P=(await Is(Qe(Ce,"products"),N)).id,e(k=>[...k.filter(L=>L.id!==P),{...I,id:P}].sort((L,R)=>Yr(L.name).localeCompare(Yr(R.name)))),u(null)}finally{d(!1)}},S=async I=>{confirm("Eliminar producto?")&&(await Ob($e(Ce,"products",I)),e(N=>N.filter(P=>P.id!==I)))};return _.jsxs("main",{className:"container-app p-6 pb-28 space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"Productos"}),_.jsx("button",{className:"btn",onClick:()=>{const I={...tQ(),id:crypto.randomUUID(),name:"Nuevo producto"};e(N=>[I,...N]),u(I.id)},children:"Nuevo"})]}),_.jsx("div",{className:"flex gap-2 overflow-auto pb-1",children:oS.map(I=>_.jsx("button",{onClick:()=>a(I),className:"px-3 py-1 rounded-full border whitespace-nowrap "+(i===I?"bg-[var(--brand,#f97316)] text-white border-[var(--brand,#f97316)]":"bg-white"),children:I},I))}),_.jsx("div",{className:"flex items-center gap-2",children:_.jsx("input",{className:"input flex-1",placeholder:"Buscar producto...",value:n,onChange:I=>r(I.target.value)})}),_.jsx("ul",{className:"space-y-3",children:A.map(I=>_.jsxs("li",{className:"rounded-2xl border bg-white",children:[_.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"font-medium",children:[Yr(I.name)||"(sin nombre)"," "]}),_.jsxs("div",{className:"text-xs text-slate-500",children:[I.active?"Activo":"Inactivo","  ",I.sizes.length," tamao(s)"]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{className:"btn btn-ghost",onClick:()=>u(I.id),children:"Editar"}),I.id&&_.jsx("button",{className:"btn btn-danger",onClick:()=>S(I.id),children:"Eliminar"})]})]}),o===I.id&&_.jsx(rQ,{p:I,isSizesOpen:y,toggleSizes:b,setItems:e,onCancel:()=>u(null),onSave:()=>w(I),saving:f})]},I.id))})]})}function rQ({p:t,isSizesOpen:e,toggleSizes:n,setItems:r,onCancel:i,onSave:a,saving:o}){return _.jsxs("div",{className:"border-t bg-slate-50/50 px-4 pb-4 space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[_.jsxs("div",{children:[_.jsx("div",{className:"label",children:"Nombre"}),_.jsx("input",{className:"input",value:t.name,onChange:u=>r(f=>f.map(d=>d.id===t.id?{...d,name:u.target.value}:d))})]}),_.jsxs("div",{children:[_.jsx("div",{className:"label",children:"Categora"}),_.jsx("select",{className:"input",value:t.category,onChange:u=>r(f=>f.map(d=>d.id===t.id?{...d,category:u.target.value}:d)),children:oS.map(u=>_.jsx("option",{value:u,children:u},u))})]}),_.jsx("div",{className:"flex items-end",children:_.jsxs("label",{className:"inline-flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",checked:t.active,onChange:u=>r(f=>f.map(d=>d.id===t.id?{...d,active:u.target.checked}:d))}),"Activo"]})})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("div",{className:"font-medium",children:"Tamaos"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:"btn btn-ghost",onClick:()=>n(t.id),children:e(t.id)?"Ocultar tamaos":"Mostrar tamaos"}),_.jsx("button",{className:"btn btn-ghost",onClick:()=>{const u={id:crypto.randomUUID(),name:"nuevo",price:0,recipe:{}};r(f=>f.map(d=>d.id===t.id?{...d,sizes:[...d.sizes,u]}:d))},children:"Aadir tamao"})]})]}),!e(t.id)&&_.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.sizes.map(u=>_.jsxs("span",{className:"px-2 py-1 rounded-full border text-xs text-slate-700 bg-white",title:`Precio: $${Number(u.price||0).toLocaleString()}`,children:[Yr(u.name),"  $",Number(u.price||0).toLocaleString()]},u.id)),t.sizes.length===0&&_.jsx("span",{className:"text-sm text-slate-500",children:"Sin tamaos."})]}),e(t.id)&&_.jsxs(_.Fragment,{children:[t.sizes.length===0&&_.jsx("div",{className:"text-sm text-slate-500",children:"Sin tamaos."}),_.jsx("div",{className:"space-y-3",children:t.sizes.map(u=>_.jsx(iQ,{p:t,s:u,setItems:r},u.id))})]})]}),_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx("button",{className:"btn",onClick:i,children:"Cancelar"}),_.jsx("button",{className:"btn btn-primary",disabled:o,onClick:a,children:o?"Guardando...":"Guardar"})]})]})}function iQ({p:t,s:e,setItems:n}){const[r,i]=E.useState([]),[a,o]=E.useState(!1),[u,f]=E.useState(""),[d,m]=E.useState(!1),[p,y]=E.useState(null),[b,A]=E.useState(0);E.useEffect(()=>{(async()=>{const C=gn();let j;try{j=await dr(qt(Qe(Ce,"inventoryItems"),Je("orgId","==",C),Jr("name")))}catch(B){j=await dr(qt(Qe(Ce,"inventoryItems"),Je("orgId","==",C)))}const U=j.docs.map(B=>{const F=B.data();return{id:B.id,name:String(F.name||""),unit:F.unit,costPerUnit:Number(F.costPerUnit||0)}});U.sort((B,F)=>Yr(B.name).localeCompare(Yr(F.name))),i(U)})()},[]);const w=C=>{var j;return((j=r.find(U=>U.id===C))==null?void 0:j.unit)||""},S=C=>{var j;return Number(((j=r.find(U=>U.id===C))==null?void 0:j.costPerUnit)||0)},I=C=>{var j;return Yr(((j=r.find(U=>U.id===C))==null?void 0:j.name)||C)},N=Object.entries(e.recipe||{}),P=r.filter(C=>Yr(C.name).toLowerCase().includes(u.toLowerCase())),k=C=>n(j=>j.map(U=>U.id!==t.id?U:{...U,sizes:U.sizes.map(B=>B.id===e.id?{...B,...C}:B)})),M=(C,j)=>{const U={...e.recipe||{}},B=Math.max(0,Number(j)||0);B>0?U[C]=B:delete U[C],k({recipe:U})},L=E.useMemo(()=>N.reduce((C,[j,U])=>C+S(j)*Number(U||0),0),[N]),R=E.useMemo(()=>{const C=Number(e.price||0)-Number(L||0),j=Number(e.price||0)>0?C/Number(e.price)*100:0;return{m:C,pct:j}},[e.price,L]);return _.jsxs("div",{className:"rounded-xl border p-3 bg-white",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 items-end",children:[_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("div",{className:"label",children:"Nombre del tamao"}),_.jsx("input",{className:"input",value:e.name,onChange:C=>k({name:C.target.value})})]}),_.jsxs("div",{children:[_.jsx("div",{className:"label",children:"Precio"}),_.jsx("input",{className:"input",type:"number",inputMode:"numeric",value:String(e.price),onChange:C=>k({price:Number(C.target.value||0)})})]}),_.jsxs("div",{className:"md:col-span-3 flex items-center justify-end gap-2",children:[_.jsxs("div",{className:"hidden md:block text-sm text-slate-600",children:["Costo receta: ",_.jsxs("span",{className:"font-semibold",children:["$",L.toLocaleString()]}),"  Margen:"," ",_.jsxs("span",{className:`font-semibold ${R.m<0?"text-red-600":"text-emerald-600"}`,children:["$",R.m.toLocaleString()]})," ",""," ",_.jsxs("span",{className:`font-semibold ${R.m<0?"text-red-600":"text-emerald-600"}`,children:[R.pct.toFixed(1),"%"]})]}),_.jsx("button",{className:"btn btn-ghost",onClick:()=>o(C=>!C),children:a?"Mostrar receta":"Ocultar receta"})]})]}),_.jsxs("div",{className:"mt-3 rounded-xl border p-3 bg-white",children:[_.jsx("div",{className:"label",children:"Aadir ingrediente"}),p?_.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[_.jsxs("div",{className:"px-3 py-2 border rounded-lg bg-slate-50",children:[_.jsx("div",{className:"text-sm font-medium",children:Yr(p.name)}),_.jsxs("div",{className:"text-xs text-slate-500",children:["Unidad: ",(p==null?void 0:p.unit)||"u","  Costo/u: $",Number((p==null?void 0:p.costPerUnit)||0).toLocaleString()]})]}),_.jsx("input",{className:"input w-32",type:"number",inputMode:"numeric",placeholder:`Cant. (${(p==null?void 0:p.unit)||"u"})`,value:String(b),onChange:C=>A(Number(C.target.value||0)),autoFocus:!0}),_.jsx("div",{className:"flex items-center gap-1",children:[5,10,25].map(C=>_.jsxs("button",{className:"btn btn-sm",onClick:()=>A(j=>Number(j||0)+C),children:["+",C]},C))}),_.jsx("button",{className:"btn btn-primary",onClick:()=>{!p||b<=0||(M(p.id,b),y(null),A(0),f(""),m(!1))},children:"Aadir"}),_.jsx("button",{className:"btn",onClick:()=>{y(null),A(0)},children:"Cambiar"})]}):_.jsxs("div",{className:"relative",children:[_.jsx("input",{className:"input w-full",placeholder:"Buscar ingrediente por nombre...",value:u,onFocus:()=>m(!0),onChange:C=>{f(C.target.value),m(!0)}}),d&&_.jsxs("div",{className:"absolute z-10 mt-1 w-full max-h-64 overflow-auto rounded-xl border bg-white shadow",onMouseDown:C=>C.preventDefault(),children:[P.length===0&&_.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"Sin resultados."}),P.map(C=>_.jsxs("button",{className:"w-full text-left px-3 py-2 hover:bg-slate-50 flex items-center justify-between",onClick:()=>{y(C),m(!1)},children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-medium text-sm",children:Yr(C.name)}),_.jsxs("div",{className:"text-xs text-slate-500",children:["Unidad: ",C.unit||"u"]})]}),_.jsxs("div",{className:"text-xs text-slate-600",children:["Costo/u: $",Number(C.costPerUnit||0).toLocaleString()]})]},C.id))]})]})]}),!a&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"overflow-auto mt-3 rounded-lg border",children:_.jsxs("table",{className:"min-w-full text-sm",children:[_.jsx("thead",{className:"bg-slate-100",children:_.jsxs("tr",{className:"text-left",children:[_.jsx("th",{className:"px-3 py-2",children:"Ingrediente"}),_.jsx("th",{className:"px-3 py-2",children:"Unidad"}),_.jsx("th",{className:"px-3 py-2",children:"Cantidad"}),_.jsx("th",{className:"px-3 py-2",children:"Costo/u"}),_.jsx("th",{className:"px-3 py-2",children:"Subtotal"}),_.jsx("th",{className:"px-3 py-2 w-24",children:"Acciones"})]})}),_.jsxs("tbody",{children:[N.length===0&&_.jsx("tr",{children:_.jsx("td",{className:"px-3 py-2 text-slate-500",colSpan:6,children:"Sin receta."})}),N.map(([C,j])=>{const U=S(C),B=U*Number(j||0);return _.jsxs("tr",{className:"border-t",children:[_.jsx("td",{className:"px-3 py-2",children:I(C)}),_.jsx("td",{className:"px-3 py-2",children:w(C)}),_.jsx("td",{className:"px-3 py-2",children:_.jsx("input",{className:"input w-24",type:"number",inputMode:"numeric",value:String(j),onChange:F=>M(C,Number(F.target.value||0))})}),_.jsxs("td",{className:"px-3 py-2",children:["$",U.toLocaleString()]}),_.jsxs("td",{className:"px-3 py-2",children:["$",B.toLocaleString()]}),_.jsx("td",{className:"px-3 py-2",children:_.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>M(C,0),children:"Quitar"})})]},C)})]}),_.jsx("tfoot",{children:_.jsxs("tr",{className:"border-t bg-slate-50",children:[_.jsx("td",{className:"px-3 py-2 font-medium",colSpan:4,children:"Costo receta"}),_.jsxs("td",{className:"px-3 py-2 font-semibold",children:["$",L.toLocaleString()]}),_.jsx("td",{})]})})]})}),_.jsxs("div",{className:"mt-2 flex flex-wrap gap-4 text-sm",children:[_.jsxs("div",{children:["Precio: ",_.jsxs("span",{className:"font-semibold",children:["$",Number(e.price||0).toLocaleString()]})]}),_.jsxs("div",{children:["Costo: ",_.jsxs("span",{className:"font-semibold",children:["$",L.toLocaleString()]})]}),_.jsxs("div",{children:["Margen:"," ",_.jsxs("span",{className:`font-semibold ${R.m<0?"text-red-600":"text-emerald-600"}`,children:["$",R.m.toLocaleString()]})]}),_.jsxs("div",{children:["Margen %:"," ",_.jsxs("span",{className:`font-semibold ${R.m<0?"text-red-600":"text-emerald-600"}`,children:[R.pct.toFixed(1),"%"]})]})]})]}),_.jsx("div",{className:"text-right mt-3",children:_.jsx("button",{className:"btn btn-danger",onClick:()=>{n(C=>C.map(j=>j.id===t.id?{...j,sizes:j.sizes.filter(U=>U.id!==e.id)}:j))},children:"Quitar tamao"})}),_.jsx("div",{className:"text-right",children:_.jsx("button",{className:"btn btn-ghost text-xs",onClick:()=>o(C=>!C),children:a?"Mostrar receta":"Ocultar receta"})})]})}function aQ(){const t="artemisa";return t.trim()?t.trim():((typeof localStorage!="undefined"?localStorage.getItem("orgId"):null)||"").trim()||"artemisa"}const sQ=aQ();function oQ(t){if(!t)return"";if(!/[]/.test(t))return t.normalize("NFC");try{const e=new Uint8Array([...t].map(r=>r.charCodeAt(0))),n=new TextDecoder("utf-8").decode(e);return(/[^\u0000-\u001F]/.test(n)?n:t).normalize("NFC")}catch(e){return t.normalize("NFC")}}const ED=t=>`$${(Number(t)||0).toLocaleString()}`,SD=t=>{var r;const e=(r=t==null?void 0:t.toDate)!=null&&r.call(t)?t.toDate():null;if(!e)return"";const n=i=>String(i).padStart(2,"0");return`${n(e.getHours())}:${n(e.getMinutes())}`},lQ=t=>{var r;const e=(r=t==null?void 0:t.toDate)==null?void 0:r.call(t);if(!e)return!0;const n=new Date;return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()};function uQ(){const[t,e]=E.useState([]),[n,r]=E.useState("pending"),[i,a]=E.useState("all"),[o,u]=E.useState(null);E.useEffect(()=>{const b=qt(Qe(Ce,"orders"),Je("orgId","==",sQ)),A=na(b,w=>{const S=[];w.forEach(I=>{var M,L,R;const N=I.data(),P=N!=null&&N.createdAt&&typeof((M=N.createdAt)==null?void 0:M.toDate)=="function"?N.createdAt:N!=null&&N.at&&typeof((L=N.at)==null?void 0:L.toDate)=="function"?N.at:null,k=N!=null&&N.deliveredAt&&typeof((R=N.deliveredAt)==null?void 0:R.toDate)=="function"?N.deliveredAt:null;S.push({id:I.id,total:Number(N.total)||0,status:N.status||"pending",payMethod:N.payMethod||void 0,createdAt:P,deliveredAt:k,items:Array.isArray(N.items)?N.items:[]})}),S.sort((I,N)=>{var M,L,R,C,j,U;const P=(R=(L=(M=I.createdAt)==null?void 0:M.toMillis)==null?void 0:L.call(M))!=null?R:0;return((U=(j=(C=N.createdAt)==null?void 0:C.toMillis)==null?void 0:j.call(C))!=null?U:0)-P}),e(S)});return()=>A()},[]);const f=E.useMemo(()=>t.filter(b=>lQ(b.createdAt)).filter(b=>n==="all"?!0:b.status===n).filter(b=>i==="all"?!0:b.payMethod===i),[t,n,i]),d=b=>b.status!=="delivered",m=async(b,A)=>{try{u(A),await b(A)}catch(w){alert((w==null?void 0:w.message)||String(w))}finally{u(null)}},p=b=>{const A="text-xs px-2 py-0.5 rounded-full border";return b==="cash"?_.jsx("span",{className:A,children:"Efectivo"}):b==="qr"?_.jsx("span",{className:A,children:"QR"}):b==="card"?_.jsx("span",{className:A,children:"Tarjeta"}):b==="other"?_.jsx("span",{className:A,children:"Otro"}):_.jsx("span",{className:A+" opacity-60",children:""})},y=async b=>{confirm("Eliminar la venta? Esto devolver el stock si corresponde.")&&await m(A=>YY(Ce,A),b)};return _.jsxs("div",{className:"max-w-3xl mx-auto p-4 space-y-3",children:[_.jsxs("div",{className:"flex flex-wrap gap-2",children:[["pending","delivered","canceled","all"].map(b=>_.jsx("button",{onClick:()=>r(b),className:"px-3 py-1 rounded-full border text-sm "+(n===b?"bg-[var(--brand,#f97316)] text-white border-[var(--brand,#f97316)]":"bg-white"),title:b==="pending"?"An sin entregar":b==="delivered"?"Entregadas":b==="canceled"?"Anuladas":"Todas las de hoy",children:b==="pending"?"Pendiente":b==="delivered"?"Entregada":b==="canceled"?"Anulada":"Todas"},b)),_.jsx("div",{className:"h-5 w-px bg-slate-200 mx-1"}),["all","cash","qr","card","other"].map(b=>_.jsx("button",{onClick:()=>a(b),className:"px-3 py-1 rounded-full border text-sm "+(i===b?"bg-[var(--brand,#f97316)] text-white border-[var(--brand,#f97316)]":"bg-white"),title:b==="all"?"Todos los mtodos":void 0,children:b==="all"?"Todos":b==="cash"?"Efectivo":b==="qr"?"QR":b==="card"?"Tarjeta":"Otro"},b))]}),f.map(b=>{var w;const A=o===b.id;return _.jsxs("div",{className:"bg-white border rounded-2xl p-4",children:[_.jsxs("div",{className:"flex items-center justify-between gap-3",children:[_.jsxs("div",{className:"font-semibold",children:[SD(b.createdAt),"  Venta ",b.id.slice(0,6),"  ",ED(b.total),b.deliveredAt?_.jsxs("span",{className:"ml-2 text-xs text-slate-600",children:["(Entregada ",SD(b.deliveredAt),")"]}):null]}),_.jsxs("div",{className:"flex items-center gap-2",children:[p(b.payMethod),_.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full "+(b.status==="pending"?"bg-amber-50 text-amber-700":b.status==="delivered"?"bg-green-50 text-green-700":"bg-slate-100 text-slate-600"),children:b.status==="pending"?"Pendiente":b.status==="delivered"?"Entregada":"Anulada"})]})]}),(w=b.items)!=null&&w.length?_.jsx("div",{className:"mt-2 text-sm text-slate-600",children:b.items.map((S,I)=>_.jsxs("div",{className:"flex justify-between",children:[_.jsxs("div",{children:[oQ(S.name),"  ",S.qty]}),_.jsx("div",{children:ED(Number(S.price)*Number(S.qty))})]},(S.productId||S.id||"")+I))}):null,_.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[_.jsx("button",{disabled:b.status!=="pending"||A,className:"px-3 py-1.5 rounded-lg border disabled:opacity-50",onClick:()=>m(S=>GY(Ce,S),b.id),title:"Marcar como entregada",children:A?"Procesando...":"Entregar"}),_.jsx("button",{disabled:b.status!=="pending"||A,className:"px-3 py-1.5 rounded-lg border disabled:opacity-50",onClick:()=>m(S=>WY(Ce,S),b.id),title:"Anular venta (devuelve insumos al stock)",children:A?"Procesando...":"Anular"}),_.jsx("button",{disabled:!d(b)||A,className:"px-3 py-1.5 rounded-lg border text-red-600 disabled:opacity-50",onClick:()=>y(b.id),title:d(b)?"Eliminar definitivamente":"No se puede eliminar entregada",children:A?"Procesando...":"Eliminar"})]})]},b.id)}),!f.length&&_.jsxs("div",{className:"text-slate-500",children:["No hay ventas ",n!=="all"?n==="pending"?"pendientes":n:"","."]})]})}const AD=(t=new Date)=>t.toISOString().slice(0,10);function cQ(){const{user:t}=oi(),[e,n]=E.useState([]),[r,i]=E.useState([]),[a,o]=E.useState(0),[u,f]=E.useState(!1),[d,m]=E.useState("none"),[p,y]=E.useState(null),b=gn(),A=AD(),w=t!=null&&t.uid?`${A}_${t.uid}`:null,S=(M,L,R)=>R(L.includes(M)?L.filter(C=>C!==M):[...L,M]);E.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{const M=$e(Ce,"openings",`${AD()}_${t.uid}`),L=await ti(M);if(L.exists()){const R=L.data();n(Array.isArray(R==null?void 0:R.checklist)?R.checklist:[]);const C=Array.isArray(R==null?void 0:R.tasksDone)?R.tasksDone:[];i(C),o(Number((R==null?void 0:R.initialCash)||0)),m((R==null?void 0:R.status)==="closed"?"closed":"open")}else n([]),i([]),o(0),m("none");y(new Date)}catch(M){}})()},[t==null?void 0:t.uid]);const N=["foto_wpp_sent","foto_wpp_double"].every(M=>r.includes(M)),P=!!t&&N&&d!=="closed",k=async()=>{if(t){if(!N){alert("Falta completar las confirmaciones de WhatsApp (foto enviada y doble confirmacin).");return}if(w){f(!0);try{await Va($e(Ce,"openings",w),{orgId:b,userId:t.uid,dateKey:A,checklist:e,tasksDone:r,initialCash:Number(a||0),status:"open",updatedAt:Ze(),createdAt:Ze()},{merge:!0}),alert(d==="none"?"Apertura registrada.":"Apertura actualizada."),m("open")}catch(M){console.error(M),alert("No se pudo guardar la apertura.")}finally{f(!1)}}}};return _.jsxs("div",{className:"container-app p-6 space-y-4",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"Apertura"}),d==="closed"&&_.jsxs("div",{className:"rounded-xl border bg-emerald-50 text-emerald-700 px-4 py-3",children:["La apertura de hoy ya fue ",_.jsx("b",{children:"cerrada"}),". Ve a"," ",_.jsx(Fo,{to:"/caja",className:"underline font-medium",children:"Caja"})," para ver el resumen del da."]}),d==="open"&&_.jsxs("div",{className:"rounded-xl border bg-amber-50 text-amber-700 px-4 py-3",children:["Tienes una apertura ",_.jsx("b",{children:"activa"})," hoy. Puedes actualizar el efectivo inicial o la checklist. Cuando termines el da, cierra en"," ",_.jsx(Fo,{to:"/caja",className:"underline font-medium",children:"Caja"}),"."]}),d==="none"&&_.jsxs("div",{className:"rounded-xl border bg-slate-50 text-slate-700 px-4 py-3",children:["Crea la apertura del da. ",_.jsx("b",{children:"No cargues fotos aqu"}),": solo confirma que las enviaste por WhatsApp."]}),_.jsxs("div",{className:"rounded-2xl border bg-white p-4 space-y-3",children:[_.jsx("div",{className:"font-semibold",children:"Checklist"}),["Limpieza del rea","Puesto armado y ordenado","Equipos encendidos y probados","Insumos verificados (stock mnimo)"].map(M=>_.jsxs("label",{className:"flex items-center gap-2 select-none",children:[_.jsx("input",{type:"checkbox",className:"accent-[var(--brand,#f97316)]",checked:e.includes(M),onChange:()=>S(M,e,n),disabled:d==="closed"}),_.jsx("span",{children:M})]},M)),_.jsx("div",{className:"font-semibold pt-2",children:"Confirmaciones de WhatsApp (obligatorias)"}),[{k:"foto_wpp_sent",label:"Envi la foto del inicio de caja al grupo"},{k:"foto_wpp_double",label:"Otra persona confirm (doble confirmacin)"}].map(({k:M,label:L})=>_.jsxs("label",{className:"flex items-center gap-2 select-none",children:[_.jsx("input",{type:"checkbox",className:"accent-[var(--brand,#f97316)]",checked:r.includes(M),onChange:()=>S(M,r,i),disabled:d==="closed"}),_.jsx("span",{children:L})]},M)),_.jsxs("div",{className:"mt-2",children:[_.jsx("div",{className:"text-sm text-slate-600",children:"Efectivo inicial"}),_.jsx("input",{type:"number",min:0,value:a,onChange:M=>o(Number(M.target.value||0)),className:"w-full rounded-xl border px-3 py-2",disabled:d==="closed"})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{disabled:!P||u,onClick:k,className:"btn btn-primary disabled:opacity-60",title:N?"":"Marca las dos confirmaciones de WhatsApp",children:u?"Guardando...":d==="none"?"Aperturar":"Actualizar apertura"}),_.jsx(Fo,{to:"/caja",className:"btn",children:"Ir a Caja"}),p&&_.jsxs("span",{className:"text-xs text-slate-500 ml-auto",children:["Actualizado: ",p.toLocaleTimeString()]})]})]})]})}function TD(t){if(!t)return"";if(!/[]/.test(t))return t.normalize("NFC");try{const e=new Uint8Array([...t].map(r=>r.charCodeAt(0))),n=new TextDecoder("utf-8").decode(e);return(/[^\u0000-\u001F]/.test(n)?n:t).normalize("NFC")}catch(e){return t.normalize("NFC")}}function fQ(){const t=gn(),[e,n]=E.useState([]),[r,i]=E.useState({});E.useEffect(()=>{const u=qt(Qe(Ce,"inventoryItems"),Je("orgId","==",t)),f=na(u,d=>{const m=[];d.forEach(p=>{const y=p.data(),b=Number(y.stock)||0,A=y.minStock!=null?Number(y.minStock):y.min!=null?Number(y.min):void 0;A!==void 0&&b<=A&&m.push({id:p.id,name:y.name,stock:b,min:A})}),n(m)});return()=>f()},[t]);const a=(u,f)=>i(d=>({...d,[u]:Number(f)})),o=async u=>{var d;const f=r[u.id]||0;if(f<=0)return alert("Ingresa una cantidad vlida para reabastecer");await Mu($e(Ce,"inventoryItems",u.id),{stock:q3(f),updatedAt:Ze()}),await Is(Qe(Ce,"stockMovements"),{orgId:t,dateKey:new Date().toISOString().slice(0,10),at:Ze(),type:"revert",ingredientId:u.id,qty:f,reason:"restock",orderId:null,itemName:(d=u.name)!=null?d:u.id}),i(m=>({...m,[u.id]:0})),alert(`Se reabastecieron ${f} unidades de ${TD(u.name)||u.id}`)};return _.jsxs("div",{className:"max-w-xl mx-auto p-4 space-y-3",children:[_.jsx("h1",{className:"text-lg font-semibold",children:"Reabastecer inventario"}),e.length===0?_.jsx("p",{className:"text-slate-500",children:"No hay insumos por debajo del mnimo."}):_.jsx("ul",{className:"space-y-2",children:e.map(u=>{var d,m;const f=r[u.id]||0;return _.jsxs("li",{className:"bg-white border rounded-xl p-3 flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-medium",children:TD(u.name)||u.id}),_.jsxs("div",{className:"text-sm text-slate-600",children:["Stock: ",Number((d=u.stock)!=null?d:0).toLocaleString()," / Mn: ",Number((m=u.min)!=null?m:0).toLocaleString()]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"number",className:"w-24 border rounded-lg px-2 py-1",value:f||"",min:0,onChange:p=>a(u.id,p.target.value)}),_.jsx("button",{className:"px-3 py-1.5 rounded-lg bg-[var(--brand,#f97316)] text-white disabled:opacity-60",onClick:()=>o(u),disabled:f<=0,title:f<=0?"Ingresa una cantidad mayor a 0":"Reabastecer",children:"Reabastecer"})]})]},u.id)})})]})}const R4=["Lun","Mar","Mi","Jue","Vie","Sb","Dom"],pm=6,$h=22,dh=64;function Kh(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`}function ID(t){const e=t.getDay(),n=(e===0?-6:1)-e,r=new Date(t);return r.setDate(t.getDate()+n),r.setHours(0,0,0,0),r}function Bx(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function dQ(){const t=[];for(let e=pm;e<$h;e++)t.push(`${String(e).padStart(2,"0")}:00`);return t}function mv(t){const[e,n]=t.split(":").map(Number);return e*60+n}function D4(t,e){const n=Math.max(mv(t),pm*60),r=Math.max(n+30,Math.min(mv(e),$h*60));return[n,r]}function hQ(){const{user:t}=oi(),[e,n]=E.useState(()=>ID(new Date)),r=E.useMemo(()=>Array.from({length:7},(y,b)=>Bx(e,b)),[e]),i=E.useMemo(()=>dQ(),[]),[a,o]=E.useState({});E.useEffect(()=>{o({})},[e,t==null?void 0:t.uid]),E.useEffect(()=>{if(!(t!=null&&t.uid))return;const y=r.map(b=>{const A=Kh(b),w=Qe(Ce,"schedules",t.uid,"days",A,"slots");return na(w,S=>{const I=[];S.forEach(N=>I.push({id:N.id,data:N.data()})),o(N=>({...N,[A]:I}))})});return()=>y.forEach(b=>b&&b())},[r,t==null?void 0:t.uid]);const[u,f]=E.useState({open:!1,dayIdx:0,start:"08:00",end:"12:00",note:""}),d=(y=0,b=8)=>f({open:!0,dayIdx:y,start:`${String(b).padStart(2,"0")}:00`,end:`${String(Math.min(b+4,$h)).padStart(2,"0")}:00`,note:""}),m=async()=>{if(!(t!=null&&t.uid))return;const y=r[u.dayIdx],b=Kh(y),[A,w]=D4(u.start,u.end),S=`${String(Math.floor(A/60)).padStart(2,"0")}:${String(A%60).padStart(2,"0")}`,I=`${String(Math.floor(w/60)).padStart(2,"0")}:${String(w%60).padStart(2,"0")}`;await Is(Qe(Ce,"schedules",t.uid,"days",b,"slots"),{start:S,end:I,note:u.note.trim()||null,updatedAt:Ze()}),f(N=>({...N,open:!1}))},p=async(y,b)=>{t!=null&&t.uid&&window.confirm("Eliminar este bloque?")&&await Ob($e(Ce,"schedules",t.uid,"days",y,"slots",b))};return _.jsxs("div",{className:"max-w-5xl mx-auto p-4",style:{paddingBottom:"var(--bottom-bar-space,160px)"},children:[_.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"Horarios"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{className:"btn btn-sm",onClick:()=>n(Bx(e,-7)),children:" Semana anterior"}),_.jsx("button",{className:"btn btn-sm",onClick:()=>n(ID(new Date)),children:"Esta semana"}),_.jsx("button",{className:"btn btn-sm",onClick:()=>n(Bx(e,7)),children:"Semana siguiente "})]})]}),_.jsx(mQ,{days:r,hours:i,week:a,onDelete:p}),_.jsx("button",{className:"fixed right-5 bottom-[calc(20px+var(--bottom-bar-space,160px))] rounded-full shadow-xl",style:{background:"linear-gradient(180deg,var(--brand,#ff7a1a), var(--brand-600,#ea580c))",color:"#fff",width:56,height:56,display:"grid",placeItems:"center"},onClick:()=>d(0,8),title:"Nuevo bloque",children:"+"}),u.open&&_.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-end md:items-center md:justify-center",onClick:y=>{y.target===y.currentTarget&&f(b=>({...b,open:!1}))},children:_.jsxs("div",{className:"bg-white w-full md:max-w-md rounded-t-2xl md:rounded-2xl p-4 space-y-3",style:{marginBottom:"var(--bottom-bar-space,160px)"},children:[_.jsx("div",{className:"font-semibold text-lg",children:"Nuevo bloque"}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[_.jsx("label",{className:"label",children:"Da"}),_.jsx("select",{className:"input",value:u.dayIdx,onChange:y=>f(b=>({...b,dayIdx:Number(y.target.value)})),children:r.map((y,b)=>_.jsxs("option",{value:b,children:[R4[b]," ",Kh(y)]},b))}),_.jsx("label",{className:"label",children:"Inicio"}),_.jsx("input",{type:"time",className:"input",step:900,min:`${String(pm).padStart(2,"0")}:00`,max:`${String($h).padStart(2,"0")}:00`,value:u.start,onChange:y=>f(b=>({...b,start:y.target.value}))}),_.jsx("label",{className:"label",children:"Fin"}),_.jsx("input",{type:"time",className:"input",step:900,min:`${String(pm).padStart(2,"0")}:15`,max:`${String($h).padStart(2,"0")}:00`,value:u.end,onChange:y=>f(b=>({...b,end:y.target.value}))})]}),_.jsx("label",{className:"label",children:"Nota (opcional)"}),_.jsx("input",{className:"input",placeholder:"Ej. turno maana, entrega, etc.",value:u.note,onChange:y=>f(b=>({...b,note:y.target.value}))}),_.jsxs("div",{className:"hstack",style:{gap:8},children:[_.jsx("button",{className:"btn flex-1",onClick:()=>f(y=>({...y,open:!1})),children:"Cancelar"}),_.jsx("button",{className:"btn btn-primary flex-1",onClick:m,children:"Guardar"})]})]})})]})}function mQ({days:t,hours:e,week:n,onDelete:r}){const i={position:"relative",borderLeft:"1px solid var(--border)",overflow:"hidden"};return _.jsxs("div",{className:"w-full overflow-auto",style:{borderRadius:16,border:"1px solid var(--border)",background:"#fff"},children:[_.jsxs("div",{className:"grid",style:{gridTemplateColumns:"80px repeat(7, minmax(140px,1fr))"},children:[_.jsx("div",{className:"px-3 py-3 text-sm font-semibold bg-slate-50 border-b border-[var(--border)]",children:"Hora"}),t.map((a,o)=>_.jsxs("div",{className:"px-3 py-3 text-sm font-semibold bg-slate-50 border-b border-l border-[var(--border)]",style:{whiteSpace:"nowrap"},children:[R4[o]," ",_.jsx("span",{className:"text-slate-500",children:Kh(a)})]},o))]}),_.jsxs("div",{className:"grid",style:{gridTemplateColumns:"80px repeat(7, minmax(140px,1fr))"},children:[_.jsx("div",{className:"border-r border-[var(--border)]",children:e.map(a=>_.jsx("div",{style:{height:dh,borderTop:"1px solid var(--border)",padding:"6px 10px",fontSize:12,color:"#475569"},children:a},a))}),t.map(a=>{const o=Kh(a),u=(n[o]||[]).slice().sort((f,d)=>mv(f.data.start)-mv(d.data.start));return _.jsxs("div",{style:i,children:[e.map((f,d)=>_.jsx("div",{style:{position:"absolute",left:0,right:0,top:d*dh,height:dh,borderTop:"1px solid var(--border)"}},f)),u.map(({id:f,data:d})=>{const[m,p]=D4(d.start,d.end),y=(m-pm*60)/60*dh,b=(p-m)/60*dh-6;return _.jsxs("div",{onClick:()=>r(o,f),title:`${d.start}  ${d.end}${d.note?"  "+d.note:""}
Haz clic para eliminar.`,style:{position:"absolute",left:8,right:8,top:y,height:b,background:"hsla(24, 95%, 55%, .16)",border:"1.5px solid hsl(24, 90%, 52%)",color:"hsl(24, 60%, 26%)",borderRadius:12,padding:"8px 10px",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",cursor:"pointer",backdropFilter:"saturate(1.1)"},children:[_.jsx("div",{className:"text-[12px] font-semibold leading-none",children:"Bloque"}),_.jsxs("div",{className:"text-[11px] leading-3 opacity-80",children:[d.start,"  ",d.end,d.note?`  ${d.note}`:""]})]},f)})]},o)})]})]})}function j4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=j4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=j4(t))&&(r&&(r+=" "),r+=e);return r}var zx={},qx={},CD;function pQ(){return CD||(CD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(qx)),qx}var Fx={},ND;function M4(){return ND||(ND=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Fx)),Fx}var $x={},OD;function k4(){return OD||(OD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})($x)),$x}var Kx={},PD;function NT(){return PD||(PD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,o="",u="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const d=n[a];u?d==="\\"&&a+1<i?(a++,o+=n[a]):d===u?u="":o+=d:f?d==='"'||d==="'"?u=d:d==="]"?(f=!1,r.push(o),o=""):o+=d:d==="["?(f=!0,o&&(r.push(o),o="")):d==="."?o&&(r.push(o),o=""):o+=d,a++}return o&&r.push(o),r}t.toPath=e})(Kx)),Kx}var RD;function OT(){return RD||(RD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pQ(),n=M4(),r=k4(),i=NT();function a(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const m=u[f];return m===void 0?n.isDeepKey(f)?a(u,i.toPath(f),d):d:m}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const m=u[f];return m===void 0?d:m}default:{if(Array.isArray(f))return o(u,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const m=u[f];return m===void 0?d:m}}}function o(u,f,d){if(f.length===0)return d;let m=u;for(let p=0;p<f.length;p++){if(m==null||e.isUnsafeProperty(f[p]))return d;m=m[f[p]]}return m===void 0?d:m}t.get=a})(zx)),zx}var Hx,DD;function gQ(){return DD||(DD=1,Hx=OT().get),Hx}var yQ=gQ();const Lu=Ka(yQ);var Gx={exports:{}},Dt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jD;function vQ(){if(jD)return Dt;jD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function A(w){if(typeof w=="object"&&w!==null){var S=w.$$typeof;switch(S){case t:switch(w=w.type,w){case n:case i:case r:case f:case d:case y:return w;default:switch(w=w&&w.$$typeof,w){case o:case u:case p:case m:return w;case a:return w;default:return S}}case e:return S}}}return Dt.ContextConsumer=a,Dt.ContextProvider=o,Dt.Element=t,Dt.ForwardRef=u,Dt.Fragment=n,Dt.Lazy=p,Dt.Memo=m,Dt.Portal=e,Dt.Profiler=i,Dt.StrictMode=r,Dt.Suspense=f,Dt.SuspenseList=d,Dt.isContextConsumer=function(w){return A(w)===a},Dt.isContextProvider=function(w){return A(w)===o},Dt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Dt.isForwardRef=function(w){return A(w)===u},Dt.isFragment=function(w){return A(w)===n},Dt.isLazy=function(w){return A(w)===p},Dt.isMemo=function(w){return A(w)===m},Dt.isPortal=function(w){return A(w)===e},Dt.isProfiler=function(w){return A(w)===i},Dt.isStrictMode=function(w){return A(w)===r},Dt.isSuspense=function(w){return A(w)===f},Dt.isSuspenseList=function(w){return A(w)===d},Dt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===f||w===d||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===m||w.$$typeof===o||w.$$typeof===a||w.$$typeof===u||w.$$typeof===b||w.getModuleId!==void 0)},Dt.typeOf=A,Dt}var MD;function bQ(){return MD||(MD=1,Gx.exports=vQ()),Gx.exports}var _Q=bQ(),$n=t=>t===0?0:t>0?1:-1,ii=t=>typeof t=="number"&&t!=+t,pu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Le=t=>(typeof t=="number"||t instanceof Number)&&!ii(t),Fa=t=>Le(t)||typeof t=="string",xQ=0,gm=t=>{var e=++xQ;return"".concat(t||"").concat(e)},gr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(e)&&typeof e!="string")return r;var a;if(pu(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return ii(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},L4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function on(t,e,n){return Le(t)&&Le(e)?t+n*(e-t):e}function V4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Lu(r,e))===n)}var Zt=t=>t===null||typeof t=="undefined",Zm=t=>Zt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),wQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function PT(t){if(typeof t!="string")return!1;var e=wQ;return e.includes(t)}var EQ=["viewBox","children"],kD=["points","pathLength"],Wx={svg:EQ,polygon:kD,polyline:kD},RT=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(E.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{PT(i)&&(r[i]=(a=>n[i](n,a)))}),r},SQ=(t,e,n)=>r=>(t(e,n,r),null),Jm=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];PT(i)&&typeof a=="function"&&(r||(r={}),r[i]=SQ(a,e,n))}),r},AQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function U4(t){if(typeof t!="string")return!1;var e=AQ;return e.includes(t)}function Ya(t){var e=Object.entries(t).filter(n=>{var[r]=n;return U4(r)});return Object.fromEntries(e)}var LD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",VD=null,Yx=null,B4=t=>{if(t===VD&&Array.isArray(Yx))return Yx;var e=[];return E.Children.forEach(t,n=>{Zt(n)||(_Q.isFragment(n)?e=e.concat(B4(n.props.children)):e.push(n))}),Yx=e,VD=t,e};function DT(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>LD(i)):r=[LD(e)],B4(t).forEach(i=>{var a=Lu(i,"type.displayName")||Lu(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var z4=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,TQ=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&(Wx==null?void 0:Wx[r]))!==null&&i!==void 0?i:[],o=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&a.includes(e)||U4(e)),f=!!n&&PT(e);return o||u||f},nn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(E.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;TQ((o=r)===null||o===void 0?void 0:o[a],a,e,n)&&(i[a]=r[a])}),i},IQ=["children","width","height","viewBox","className","style","title","desc"];function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(null,arguments)}function CQ(t,e){if(t==null)return{};var n,r,i=NQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function NQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jT=E.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:u,title:f,desc:d}=t,m=CQ(t,IQ),p=a||{width:r,height:i,x:0,y:0},y=pt("recharts-surface",o);return E.createElement("svg",lS({},nn(m,!0,"svg"),{className:y,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),E.createElement("title",null,f),E.createElement("desc",null,d),n)}),OQ=["children","className"];function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(null,arguments)}function PQ(t,e){if(t==null)return{};var n,r,i=RQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function RQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sr=E.forwardRef((t,e)=>{var{children:n,className:r}=t,i=PQ(t,OQ),a=pt("recharts-layer",r);return E.createElement("g",uS({className:a},nn(i,!0),{ref:e}),n)}),q4=E.createContext(null),DQ=()=>E.useContext(q4);function kt(t){return function(){return t}}const F4=Math.cos,pv=Math.sin,ua=Math.sqrt,gv=Math.PI,kb=2*gv,cS=Math.PI,fS=2*cS,au=1e-6,jQ=fS-au;function $4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function MQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return $4;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class kQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$4:MQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,f=r-e,d=i-n,m=o-e,p=u-n,y=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>au)if(!(Math.abs(p*f-d*m)>au)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-o,A=i-u,w=f*f+d*d,S=b*b+A*A,I=Math.sqrt(w),N=Math.sqrt(y),P=a*Math.tan((cS-Math.acos((w+y-S)/(2*I*N)))/2),k=P/N,M=P/I;Math.abs(k-1)>au&&this._append`L${e+k*m},${n+k*p}`,this._append`A${a},${a},0,0,${+(p*b>m*A)},${this._x1=e+M*f},${this._y1=n+M*d}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=e+u,m=n+f,p=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>au||Math.abs(this._y1-m)>au)&&this._append`L${d},${m}`,r&&(y<0&&(y=y%fS+fS),y>jQ?this._append`A${r},${r},0,1,${p},${e-u},${n-f}A${r},${r},0,1,${p},${this._x1=d},${this._y1=m}`:y>au&&this._append`A${r},${r},0,${+(y>=cS)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function MT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new kQ(e)}function kT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function K4(t){this._context=t}K4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Lb(t){return new K4(t)}function H4(t){return t[0]}function G4(t){return t[1]}function W4(t,e){var n=kt(!0),r=null,i=Lb,a=null,o=MT(u);t=typeof t=="function"?t:t===void 0?H4:kt(t),e=typeof e=="function"?e:e===void 0?G4:kt(e);function u(f){var d,m=(f=kT(f)).length,p,y=!1,b;for(r==null&&(a=i(b=o())),d=0;d<=m;++d)!(d<m&&n(p=f[d],d,f))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,d,f),+e(p,d,f));if(b)return a=null,b+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:kt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:kt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:kt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function ty(t,e,n){var r=null,i=kt(!0),a=null,o=Lb,u=null,f=MT(d);t=typeof t=="function"?t:t===void 0?H4:kt(+t),e=typeof e=="function"?e:kt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?G4:kt(+n);function d(p){var y,b,A,w=(p=kT(p)).length,S,I=!1,N,P=new Array(w),k=new Array(w);for(a==null&&(u=o(N=f())),y=0;y<=w;++y){if(!(y<w&&i(S=p[y],y,p))===I)if(I=!I)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=y-1;A>=b;--A)u.point(P[A],k[A]);u.lineEnd(),u.areaEnd()}I&&(P[y]=+t(S,y,p),k[y]=+e(S,y,p),u.point(r?+r(S,y,p):P[y],n?+n(S,y,p):k[y]))}if(N)return u=null,N+""||null}function m(){return W4().defined(i).curve(o).context(a)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:kt(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:kt(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:kt(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:kt(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:kt(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:kt(+p),d):n},d.lineX0=d.lineY0=function(){return m().x(t).y(e)},d.lineY1=function(){return m().x(t).y(n)},d.lineX1=function(){return m().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:kt(!!p),d):i},d.curve=function(p){return arguments.length?(o=p,a!=null&&(u=o(a)),d):o},d.context=function(p){return arguments.length?(p==null?a=u=null:u=o(a=p),d):a},d}class Y4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function LQ(t){return new Y4(t,!0)}function VQ(t){return new Y4(t,!1)}const LT={draw(t,e){const n=ua(e/gv);t.moveTo(n,0),t.arc(0,0,n,0,kb)}},UQ={draw(t,e){const n=ua(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Q4=ua(1/3),BQ=Q4*2,zQ={draw(t,e){const n=ua(e/BQ),r=n*Q4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},qQ={draw(t,e){const n=ua(e),r=-n/2;t.rect(r,r,n,n)}},FQ=.8908130915292852,X4=pv(gv/10)/pv(7*gv/10),$Q=pv(kb/10)*X4,KQ=-F4(kb/10)*X4,HQ={draw(t,e){const n=ua(e*FQ),r=$Q*n,i=KQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=kb*a/5,u=F4(o),f=pv(o);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Qx=ua(3),GQ={draw(t,e){const n=-ua(e/(Qx*3));t.moveTo(0,n*2),t.lineTo(-Qx*n,-n),t.lineTo(Qx*n,-n),t.closePath()}},wi=-.5,Ei=ua(3)/2,dS=1/ua(12),WQ=(dS/2+1)*3,YQ={draw(t,e){const n=ua(e/WQ),r=n/2,i=n*dS,a=r,o=n*dS+n,u=-a,f=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(u,f),t.lineTo(wi*r-Ei*i,Ei*r+wi*i),t.lineTo(wi*a-Ei*o,Ei*a+wi*o),t.lineTo(wi*u-Ei*f,Ei*u+wi*f),t.lineTo(wi*r+Ei*i,wi*i-Ei*r),t.lineTo(wi*a+Ei*o,wi*o-Ei*a),t.lineTo(wi*u+Ei*f,wi*f-Ei*u),t.closePath()}};function QQ(t,e){let n=null,r=MT(i);t=typeof t=="function"?t:kt(t||LT),e=typeof e=="function"?e:kt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:kt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:kt(+a),i):e},i.context=function(a){return arguments.length?(n=a==null?null:a,i):n},i}function yv(){}function vv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Z4(t){this._context=t}Z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function XQ(t){return new Z4(t)}function J4(t){this._context=t}J4.prototype={areaStart:yv,areaEnd:yv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:vv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZQ(t){return new J4(t)}function e6(t){this._context=t}e6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:vv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JQ(t){return new e6(t)}function t6(t){this._context=t}t6.prototype={areaStart:yv,areaEnd:yv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function eX(t){return new t6(t)}function UD(t){return t<0?-1:1}function BD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(UD(a)+UD(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function zD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Xx(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,o-u*n,a,o)}function bv(t){this._context=t}bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xx(this,this._t0,zD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Xx(this,zD(this,n=BD(this,t,e)),n);break;default:Xx(this,this._t0,n=BD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function n6(t){this._context=new r6(t)}(n6.prototype=Object.create(bv.prototype)).point=function(t,e){bv.prototype.point.call(this,e,t)};function r6(t){this._context=t}r6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function tX(t){return new bv(t)}function nX(t){return new n6(t)}function i6(t){this._context=t}i6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=qD(t),i=qD(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qD(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function rX(t){return new i6(t)}function Vb(t,e){this._context=t,this._t=e}Vb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function iX(t){return new Vb(t,.5)}function aX(t){return new Vb(t,0)}function sX(t){return new Vb(t,1)}function If(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,u=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function hS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function oX(t,e){return t[e]}function lX(t){const e=[];return e.key=t,e}function uX(){var t=kt([]),e=hS,n=If,r=oX;function i(a){var o=Array.from(t.apply(this,arguments),lX),u,f=o.length,d=-1,m;for(const p of a)for(u=0,++d;u<f;++u)(o[u][d]=[0,+r(p,o[u].key,d,a)]).data=p;for(u=0,m=kT(e(o));u<f;++u)o[m[u]].index=u;return n(o,m),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:kt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:kt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?hS:typeof a=="function"?a:kt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a==null?If:a,i):n},i}function cX(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}If(t,e)}}function fX(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,u=0;o<i;++o)u+=t[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}If(t,e)}}function dX(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var u=0,f=0,d=0;u<o;++u){for(var m=t[e[u]],p=m[r][1]||0,y=m[r-1][1]||0,b=(p-y)/2,A=0;A<u;++A){var w=t[e[A]],S=w[r][1]||0,I=w[r-1][1]||0;b+=S-I}f+=p,d+=b*p}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,If(t,e)}}var hX=["type","size","sizeType"];function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mS.apply(null,arguments)}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){mX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mX(t,e,n){return(e=pX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pX(t){var e=gX(t,"string");return typeof e=="symbol"?e:e+""}function gX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yX(t,e){if(t==null)return{};var n,r,i=vX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var a6={symbolCircle:LT,symbolCross:UQ,symbolDiamond:zQ,symbolSquare:qQ,symbolStar:HQ,symbolTriangle:GQ,symbolWye:YQ},bX=Math.PI/180,_X=t=>{var e="symbol".concat(Zm(t));return a6[e]||LT},xX=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*bX;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},wX=(t,e)=>{a6["symbol".concat(Zm(t))]=e},VT=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=yX(t,hX),a=$D($D({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var u=()=>{var y=_X(o),b=QQ().type(y).size(xX(n,r,o));return b()},{className:f,cx:d,cy:m}=a,p=nn(a,!0);return d===+d&&m===+m&&n===+n?E.createElement("path",mS({},p,{className:pt("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(m,")"),d:u()})):null};VT.registerSymbol=wX;function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pS.apply(null,arguments)}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){UT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UT(t,e,n){return(e=SX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SX(t){var e=AX(t,"string");return typeof e=="symbol"?e:e+""}function AX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Si=32;class BT extends E.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Si/2,a=Si/6,o=Si/3,u=e.inactive?r:e.color,f=n!=null?n:e.type;if(f==="none")return null;if(f==="plainline")return E.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Si,y2:i,className:"recharts-legend-icon"});if(f==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Si,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return E.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Si/8,"h").concat(Si,"v").concat(Si*3/4,"h").concat(-Si,"z"),className:"recharts-legend-icon"});if(E.isValidElement(e.legendIcon)){var d=EX({},e);return delete d.legendIcon,E.cloneElement(e.legendIcon,d)}return E.createElement(VT,{fill:u,cx:i,cy:i,size:Si,sizeType:"diameter",type:f})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,u={x:0,y:0,width:Si,height:Si},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((m,p)=>{var y=m.formatter||i,b=pt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:m.inactive});if(m.type==="none")return null;var A=m.inactive?a:m.color,w=y?y(m.value,m,p):m.value;return E.createElement("li",pS({className:b,style:f,key:"legend-item-".concat(p)},Jm(this.props,m,p)),E.createElement(jT,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(w," legend icon")},this.renderIcon(m,o)),E.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},w))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}UT(BT,"displayName","Legend");UT(BT,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Zx={},Jx={},HD;function TX(){return HD||(HD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],u=r(o);i.has(u)||i.set(u,o)}return Array.from(i.values())}t.uniqBy=e})(Jx)),Jx}var ew={},GD;function s6(){return GD||(GD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(ew)),ew}var tw={},nw={},rw={},WD;function IX(){return WD||(WD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(rw)),rw}var YD;function zT(){return YD||(YD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IX();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(nw)),nw}var iw={},QD;function CX(){return QD||(QD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(iw)),iw}var XD;function NX(){return XD||(XD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zT(),n=CX();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(tw)),tw}var aw={},sw={},ZD;function OX(){return ZD||(ZD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OT();function n(r){return function(i){return e.get(i,r)}}t.property=n})(sw)),sw}var ow={},lw={},uw={},cw={},JD;function o6(){return JD||(JD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(cw)),cw}var fw={},e2;function l6(){return e2||(e2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(fw)),fw}var dw={},t2;function u6(){return t2||(t2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(dw)),dw}var n2;function PX(){return n2||(n2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qT(),n=o6(),r=l6(),i=u6();function a(p,y,b){return typeof b!="function"?e.isMatch(p,y):o(p,y,function A(w,S,I,N,P,k){const M=b(w,S,I,N,P,k);return M!==void 0?!!M:o(w,S,A,k)},new Map)}function o(p,y,b,A){if(y===p)return!0;switch(typeof y){case"object":return u(p,y,b,A);case"function":return Object.keys(y).length>0?o(p,{...y},b,A):i.eq(p,y);default:return n.isObject(p)?typeof y=="string"?y==="":!0:i.eq(p,y)}}function u(p,y,b,A){if(y==null)return!0;if(Array.isArray(y))return d(p,y,b,A);if(y instanceof Map)return f(p,y,b,A);if(y instanceof Set)return m(p,y,b,A);const w=Object.keys(y);if(p==null)return w.length===0;if(w.length===0)return!0;if(A&&A.has(y))return A.get(y)===p;A&&A.set(y,p);try{for(let S=0;S<w.length;S++){const I=w[S];if(!r.isPrimitive(p)&&!(I in p)||y[I]===void 0&&p[I]!==void 0||y[I]===null&&p[I]!==null||!b(p[I],y[I],I,p,y,A))return!1}return!0}finally{A&&A.delete(y)}}function f(p,y,b,A){if(y.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,S]of y.entries()){const I=p.get(w);if(b(I,S,w,p,y,A)===!1)return!1}return!0}function d(p,y,b,A){if(y.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let S=0;S<y.length;S++){const I=y[S];let N=!1;for(let P=0;P<p.length;P++){if(w.has(P))continue;const k=p[P];let M=!1;if(b(k,I,S,p,y,A)&&(M=!0),M){w.add(P),N=!0;break}}if(!N)return!1}return!0}function m(p,y,b,A){return y.size===0?!0:p instanceof Set?d([...p],[...y],b,A):!1}t.isMatchWith=a,t.isSetMatch=m})(uw)),uw}var r2;function qT(){return r2||(r2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PX();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(lw)),lw}var hw={},mw={},pw={},i2;function RX(){return i2||(i2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(pw)),pw}var gw={},a2;function c6(){return a2||(a2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(gw)),gw}var yw={},s2;function f6(){return s2||(s2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",m="[object Array]",p="[object Function]",y="[object ArrayBuffer]",b="[object Object]",A="[object Error]",w="[object DataView]",S="[object Uint8Array]",I="[object Uint8ClampedArray]",N="[object Uint16Array]",P="[object Uint32Array]",k="[object BigUint64Array]",M="[object Int8Array]",L="[object Int16Array]",R="[object Int32Array]",C="[object BigInt64Array]",j="[object Float32Array]",U="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=m,t.bigInt64ArrayTag=C,t.bigUint64ArrayTag=k,t.booleanTag=i,t.dataViewTag=w,t.dateTag=u,t.errorTag=A,t.float32ArrayTag=j,t.float64ArrayTag=U,t.functionTag=p,t.int16ArrayTag=L,t.int32ArrayTag=R,t.int8ArrayTag=M,t.mapTag=f,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=N,t.uint32ArrayTag=P,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=I})(yw)),yw}var vw={},o2;function DX(){return o2||(o2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(vw)),vw}var l2;function d6(){return l2||(l2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RX(),n=c6(),r=f6(),i=l6(),a=DX();function o(m,p){return u(m,void 0,m,new Map,p)}function u(m,p,y,b=new Map,A=void 0){const w=A==null?void 0:A(m,p,y,b);if(w!==void 0)return w;if(i.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const S=new Array(m.length);b.set(m,S);for(let I=0;I<m.length;I++)S[I]=u(m[I],I,y,b,A);return Object.hasOwn(m,"index")&&(S.index=m.index),Object.hasOwn(m,"input")&&(S.input=m.input),S}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const S=new RegExp(m.source,m.flags);return S.lastIndex=m.lastIndex,S}if(m instanceof Map){const S=new Map;b.set(m,S);for(const[I,N]of m)S.set(I,u(N,I,y,b,A));return S}if(m instanceof Set){const S=new Set;b.set(m,S);for(const I of m)S.add(u(I,void 0,y,b,A));return S}if(typeof Buffer!="undefined"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const S=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,S);for(let I=0;I<m.length;I++)S[I]=u(m[I],I,y,b,A);return S}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer!="undefined"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const S=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,S),f(S,m,y,b,A),S}if(typeof File!="undefined"&&m instanceof File){const S=new File([m],m.name,{type:m.type});return b.set(m,S),f(S,m,y,b,A),S}if(m instanceof Blob){const S=new Blob([m],{type:m.type});return b.set(m,S),f(S,m,y,b,A),S}if(m instanceof Error){const S=new m.constructor;return b.set(m,S),S.message=m.message,S.name=m.name,S.stack=m.stack,S.cause=m.cause,f(S,m,y,b,A),S}if(typeof m=="object"&&d(m)){const S=Object.create(Object.getPrototypeOf(m));return b.set(m,S),f(S,m,y,b,A),S}return m}function f(m,p,y=m,b,A){const w=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<w.length;S++){const I=w[S],N=Object.getOwnPropertyDescriptor(m,I);(N==null||N.writable)&&(m[I]=u(p[I],I,y,b,A))}}function d(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=u,t.copyProperties=f})(mw)),mw}var u2;function jX(){return u2||(u2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(hw)),hw}var c2;function MX(){return c2||(c2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qT(),n=jX();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(ow)),ow}var bw={},_w={},xw={},f2;function kX(){return f2||(f2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d6(),n=f6();function r(i,a){return e.cloneDeepWith(i,(o,u,f,d)=>{const m=a==null?void 0:a(o,u,f,d);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(xw)),xw}var d2;function LX(){return d2||(d2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kX();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(_w)),_w}var ww={},Ew={},h2;function h6(){return h2||(h2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Ew)),Ew}var Sw={},m2;function VX(){return m2||(m2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c6();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Sw)),Sw}var p2;function UX(){return p2||(p2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M4(),n=h6(),r=VX(),i=NT();function a(o,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&(o==null?void 0:o[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let d=o;for(let m=0;m<f.length;m++){const p=f[m];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=a})(ww)),ww}var g2;function BX(){return g2||(g2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qT(),n=k4(),r=LX(),i=OT(),a=UX();function o(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(d){const m=i.get(d,u);return m===void 0?a.has(d,u):f===void 0?m===void 0:e.isMatch(m,f)}}t.matchesProperty=o})(bw)),bw}var y2;function zX(){return y2||(y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s6(),n=OX(),r=MX(),i=BX();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(aw)),aw}var v2;function qX(){return v2||(v2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TX(),n=s6(),r=NX(),i=zX();function a(o,u=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(u)):[]}t.uniqBy=a})(Zx)),Zx}var Aw,b2;function FX(){return b2||(b2=1,Aw=qX().uniqBy),Aw}var $X=FX();const _2=Ka($X);function m6(t,e,n){return e===!0?_2(t,n):typeof e=="function"?_2(t,e):t}var Tw={exports:{}},Iw={},Cw={exports:{}},Nw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function KX(){if(x2)return Nw;x2=1;var t=kf();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function u(p,y){var b=y(),A=r({inst:{value:b,getSnapshot:y}}),w=A[0].inst,S=A[1];return a(function(){w.value=b,w.getSnapshot=y,f(w)&&S({inst:w})},[p,b,y]),i(function(){return f(w)&&S({inst:w}),p(function(){f(w)&&S({inst:w})})},[p]),o(b),b}function f(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch(A){return!0}}function d(p,y){return y()}var m=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?d:u;return Nw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Nw}var w2;function HX(){return w2||(w2=1,Cw.exports=KX()),Cw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2;function GX(){if(E2)return Iw;E2=1;var t=kf(),e=HX();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,u=t.useMemo,f=t.useDebugValue;return Iw.useSyncExternalStoreWithSelector=function(d,m,p,y,b){var A=a(null);if(A.current===null){var w={hasValue:!1,value:null};A.current=w}else w=A.current;A=u(function(){function I(L){if(!N){if(N=!0,P=L,L=y(L),b!==void 0&&w.hasValue){var R=w.value;if(b(R,L))return k=R}return k=L}if(R=k,r(P,L))return R;var C=y(L);return b!==void 0&&b(R,C)?(P=L,R):(P=L,k=C)}var N=!1,P,k,M=p===void 0?null:p;return[function(){return I(m())},M===null?void 0:function(){return I(M())}]},[m,p,y,b]);var S=i(d,A[0],A[1]);return o(function(){w.hasValue=!0,w.value=S},[S]),f(S),S},Iw}var S2;function WX(){return S2||(S2=1,Tw.exports=GX()),Tw.exports}var YX=WX(),FT=E.createContext(null),QX=t=>t,rn=()=>{var t=E.useContext(FT);return t?t.store.dispatch:QX},ky=()=>{},XX=()=>ky,ZX=(t,e)=>t===e;function De(t){var e=E.useContext(FT);return YX.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:XX,e?e.store.getState:ky,e?e.store.getState:ky,e?t:ky,ZX)}function JX(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function eZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function tZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var A2=t=>Array.isArray(t)?t:[t];function nZ(t){const e=Array.isArray(t[0])?t[0]:t;return tZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function rZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var iZ=class{constructor(t){this.value=t}deref(){return this.value}},aZ=typeof WeakRef!="undefined"?WeakRef:iZ,sZ=0,T2=1;function ny(){return{s:sZ,v:void 0,o:null,p:null}}function p6(t,e={}){let n=ny();const{resultEqualityCheck:r}=e;let i,a=0;function o(){var p,y;let u=n;const{length:f}=arguments;for(let b=0,A=f;b<A;b++){const w=arguments[b];if(typeof w=="function"||typeof w=="object"&&w!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const I=S.get(w);I===void 0?(u=ny(),S.set(w,u)):u=I}else{let S=u.p;S===null&&(u.p=S=new Map);const I=S.get(w);I===void 0?(u=ny(),S.set(w,u)):u=I}}const d=u;let m;if(u.s===T2)m=u.v;else if(m=t.apply(null,arguments),a++,r){const b=(y=(p=i==null?void 0:i.deref)==null?void 0:p.call(i))!=null?y:i;b!=null&&r(b,m)&&(m=b,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new aZ(m):m}return d.s=T2,d.v=m,m}return o.clearCache=()=>{n=ny(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function oZ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,u,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),JX(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const m={...n,...f},{memoize:p,memoizeOptions:y=[],argsMemoize:b=p6,argsMemoizeOptions:A=[]}=m,w=A2(y),S=A2(A),I=nZ(i),N=p(function(){return a++,d.apply(null,arguments)},...w),P=b(function(){o++;const M=rZ(I,arguments);return u=N.apply(null,M),u},...S);return Object.assign(P,{resultFunc:d,memoizedResultFunc:N,dependencies:I,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var re=oZ(p6),lZ=Object.assign((t,e=re)=>{eZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,u,f)=>(o[n[f]]=u,o),{}))},{withTypes:()=>lZ}),Ow={},Pw={},Rw={},I2;function uZ(){return I2||(I2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),u=e(i);if(o===u&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-o:o-u}return 0};t.compareValues=n})(Rw)),Rw}var Dw={},jw={},C2;function g6(){return C2||(C2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(jw)),jw}var N2;function cZ(){return N2||(N2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(Dw)),Dw}var O2;function fZ(){return O2||(O2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uZ(),n=cZ(),r=NT();function i(a,o,u,f){if(a==null)return[];u=f?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const d=(b,A)=>{let w=b;for(let S=0;S<A.length&&w!=null;++S)w=w[A[S]];return w},m=(b,A)=>A==null||b==null?A:typeof b=="object"&&"key"in b?Object.hasOwn(A,b.key)?A[b.key]:d(A,b.path):typeof b=="function"?b(A):Array.isArray(b)?d(A,b):typeof A=="object"?A[b]:A,p=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(A=>m(A,b))})).slice().sort((b,A)=>{for(let w=0;w<p.length;w++){const S=e.compareValues(b.criteria[w],A.criteria[w],u[w]);if(S!==0)return S}return 0}).map(b=>b.original)}t.orderBy=i})(Pw)),Pw}var Mw={},P2;function dZ(){return P2||(P2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(u,f)=>{for(let d=0;d<u.length;d++){const m=u[d];Array.isArray(m)&&f<a?o(m,f+1):i.push(m)}};return o(n,0),i}t.flatten=e})(Mw)),Mw}var kw={},R2;function y6(){return R2||(R2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h6(),n=zT(),r=o6(),i=u6();function a(o,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],o):!1}t.isIterateeCall=a})(kw)),kw}var D2;function hZ(){return D2||(D2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fZ(),n=dZ(),r=y6();function i(a,...o){const u=o.length;return u>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:u>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(Ow)),Ow}var Lw,j2;function mZ(){return j2||(j2=1,Lw=hZ().sortBy),Lw}var pZ=mZ();const Ub=Ka(pZ);var v6=t=>t.legend.settings,gZ=t=>t.legend.size,yZ=t=>t.legend.payload,vZ=re([yZ,v6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Ub(r,n):r});function bZ(){return De(vZ)}var ry=1;function b6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=E.useState({height:0,left:0,top:0,width:0}),r=E.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>ry||Math.abs(o.left-e.left)>ry||Math.abs(o.top-e.top)>ry||Math.abs(o.width-e.width)>ry)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function nr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _Z=typeof Symbol=="function"&&Symbol.observable||"@@observable",M2=_Z,Vw=()=>Math.random().toString(36).substring(7).split("").join("."),xZ={INIT:`@@redux/INIT${Vw()}`,REPLACE:`@@redux/REPLACE${Vw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Vw()}`},_v=xZ;function $T(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function _6(t,e,n){if(typeof t!="function")throw new Error(nr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nr(0));if(typeof e=="function"&&typeof n=="undefined"&&(n=e,e=void 0),typeof n!="undefined"){if(typeof n!="function")throw new Error(nr(1));return n(_6)(t,e)}let r=t,i=e,a=new Map,o=a,u=0,f=!1;function d(){o===a&&(o=new Map,a.forEach((S,I)=>{o.set(I,S)}))}function m(){if(f)throw new Error(nr(3));return i}function p(S){if(typeof S!="function")throw new Error(nr(4));if(f)throw new Error(nr(5));let I=!0;d();const N=u++;return o.set(N,S),function(){if(I){if(f)throw new Error(nr(6));I=!1,d(),o.delete(N),a=null}}}function y(S){if(!$T(S))throw new Error(nr(7));if(typeof S.type=="undefined")throw new Error(nr(8));if(typeof S.type!="string")throw new Error(nr(17));if(f)throw new Error(nr(9));try{f=!0,i=r(i,S)}finally{f=!1}return(a=o).forEach(N=>{N()}),S}function b(S){if(typeof S!="function")throw new Error(nr(10));r=S,y({type:_v.REPLACE})}function A(){const S=p;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(nr(11));function N(){const k=I;k.next&&k.next(m())}return N(),{unsubscribe:S(N)}},[M2](){return this}}}return y({type:_v.INIT}),{dispatch:y,subscribe:p,getState:m,replaceReducer:b,[M2]:A}}function wZ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:_v.INIT})=="undefined")throw new Error(nr(12));if(typeof n(void 0,{type:_v.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(nr(13))})}function x6(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{wZ(n)}catch(a){i=a}return function(o={},u){if(i)throw i;let f=!1;const d={};for(let m=0;m<r.length;m++){const p=r[m],y=n[p],b=o[p],A=y(b,u);if(typeof A=="undefined")throw u&&u.type,new Error(nr(14));d[p]=A,f=f||A!==b}return f=f||r.length!==Object.keys(o).length,f?d:o}}function xv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function EZ(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(nr(15))};const o={getState:i.getState,dispatch:(f,...d)=>a(f,...d)},u=t.map(f=>f(o));return a=xv(...u)(i.dispatch),{...i,dispatch:a}}}function w6(t){return $T(t)&&"type"in t&&typeof t.type=="string"}var E6=Symbol.for("immer-nothing"),k2=Symbol.for("immer-draftable"),ai=Symbol.for("immer-state");function Yi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Cf=Object.getPrototypeOf;function Vu(t){return!!t&&!!t[ai]}function ks(t){var e;return t?S6(t)||Array.isArray(t)||!!t[k2]||!!((e=t.constructor)!=null&&e[k2])||ep(t)||zb(t):!1}var SZ=Object.prototype.constructor.toString();function S6(t){if(!t||typeof t!="object")return!1;const e=Cf(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===SZ}function wv(t,e){Bb(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Bb(t){const e=t[ai];return e?e.type_:Array.isArray(t)?1:ep(t)?2:zb(t)?3:0}function gS(t,e){return Bb(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function A6(t,e,n){const r=Bb(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function AZ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ep(t){return t instanceof Map}function zb(t){return t instanceof Set}function su(t){return t.copy_||t.base_}function yS(t,e){if(ep(t))return new Map(t);if(zb(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=S6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ai];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],u=r[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[o]})}return Object.create(Cf(t),r)}else{const r=Cf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function KT(t,e=!1){return qb(t)||Vu(t)||!ks(t)||(Bb(t)>1&&Object.defineProperties(t,{set:{value:iy},add:{value:iy},clear:{value:iy},delete:{value:iy}}),Object.freeze(t),e&&Object.values(t).forEach(n=>KT(n,!0))),t}function iy(){Yi(2)}function qb(t){return Object.isFrozen(t)}var TZ={};function Uu(t){const e=TZ[t];return e||Yi(0,t),e}var ym;function T6(){return ym}function IZ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function L2(t,e){e&&(Uu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function vS(t){bS(t),t.drafts_.forEach(CZ),t.drafts_=null}function bS(t){t===ym&&(ym=t.parent_)}function V2(t){return ym=IZ(ym,t)}function CZ(t){const e=t[ai];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function U2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ai].modified_&&(vS(e),Yi(4)),ks(t)&&(t=Ev(e,t),e.parent_||Sv(e,t)),e.patches_&&Uu("Patches").generateReplacementPatches_(n[ai].base_,t,e.patches_,e.inversePatches_)):t=Ev(e,n,[]),vS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==E6?t:void 0}function Ev(t,e,n){if(qb(e))return e;const r=e[ai];if(!r)return wv(e,(i,a)=>B2(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Sv(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),wv(a,(u,f)=>B2(t,r,i,u,f,n,o)),Sv(t,i,!1),n&&t.patches_&&Uu("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function B2(t,e,n,r,i,a,o){if(Vu(i)){const u=a&&e&&e.type_!==3&&!gS(e.assigned_,r)?a.concat(r):void 0,f=Ev(t,i,u);if(A6(n,r,f),Vu(f))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ks(i)&&!qb(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Ev(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(ep(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Sv(t,i)}}function Sv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&KT(e,n)}function NZ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:T6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=HT;n&&(i=[r],a=vm);const{revoke:o,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=o,u}var HT={get(t,e){if(e===ai)return t;const n=su(t);if(!gS(n,e))return OZ(t,n,e);const r=n[e];return t.finalized_||!ks(r)?r:r===Uw(t.base_,e)?(Bw(t),t.copy_[e]=xS(r,t)):r},has(t,e){return e in su(t)},ownKeys(t){return Reflect.ownKeys(su(t))},set(t,e,n){const r=I6(su(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Uw(su(t),e),a=i==null?void 0:i[ai];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(AZ(n,i)&&(n!==void 0||gS(t.base_,e)))return!0;Bw(t),_S(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Uw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Bw(t),_S(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=su(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Yi(11)},getPrototypeOf(t){return Cf(t.base_)},setPrototypeOf(){Yi(12)}},vm={};wv(HT,(t,e)=>{vm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});vm.deleteProperty=function(t,e){return vm.set.call(this,t,e,void 0)};vm.set=function(t,e,n){return HT.set.call(this,t[0],e,n,t[0])};function Uw(t,e){const n=t[ai];return(n?su(n):t)[e]}function OZ(t,e,n){var i;const r=I6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function I6(t,e){if(!(e in t))return;let n=Cf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Cf(n)}}function _S(t){t.modified_||(t.modified_=!0,t.parent_&&_S(t.parent_))}function Bw(t){t.copy_||(t.copy_=yS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var PZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(f=a,...d){return o.produce(f,m=>n.call(this,m,...d))}}typeof n!="function"&&Yi(6),r!==void 0&&typeof r!="function"&&Yi(7);let i;if(ks(e)){const a=V2(this),o=xS(e,void 0);let u=!0;try{i=n(o),u=!1}finally{u?vS(a):bS(a)}return L2(a,r),U2(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===E6&&(i=void 0),this.autoFreeze_&&KT(i,!0),r){const a=[],o=[];Uu("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else Yi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...u)=>this.produceWithPatches(o,f=>e(f,...u));let r,i;return[this.produce(e,n,(o,u)=>{r=o,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ks(t)||Yi(8),Vu(t)&&(t=Ns(t));const e=V2(this),n=xS(t,void 0);return n[ai].isManual_=!0,bS(e),n}finishDraft(t,e){const n=t&&t[ai];(!n||!n.isManual_)&&Yi(9);const{scope_:r}=n;return L2(r,e),U2(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Uu("Patches").applyPatches_;return Vu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function xS(t,e){const n=ep(t)?Uu("MapSet").proxyMap_(t,e):zb(t)?Uu("MapSet").proxySet_(t,e):NZ(t,e);return(e?e.scope_:T6()).drafts_.push(n),n}function Ns(t){return Vu(t)||Yi(10,t),C6(t)}function C6(t){if(!ks(t)||qb(t))return t;const e=t[ai];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=yS(t,e.scope_.immer_.useStrictShallowCopy_)}else n=yS(t,!0);return wv(n,(r,i)=>{A6(n,r,C6(i))}),e&&(e.finalized_=!1),n}var RZ=new PZ,N6=RZ.produce;function O6(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var DZ=O6(),jZ=O6,MZ=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xv:xv.apply(null,arguments)};function Ni(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ni(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>w6(r)&&r.type===t,n}var P6=class Ph extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ph.prototype)}static get[Symbol.species](){return Ph}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ph(...e[0].concat(this)):new Ph(...e.concat(this))}};function z2(t){return ks(t)?N6(t,()=>{}):t}function ay(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function kZ(t){return typeof t=="boolean"}var LZ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e!=null?e:{};let o=new P6;return n&&(kZ(n)?o.push(DZ):o.push(jZ(n.extraArgument))),o},VZ="RTK_autoBatch",q2=t=>e=>{setTimeout(e,t)},UZ=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window!="undefined"&&window.requestAnimationFrame?window.requestAnimationFrame:q2(10):t.type==="callback"?t.queueNotification:q2(t.timeout),d=()=>{o=!1,a&&(a=!1,u.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),y=r.subscribe(p);return u.add(m),()=>{y(),u.delete(m)}},dispatch(m){var p;try{return i=!((p=m==null?void 0:m.meta)!=null&&p[VZ]),a=!i,a&&(o||(o=!0,f(d))),r.dispatch(m)}finally{i=!0}}})},BZ=t=>function(n){const{autoBatch:r=!0}=n!=null?n:{};let i=new P6(t);return r&&i.push(UZ(typeof r=="object"?r:void 0)),i};function zZ(t){const e=LZ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let u;if(typeof n=="function")u=n;else if($T(n))u=x6(n);else throw new Error(ni(1));let f;typeof r=="function"?f=r(e):f=e();let d=xv;i&&(d=MZ({trace:!1,...typeof i=="object"&&i}));const m=EZ(...f),p=BZ(m);let y=typeof o=="function"?o(p):p();const b=d(...y);return _6(u,a,b)}function R6(t){const e={},n=[];let r;const i={addCase(a,o){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(ni(28));if(u in e)throw new Error(ni(29));return e[u]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function qZ(t){return typeof t=="function"}function FZ(t,e){let[n,r,i]=R6(e),a;if(qZ(t))a=()=>z2(t());else{const u=z2(t);a=()=>u}function o(u=a(),f){let d=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[i]),d.reduce((m,p)=>{if(p)if(Vu(m)){const b=p(m,f);return b===void 0?m:b}else{if(ks(m))return N6(m,y=>p(y,f));{const y=p(m,f);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},u)}return o.getInitialState=a,o}var $Z="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",KZ=(t=21)=>{let e="",n=t;for(;n--;)e+=$Z[Math.random()*64|0];return e},HZ=Symbol.for("rtk-slice-createasyncthunk");function GZ(t,e){return`${t}/${e}`}function WZ({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[HZ];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(ni(11));const u=(typeof i.reducers=="function"?i.reducers(QZ()):i.reducers)||{},f=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(k,M){const L=typeof k=="string"?k:k.type;if(!L)throw new Error(ni(12));if(L in d.sliceCaseReducersByType)throw new Error(ni(13));return d.sliceCaseReducersByType[L]=M,m},addMatcher(k,M){return d.sliceMatchers.push({matcher:k,reducer:M}),m},exposeAction(k,M){return d.actionCreators[k]=M,m},exposeCaseReducer(k,M){return d.sliceCaseReducersByName[k]=M,m}};f.forEach(k=>{const M=u[k],L={reducerName:k,type:GZ(a,k),createNotation:typeof i.reducers=="function"};ZZ(M)?eJ(L,M,m,e):XZ(L,M,m)});function p(){const[k={},M=[],L=void 0]=typeof i.extraReducers=="function"?R6(i.extraReducers):[i.extraReducers],R={...k,...d.sliceCaseReducersByType};return FZ(i.initialState,C=>{for(let j in R)C.addCase(j,R[j]);for(let j of d.sliceMatchers)C.addMatcher(j.matcher,j.reducer);for(let j of M)C.addMatcher(j.matcher,j.reducer);L&&C.addDefaultCase(L)})}const y=k=>k,b=new Map,A=new WeakMap;let w;function S(k,M){return w||(w=p()),w(k,M)}function I(){return w||(w=p()),w.getInitialState()}function N(k,M=!1){function L(C){let j=C[k];return typeof j=="undefined"&&M&&(j=ay(A,L,I)),j}function R(C=y){const j=ay(b,M,()=>new WeakMap);return ay(j,C,()=>{var B;const U={};for(const[F,z]of Object.entries((B=i.selectors)!=null?B:{}))U[F]=YZ(z,C,()=>ay(A,C,I),M);return U})}return{reducerPath:k,getSelectors:R,get selectors(){return R(L)},selectSlice:L}}const P={name:a,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:I,...N(o),injectInto(k,{reducerPath:M,...L}={}){const R=M!=null?M:o;return k.inject({reducerPath:R,reducer:S},L),{...P,...N(R,!0)}}};return P}}function YZ(t,e,n,r){function i(a,...o){let u=e(a);return typeof u=="undefined"&&r&&(u=n()),t(u,...o)}return i.unwrapped=t,i}var li=WZ();function QZ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function XZ({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!JZ(r))throw new Error(ni(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?Ni(t,o):Ni(t))}function ZZ(t){return t._reducerDefinitionType==="asyncThunk"}function JZ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function eJ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ni(18));const{payloadCreator:a,fulfilled:o,pending:u,rejected:f,settled:d,options:m}=n,p=i(t,a,m);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),u&&r.addCase(p.pending,u),f&&r.addCase(p.rejected,f),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:o||sy,pending:u||sy,rejected:f||sy,settled:d||sy})}function sy(){}var tJ="task",D6="listener",j6="completed",GT="cancelled",nJ=`task-${GT}`,rJ=`task-${j6}`,wS=`${D6}-${GT}`,iJ=`${D6}-${j6}`,Fb=class{constructor(t){dx(this,"name","TaskAbortError");dx(this,"message");this.code=t,this.message=`${tJ} ${GT} (reason: ${t})`}},WT=(t,e)=>{if(typeof t!="function")throw new TypeError(ni(32))},Av=()=>{},M6=(t,e=Av)=>(t.catch(e),t),k6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),wu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Eu=t=>{if(t.aborted){const{reason:e}=t;throw new Fb(e)}};function L6(t,e){let n=Av;return new Promise((r,i)=>{const a=()=>i(new Fb(t.reason));if(t.aborted){a();return}n=k6(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Av})}var aJ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Fb?"cancelled":"rejected",error:n}}finally{e==null||e()}},Tv=t=>e=>M6(L6(t,e).then(n=>(Eu(t),n))),V6=t=>{const e=Tv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:sf}=Object,F2={},$b="listenerMiddleware",sJ=(t,e)=>{const n=r=>k6(t,()=>wu(r,t.reason));return(r,i)=>{WT(r);const a=new AbortController;n(a);const o=aJ(async()=>{Eu(t),Eu(a.signal);const u=await r({pause:Tv(a.signal),delay:V6(a.signal),signal:a.signal});return Eu(a.signal),u},()=>wu(a,rJ));return i!=null&&i.autoJoin&&e.push(o.catch(Av)),{result:Tv(t)(o),cancel(){wu(a,nJ)}}}},oJ=(t,e)=>{const n=async(r,i)=>{Eu(e);let a=()=>{};const u=[new Promise((f,d)=>{let m=t({predicate:r,effect:(p,y)=>{y.unsubscribe(),f([p,y.getState(),y.getOriginalState()])}});a=()=>{m(),d()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await L6(e,Promise.race(u));return Eu(e),f}finally{a()}};return(r,i)=>M6(n(r,i))},U6=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ni(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ni(21));return WT(a),{predicate:i,type:e,effect:a}},B6=sf(t=>{const{type:e,predicate:n,effect:r}=U6(t);return{id:KZ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ni(22))}}},{withTypes:()=>B6}),$2=(t,e)=>{const{type:n,effect:r,predicate:i}=U6(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},ES=t=>{t.pending.forEach(e=>{wu(e,wS)})},lJ=t=>()=>{t.forEach(ES),t.clear()},K2=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},z6=sf(Ni(`${$b}/add`),{withTypes:()=>z6}),uJ=Ni(`${$b}/removeAll`),q6=sf(Ni(`${$b}/remove`),{withTypes:()=>q6}),cJ=(...t)=>{console.error(`${$b}/error`,...t)},tp=(t={})=>{const e=new Map,{extra:n,onError:r=cJ}=t;WT(r);const i=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&ES(m)}),a=m=>{var y;const p=(y=$2(e,m))!=null?y:B6(m);return i(p)};sf(a,{withTypes:()=>a});const o=m=>{const p=$2(e,m);return p&&(p.unsubscribe(),m.cancelActive&&ES(p)),!!p};sf(o,{withTypes:()=>o});const u=async(m,p,y,b)=>{const A=new AbortController,w=oJ(a,A.signal),S=[];try{m.pending.add(A),await Promise.resolve(m.effect(p,sf({},y,{getOriginalState:b,condition:(I,N)=>w(I,N).then(Boolean),take:w,delay:V6(A.signal),pause:Tv(A.signal),extra:n,signal:A.signal,fork:sJ(A.signal,S),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((I,N,P)=>{I!==A&&(wu(I,wS),P.delete(I))})},cancel:()=>{wu(A,wS),m.pending.delete(A)},throwIfCancelled:()=>{Eu(A.signal)}})))}catch(I){I instanceof Fb||K2(r,I,{raisedBy:"effect"})}finally{await Promise.all(S),wu(A,iJ),m.pending.delete(A)}},f=lJ(e);return{middleware:m=>p=>y=>{if(!w6(y))return p(y);if(z6.match(y))return a(y.payload);if(uJ.match(y)){f();return}if(q6.match(y))return o(y.payload);let b=m.getState();const A=()=>{if(b===F2)throw new Error(ni(23));return b};let w;try{if(w=p(y),e.size>0){const S=m.getState(),I=Array.from(e.values());for(const N of I){let P=!1;try{P=N.predicate(y,S,b)}catch(k){P=!1,K2(r,k,{raisedBy:"predicate"})}P&&u(N,y,m,A)}}}finally{b=F2}return w},startListening:a,stopListening:o,clearListeners:f}};function ni(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var fJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},F6=li({name:"chartLayout",initialState:fJ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:dJ,setLayout:hJ,setChartSize:mJ,setScale:pJ}=F6.actions,gJ=F6.reducer;function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){yJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yJ(t,e,n){return(e=vJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vJ(t){var e=bJ(t,"string");return typeof e=="symbol"?e:e+""}function bJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iv=Math.PI/180,_J=t=>t*180/Math.PI,Cn=(t,e,n,r)=>({x:t+Math.cos(-Iv*r)*n,y:e+Math.sin(-Iv*r)*n}),$6=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xJ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},wJ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=xJ({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var u=(n-i)/o,f=Math.acos(u);return r>a&&(f=2*Math.PI-f),{radius:o,angle:_J(f),angleInRadian:f}},EJ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},SJ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},AJ=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=wJ({x:n,y:r},e),{innerRadius:o,outerRadius:u}=e;if(i<o||i>u||i===0)return null;var{startAngle:f,endAngle:d}=EJ(e),m=a,p;if(f<=d){for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}else{for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}return p?G2(G2({},e),{},{radius:i,angle:SJ(m,e)}):null};function K6(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){TJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TJ(t,e,n){return(e=IJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IJ(t){var e=CJ(t,"string");return typeof e=="symbol"?e:e+""}function CJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lt(t,e,n){return Zt(t)||Zt(e)?n:Fa(e)?Lu(t,e,n):typeof e=="function"?e(t):n}var NJ=(t,e,n,r,i)=>{var a,o=-1,u=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var d=f>0?n[f-1].coordinate:n[u-1].coordinate,m=n[f].coordinate,p=f>=u-1?n[0].coordinate:n[f+1].coordinate,y=void 0;if($n(m-d)!==$n(p-m)){var b=[];if($n(p-m)===$n(i[1]-i[0])){y=p;var A=m+i[1]-i[0];b[0]=Math.min(A,(A+d)/2),b[1]=Math.max(A,(A+d)/2)}else{y=d;var w=p+i[1]-i[0];b[0]=Math.min(m,(w+m)/2),b[1]=Math.max(m,(w+m)/2)}var S=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(t>S[0]&&t<=S[1]||t>=b[0]&&t<=b[1]){({index:o}=n[f]);break}}else{var I=Math.min(d,p),N=Math.max(d,p);if(t>(I+m)/2&&t<=(N+m)/2){({index:o}=n[f]);break}}}else if(e){for(var P=0;P<u;P++)if(P===0&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P>0&&P<u-1&&t>(e[P].coordinate+e[P-1].coordinate)/2&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P===u-1&&t>(e[P].coordinate+e[P-1].coordinate)/2){({index:o}=e[P]);break}}return o},OJ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:u}=e;if((u==="vertical"||u==="horizontal"&&o==="middle")&&a!=="center"&&Le(t[a]))return Ti(Ti({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&o!=="middle"&&Le(t[o]))return Ti(Ti({},t),{},{[o]:t[o]+(i||0)})}return t},yl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",H6=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,o=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||o.push(e),a||o.push(n),o},G6=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:u,isCategorical:f,categoricalDomain:d,tickCount:m,ticks:p,niceTicks:y,axisType:b}=t;if(!o)return null;var A=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/A:0;if(w=b==="angleAxis"&&a&&a.length>=2?$n(a[0]-a[1])*2*w:w,p||y){var S=(p||y||[]).map((I,N)=>{var P=r?r.indexOf(I):I;return{coordinate:o(P)+w,value:I,offset:w,index:N}});return S.filter(I=>!ii(I.coordinate))}return f&&d?d.map((I,N)=>({coordinate:o(I)+w,value:I,index:N,offset:w})):o.ticks&&m!=null?o.ticks(m).map((I,N)=>({coordinate:o(I)+w,value:I,offset:w,index:N})):o.domain().map((I,N)=>({coordinate:o(I)+w,value:r?r[I]:I,index:N,offset:w}))},Y2=1e-4,PJ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-Y2,a=Math.max(r[0],r[1])+Y2,o=t(e[0]),u=t(e[n-1]);(o<i||o>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},RJ=(t,e)=>{if(!e||e.length!==2||!Le(e[0])||!Le(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Le(t[0])||t[0]<n)&&(i[0]=n),(!Le(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},DJ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,o=0;o<e;++o){var u=ii(t[o][n][1])?t[o][n][0]:t[o][n][1];u>=0?(t[o][n][0]=i,t[o][n][1]=i+u,i=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+u,a=t[o][n][1])}},jJ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var o=ii(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},MJ={sign:DJ,expand:cX,none:If,silhouette:fX,wiggle:dX,positive:jJ},kJ=(t,e,n)=>{var r=MJ[n],i=uX().keys(e).value((a,o)=>+Lt(a,o,0)).order(hS).offset(r);return i(t)};function LJ(t){return t==null?void 0:String(t)}function Q2(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Zt(i[e.dataKey])){var u=V4(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var f=Lt(i,Zt(o)?e.dataKey:o);return Zt(f)?null:e.scale(f)}var X2=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var u=Lt(a,e.dataKey,e.scale.domain()[o]);return Zt(u)?null:e.scale(u)-i/2+r},VJ=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},UJ=t=>{var e=t.flat(2).filter(Le);return[Math.min(...e),Math.max(...e)]},BJ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],zJ=(t,e,n)=>{if(t!=null)return BJ(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:o}=a,u=o.reduce((f,d)=>{var m=K6(d,e,n),p=UJ(m);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},Z2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bm=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Ub(e,m=>m.coordinate),a=1/0,o=1,u=i.length;o<u;o++){var f=i[o],d=i[o-1];a=Math.min((f.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function ej(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Ti(Ti({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Yf(t,e){if(t)return String(t);if(typeof e=="string")return e}function qJ(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?AJ({x:t,y:e},r):null}var FJ=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=r;return Ti(Ti(Ti({},r),Cn(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var u=i.coordinate,{angle:f}=r;return Ti(Ti(Ti({},r),Cn(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},$J=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Fs=t=>t.layout.width,$s=t=>t.layout.height,KJ=t=>t.layout.scale,W6=t=>t.layout.margin,Kb=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Hb=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Y6="data-recharts-item-index",Q6="data-recharts-item-data-key",np=60;function tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(n),!0).forEach(function(r){HJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HJ(t,e,n){return(e=GJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GJ(t){var e=WJ(t,"string");return typeof e=="symbol"?e:e+""}function WJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YJ=t=>t.brush.height;function QJ(t){var e=Hb(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:np;return n+i}return n},0)}function XJ(t){var e=Hb(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:np;return n+i}return n},0)}function ZJ(t){var e=Kb(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function JJ(t){var e=Kb(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Mn=re([Fs,$s,W6,YJ,QJ,XJ,ZJ,JJ,v6,gZ],(t,e,n,r,i,a,o,u,f,d)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+u},y=oy(oy({},p),m),b=y.bottom;y.bottom+=r,y=OJ(y,f,d);var A=t-y.left-y.right,w=e-y.top-y.bottom;return oy(oy({brushBottom:b},y),{},{width:Math.max(A,0),height:Math.max(w,0)})}),eee=re(Mn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),YT=re(Fs,$s,(t,e)=>({x:0,y:0,width:t,height:e})),tee=E.createContext(null),jr=()=>E.useContext(tee)!=null,Gb=t=>t.brush,Wb=re([Gb,Mn,W6],(t,e,n)=>({height:t.height,x:Le(t.x)?t.x:e.left,y:Le(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Le(t.width)?t.width:e.width})),QT=()=>{var t,e=jr(),n=De(eee),r=De(Wb),i=(t=De(Gb))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},nee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},X6=()=>{var t;return(t=De(Mn))!==null&&t!==void 0?t:nee},XT=()=>De(Fs),ZT=()=>De($s),ree=()=>De(t=>t.layout.margin),dt=t=>t.layout.layoutType,Yb=()=>De(dt),iee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Z6=li({name:"legend",initialState:iee,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Ns(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:nj,setLegendSettings:aee,addLegendPayload:J6,removeLegendPayload:eU}=Z6.actions,see=Z6.reducer,oee=["contextPayload"];function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SS.apply(null,arguments)}function rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rj(Object(n),!0).forEach(function(r){JT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JT(t,e,n){return(e=lee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lee(t){var e=uee(t,"string");return typeof e=="symbol"?e:e+""}function uee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cee(t,e){if(t==null)return{};var n,r,i=fee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dee(t){return t.value}function hee(t){var{contextPayload:e}=t,n=cee(t,oee),r=m6(e,t.payloadUniqBy,dee),i=Nf(Nf({},n),{},{payload:r});return E.isValidElement(t.content)?E.cloneElement(t.content,i):typeof t.content=="function"?E.createElement(t.content,i):E.createElement(BT,i)}function mee(t,e,n,r,i,a){var{layout:o,align:u,verticalAlign:f}=e,d,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&o==="vertical"?d={left:((r||0)-a.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?m={top:((i||0)-a.height)/2}:m=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Nf(Nf({},d),m)}function pee(t){var e=rn();return E.useEffect(()=>{e(aee(t))},[e,t]),null}function gee(t){var e=rn();return E.useEffect(()=>(e(nj(t)),()=>{e(nj({width:0,height:0}))}),[e,t]),null}function yee(t){var e=bZ(),n=DQ(),r=ree(),{width:i,height:a,wrapperStyle:o,portal:u}=t,[f,d]=b6([e]),m=XT(),p=ZT();if(m==null||p==null)return null;var y=m-(r.left||0)-(r.right||0),b=_m.getWidthOrHeight(t.layout,a,i,y),A=u?o:Nf(Nf({position:"absolute",width:(b==null?void 0:b.width)||i||"auto",height:(b==null?void 0:b.height)||a||"auto"},mee(o,t,r,m,p,f)),o),w=u!=null?u:n;if(w==null)return null;var S=E.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:d},E.createElement(pee,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),E.createElement(gee,{width:f.width,height:f.height}),E.createElement(hee,SS({},t,b,{margin:r,chartWidth:m,chartHeight:p,contextPayload:e})));return Hk.createPortal(S,w)}class _m extends E.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Le(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return E.createElement(yee,this.props)}}JT(_m,"displayName","Legend");JT(_m,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AS.apply(null,arguments)}function ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(n),!0).forEach(function(r){vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vee(t,e,n){return(e=bee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bee(t){var e=_ee(t,"string");return typeof e=="symbol"?e:e+""}function _ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xee(t){return Array.isArray(t)&&Fa(t[0])&&Fa(t[1])?t.join(" ~ "):t}var wee=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:u,wrapperClassName:f,labelClassName:d,label:m,labelFormatter:p,accessibilityLayer:y=!1}=t,b=()=>{if(a&&a.length){var M={padding:0,margin:0},L=(u?Ub(a,u):a).map((R,C)=>{if(R.type==="none")return null;var j=R.formatter||o||xee,{value:U,name:B}=R,F=U,z=B;if(j){var pe=j(U,B,R,C,a);if(Array.isArray(pe))[F,z]=pe;else if(pe!=null)F=pe;else return null}var we=zw({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:we},Fa(z)?E.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Fa(z)?E.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,E.createElement("span",{className:"recharts-tooltip-item-value"},F),E.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:M},L)}return null},A=zw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=zw({margin:0},i),S=!Zt(m),I=S?m:"",N=pt("recharts-default-tooltip",f),P=pt("recharts-tooltip-label",d);S&&p&&a!==void 0&&a!==null&&(I=p(m,a));var k=y?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",AS({className:N,style:A},k),E.createElement("p",{className:P,style:w},E.isValidElement(I)?I:"".concat(I)),b())},hh="recharts-tooltip-wrapper",Eee={visibility:"hidden"};function See(t){var{coordinate:e,translateX:n,translateY:r}=t;return pt(hh,{["".concat(hh,"-right")]:Le(n)&&e&&Le(e.x)&&n>=e.x,["".concat(hh,"-left")]:Le(n)&&e&&Le(e.x)&&n<e.x,["".concat(hh,"-bottom")]:Le(r)&&e&&Le(e.y)&&r>=e.y,["".concat(hh,"-top")]:Le(r)&&e&&Le(e.y)&&r<e.y})}function aj(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:u,viewBox:f,viewBoxDimension:d}=t;if(a&&Le(a[r]))return a[r];var m=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return o[r]?m:p;var y=f[r];if(y==null)return 0;if(o[r]){var b=m,A=y;return b<A?Math.max(p,y):Math.max(m,y)}if(d==null)return 0;var w=p+u,S=y+d;return w>S?Math.max(m,y):Math.max(p,y)}function Aee(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Tee(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:u,viewBox:f}=t,d,m,p;return o.height>0&&o.width>0&&n?(m=aj({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:f,viewBoxDimension:f.width}),p=aj({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:f,viewBoxDimension:f.height}),d=Aee({translateX:m,translateY:p,useTranslate3d:u})):d=Eee,{cssProperties:d,cssClasses:See({translateX:m,translateY:p,coordinate:n})}}function sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(n),!0).forEach(function(r){TS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TS(t,e,n){return(e=Iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iee(t){var e=Cee(t,"string");return typeof e=="symbol"?e:e+""}function Cee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Nee extends E.PureComponent{constructor(){super(...arguments),TS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),TS(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:u,isAnimationActive:f,offset:d,position:m,reverseDirection:p,useTranslate3d:y,viewBox:b,wrapperStyle:A,lastBoundingBox:w,innerRef:S,hasPortalFromProps:I}=this.props,{cssClasses:N,cssProperties:P}=Tee({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:m,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:b}),k=I?{}:ly(ly({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=ly(ly({},k),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},A);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:M,ref:S},a)}}var Oee=()=>!(typeof window!="undefined"&&window.document&&window.document.createElement&&window.setTimeout),vl={devToolsEnabled:!1,isSsr:Oee()},tU=()=>De(t=>t.rootProps.accessibilityLayer);function si(t){return Number.isFinite(t)}function Of(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IS.apply(null,arguments)}function oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(n),!0).forEach(function(r){Pee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pee(t,e,n){return(e=Ree(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ree(t){var e=Dee(t,"string");return typeof e=="symbol"?e:e+""}function Dee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uj={curveBasisClosed:ZQ,curveBasisOpen:JQ,curveBasis:XQ,curveBumpX:LQ,curveBumpY:VQ,curveLinearClosed:eX,curveLinear:Lb,curveMonotoneX:tX,curveMonotoneY:nX,curveNatural:rX,curveStep:iX,curveStepAfter:sX,curveStepBefore:aX},uy=t=>si(t.x)&&si(t.y),mh=t=>t.x,ph=t=>t.y,jee=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Zm(t));return(n==="curveMonotone"||n==="curveBump")&&e?uj["".concat(n).concat(e==="vertical"?"Y":"X")]:uj[n]||Lb},Mee=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=jee(e,i),u=a?n.filter(uy):n,f;if(Array.isArray(r)){var d=a?r.filter(p=>uy(p)):r,m=u.map((p,y)=>lj(lj({},p),{},{base:d[y]}));return i==="vertical"?f=ty().y(ph).x1(mh).x0(p=>p.base.x):f=ty().x(mh).y1(ph).y0(p=>p.base.y),f.defined(uy).curve(o),f(m)}return i==="vertical"&&Le(r)?f=ty().y(ph).x1(mh).x0(r):Le(r)?f=ty().x(mh).y1(ph).y0(r):f=W4().x(mh).y(ph),f.defined(uy).curve(o),f(u)},e1=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Mee(t):r;return E.createElement("path",IS({},Ya(t),RT(t),{className:pt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},kee=["x","y","top","left","width","height","className"];function CS(){return CS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CS.apply(null,arguments)}function cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cj(Object(n),!0).forEach(function(r){Vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vee(t,e,n){return(e=Uee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uee(t){var e=Bee(t,"string");return typeof e=="symbol"?e:e+""}function Bee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zee(t,e){if(t==null)return{};var n,r,i=qee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fee=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),$ee=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:u}=t,f=zee(t,kee),d=Lee({x:e,y:n,top:r,left:i,width:a,height:o},f);return!Le(e)||!Le(n)||!Le(a)||!Le(o)||!Le(r)||!Le(i)?null:E.createElement("path",CS({},nn(d,!0),{className:pt("recharts-cross",u),d:Fee(e,n,a,o,r,i)}))};function Kee(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(n),!0).forEach(function(r){Gee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gee(t,e,n){return(e=Wee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wee(t){var e=Yee(t,"string");return typeof e=="symbol"?e:e+""}function Yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function or(t,e){var n=Hee({},t),r=e,i=Object.keys(e),a=i.reduce((o,u)=>(o[u]===void 0&&r[u]!==void 0&&(o[u]=r[u]),o),n);return a}function Qee(){}function dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(n),!0).forEach(function(r){Xee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xee(t,e,n){return(e=Zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zee(t){var e=Jee(t,"string");return typeof e=="symbol"?e:e+""}function Jee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ete=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),nU=(t,e,n)=>t.map(r=>"".concat(ete(r)," ").concat(e,"ms ").concat(n)).join(","),tte=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),xm=(t,e)=>Object.keys(e).reduce((n,r)=>hj(hj({},n),{},{[r]:t(r,e[r])}),{});function mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mj(Object(n),!0).forEach(function(r){nte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nte(t,e,n){return(e=rte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rte(t){var e=ite(t,"string");return typeof e=="symbol"?e:e+""}function ite(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cv=(t,e,n)=>t+(e-t)*n,NS=t=>{var{from:e,to:n}=t;return e!==n},rU=(t,e,n)=>{var r=xm((i,a)=>{if(NS(a)){var[o,u]=t(a.from,a.to,a.velocity);return ir(ir({},a),{},{from:o,velocity:u})}return a},e);return n<1?xm((i,a)=>NS(a)?ir(ir({},a),{},{velocity:Cv(a.velocity,r[i].velocity,n),from:Cv(a.from,r[i].from,n)}):a,e):rU(t,r,n-1)};function ate(t,e,n,r,i,a){var o,u=r.reduce((y,b)=>ir(ir({},y),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>xm((y,b)=>b.from,u),d=()=>!Object.values(u).filter(NS).length,m=null,p=y=>{o||(o=y);var b=y-o,A=b/n.dt;u=rU(n,u,A),i(ir(ir(ir({},t),e),f())),o=y,d()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{m()})}function ste(t,e,n,r,i,a,o){var u=null,f=i.reduce((p,y)=>ir(ir({},p),{},{[y]:[t[y],e[y]]}),{}),d,m=p=>{d||(d=p);var y=(p-d)/r,b=xm((w,S)=>Cv(...S,n(y)),f);if(a(ir(ir(ir({},t),e),b)),y<1)u=o.setTimeout(m);else{var A=xm((w,S)=>Cv(...S,n(1)),f);a(ir(ir(ir({},t),e),A))}};return()=>(u=o.setTimeout(m),()=>{u()})}const ote=(t,e,n,r,i,a)=>{var o=tte(t,e);return n.isStepper===!0?ate(t,e,n,o,i,a):ste(t,e,n,r,o,i,a)};var Nv=1e-4,iU=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],aU=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),pj=(t,e)=>n=>{var r=iU(t,e);return aU(r,n)},lte=(t,e)=>n=>{var r=iU(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return aU(i,n)},gj=function(){for(var e,n,r,i,a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=o[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(A=>parseFloat(A)))}}else o.length===4&&([e,r,n,i]=o);var d=pj(e,n),m=pj(r,i),p=lte(e,n),y=A=>A>1?1:A<0?0:A,b=A=>{for(var w=A>1?1:A,S=w,I=0;I<8;++I){var N=d(S)-w,P=p(S);if(Math.abs(N-w)<Nv||P<Nv)return m(S);S=y(S-N/P)}return m(S)};return b.isStepper=!1,b},ute=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,u,f)=>{var d=-(o-u)*n,m=f*r,p=f+(d-m)*i/1e3,y=f*i/1e3+o;return Math.abs(y-u)<Nv&&Math.abs(p)<Nv?[u,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},cte=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gj(t);case"spring":return ute();default:if(t.split("(")[0]==="cubic-bezier")return gj(t)}return typeof t=="function"?t:null};function fte(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var u=o,[f,...d]=u;if(typeof f=="number"){i=t.setTimeout(a.bind(null,d),f);return}a(f),i=t.setTimeout(a.bind(null,d));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class dte{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function hte(){return fte(new dte)}var mte=E.createContext(hte);function pte(t,e){var n=E.useContext(mte);return E.useMemo(()=>e!=null?e:n(t),[t,e,n])}var gte={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yj={t:0},qw={t:1};function rp(t){var e=or(t,gte),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:u,onAnimationStart:f,children:d}=e,m=pte(e.animationId,e.animationManager),[p,y]=E.useState(n?yj:qw),b=E.useRef(null);return E.useEffect(()=>{n||y(qw)},[n]),E.useEffect(()=>{if(!n||!r)return Qee;var A=ote(yj,qw,cte(a),i,y,m.getTimeoutController()),w=()=>{b.current=A()};return m.start([f,o,w,i,u]),()=>{m.stop(),b.current&&b.current(),u()}},[n,r,i,a,o,f,u,m]),d(p.t)}function ip(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=E.useRef(gm(e)),r=E.useRef(t);return r.current!==t&&(n.current=gm(e),r.current=t),n.current}function vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(n),!0).forEach(function(r){yte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yte(t,e,n){return(e=vte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vte(t){var e=bte(t,"string");return typeof e=="symbol"?e:e+""}function bte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(null,arguments)}var _j=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,y=4;p<y;p++)m[p]=i[p]>a?a:i[p];d="M".concat(t,",").concat(e+o*m[0]),m[0]>0&&(d+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+u*m[0],",").concat(e)),d+="L ".concat(t+n-u*m[1],",").concat(e),m[1]>0&&(d+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+o*m[1])),d+="L ".concat(t+n,",").concat(e+r-o*m[2]),m[2]>0&&(d+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-u*m[2],",").concat(e+r)),d+="L ".concat(t+u*m[3],",").concat(e+r),m[3]>0&&(d+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-o*m[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);d="M ".concat(t,",").concat(e+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+u*b,",").concat(e,`
            L `).concat(t+n-u*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(e+o*b,`
            L `).concat(t+n,",").concat(e+r-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-u*b,",").concat(e+r,`
            L `).concat(t+u*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+r-o*b," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},_te={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sU=t=>{var e=or(t,_te),n=E.useRef(null),[r,i]=E.useState(-1);E.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var pe=n.current.getTotalLength();pe&&i(pe)}catch(we){}},[]);var{x:a,y:o,width:u,height:f,radius:d,className:m}=e,{animationEasing:p,animationDuration:y,animationBegin:b,isAnimationActive:A,isUpdateAnimationActive:w}=e,S=E.useRef(u),I=E.useRef(f),N=E.useRef(a),P=E.useRef(o),k=E.useMemo(()=>({x:a,y:o,width:u,height:f,radius:d}),[a,o,u,f,d]),M=ip(k,"rectangle-");if(a!==+a||o!==+o||u!==+u||f!==+f||u===0||f===0)return null;var L=pt("recharts-rectangle",m);if(!w)return E.createElement("path",Ov({},nn(e,!0),{className:L,d:_j(a,o,u,f,d)}));var R=S.current,C=I.current,j=N.current,U=P.current,B="0px ".concat(r===-1?1:r,"px"),F="".concat(r,"px 0px"),z=nU(["strokeDasharray"],y,typeof p=="string"?p:void 0);return E.createElement(rp,{animationId:M,key:M,canBegin:r>0,duration:y,easing:p,isActive:w,begin:b},pe=>{var we=on(R,u,pe),W=on(C,f,pe),oe=on(j,a,pe),ye=on(U,o,pe);n.current&&(S.current=we,I.current=W,N.current=oe,P.current=ye);var xe;return A?pe>0?xe={transition:z,strokeDasharray:F}:xe={strokeDasharray:B}:xe={strokeDasharray:F},E.createElement("path",Ov({},nn(e,!0),{className:L,d:_j(oe,ye,we,W,d),ref:n,style:bj(bj({},xe),e.style)}))})};function oU(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=Cn(e,n,r,i),u=Cn(e,n,r,a);return{points:[o,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function OS(){return OS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OS.apply(null,arguments)}var xte=(t,e)=>{var n=$n(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},cy=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:u,cornerIsExternal:f}=t,d=u*(o?1:-1)+r,m=Math.asin(u/d)/Iv,p=f?i:i+a*m,y=Cn(e,n,d,p),b=Cn(e,n,r,p),A=f?i-a*m:i,w=Cn(e,n,d*Math.cos(m*Iv),A);return{center:y,circleTangency:b,lineTangency:w,theta:m}},lU=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,u=xte(a,o),f=a+u,d=Cn(e,n,i,a),m=Cn(e,n,i,f),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var y=Cn(e,n,r,a),b=Cn(e,n,r,f);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},wte=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:d}=t,m=$n(d-f),{circleTangency:p,lineTangency:y,theta:b}=cy({cx:e,cy:n,radius:i,angle:f,sign:m,cornerRadius:a,cornerIsExternal:u}),{circleTangency:A,lineTangency:w,theta:S}=cy({cx:e,cy:n,radius:i,angle:d,sign:-m,cornerRadius:a,cornerIsExternal:u}),I=u?Math.abs(f-d):Math.abs(f-d)-b-S;if(I<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):lU({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var N="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:k,theta:M}=cy({cx:e,cy:n,radius:r,angle:f,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:L,lineTangency:R,theta:C}=cy({cx:e,cy:n,radius:r,angle:d,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),j=u?Math.abs(f-d):Math.abs(f-d)-M-C;if(j<0&&a===0)return"".concat(N,"L").concat(e,",").concat(n,"Z");N+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(j>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,"Z")}else N+="L".concat(e,",").concat(n,"Z");return N},Ete={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uU=t=>{var e=or(t,Ete),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:m,className:p}=e;if(a<i||d===m)return null;var y=pt("recharts-sector",p),b=a-i,A=gr(o,b,0,!0),w;return A>0&&Math.abs(d-m)<360?w=wte({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(A,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:m}):w=lU({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:m}),E.createElement("path",OS({},nn(e,!0),{className:y,d:w}))};function Ste(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:f,innerRadius:d,outerRadius:m,angle:p}=e,y=Cn(u,f,d,p),b=Cn(u,f,m,p);r=y.x,i=y.y,a=b.x,o=b.y}else return oU(e);return[{x:r,y:i},{x:a,y:o}]}var Fw={},$w={},Kw={},xj;function Ate(){return xj||(xj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Kw)),Kw}var wj;function Tte(){return wj||(wj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ate();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})($w)),$w}var Ej;function Ite(){return Ej||(Ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y6(),n=Tte();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const u=Math.max(Math.ceil((a-i)/(o||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=i,i+=o;return f}t.range=r})(Fw)),Fw}var Hw,Sj;function Cte(){return Sj||(Sj=1,Hw=Ite().range),Hw}var Nte=Cte();const cU=Ka(Nte);function Yo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ote(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function t1(t){let e,n,r;t.length!==2?(e=Yo,n=(u,f)=>Yo(t(u),f),r=(u,f)=>t(u)-f):(e=t===Yo||t===Ote?t:Pte,n=t,r=t);function i(u,f,d=0,m=u.length){if(d<m){if(e(f,f)!==0)return m;do{const p=d+m>>>1;n(u[p],f)<0?d=p+1:m=p}while(d<m)}return d}function a(u,f,d=0,m=u.length){if(d<m){if(e(f,f)!==0)return m;do{const p=d+m>>>1;n(u[p],f)<=0?d=p+1:m=p}while(d<m)}return d}function o(u,f,d=0,m=u.length){const p=i(u,f,d,m-1);return p>d&&r(u[p-1],f)>-r(u[p],f)?p-1:p}return{left:i,center:o,right:a}}function Pte(){return 0}function fU(t){return t===null?NaN:+t}function*Rte(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Dte=t1(Yo),ap=Dte.right;t1(fU).center;class Aj extends Map{constructor(e,n=kte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Tj(this,e))}has(e){return super.has(Tj(this,e))}set(e,n){return super.set(jte(this,e),n)}delete(e){return super.delete(Mte(this,e))}}function Tj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jte({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Mte({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function kte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Lte(t=Yo){if(t===Yo)return dU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function dU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Vte=Math.sqrt(50),Ute=Math.sqrt(10),Bte=Math.sqrt(2);function Pv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Vte?10:a>=Ute?5:a>=Bte?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/o,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*o,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?Pv(t,e,n*2):[u,f,d]}function PS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Pv(e,t,n):Pv(t,e,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(o<0)for(let d=0;d<u;++d)f[d]=(a-d)/-o;else for(let d=0;d<u;++d)f[d]=(a-d)*o;else if(o<0)for(let d=0;d<u;++d)f[d]=(i+d)/-o;else for(let d=0;d<u;++d)f[d]=(i+d)*o;return f}function RS(t,e,n){return e=+e,t=+t,n=+n,Pv(t,e,n)[2]}function DS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?RS(e,t,n):RS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Ij(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Cj(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function hU(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?dU:Lte(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,m=Math.log(f),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(f-p)/f)*(d-f/2<0?-1:1),b=Math.max(n,Math.floor(e-d*p/f+y)),A=Math.min(r,Math.floor(e+(f-d)*p/f+y));hU(t,e,b,A,i)}const a=t[e];let o=n,u=r;for(gh(t,n,e),i(t[r],a)>0&&gh(t,n,r);o<u;){for(gh(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?gh(t,n,u):(++u,gh(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function gh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function zte(t,e,n){if(t=Float64Array.from(Rte(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Cj(t);if(e>=1)return Ij(t);var r,i=(r-1)*e,a=Math.floor(i),o=Ij(hU(t,a).subarray(0,a+1)),u=Cj(t.subarray(a+1));return o+(u-o)*(i-a)}}function qte(t,e,n=fU){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function Fte(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Pi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ks(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const jS=Symbol("implicit");function n1(){var t=new Aj,e=[],n=[],r=jS;function i(a){let o=t.get(a);if(o===void 0){if(r!==jS)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Aj;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return n1(e,n).unknown(r)},Pi.apply(i,arguments),i}function r1(){var t=n1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,u=!1,f=0,d=0,m=.5;delete t.unknown;function p(){var y=e().length,b=i<r,A=b?i:r,w=b?r:i;a=(w-A)/Math.max(1,y-f+d*2),u&&(a=Math.floor(a)),A+=(w-A-a*(y-f))*m,o=a*(1-f),u&&(A=Math.round(A),o=Math.round(o));var S=Fte(y).map(function(I){return A+a*I});return n(b?S.reverse():S)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,p()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,d=+y),p()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),p()):f},t.paddingOuter=function(y){return arguments.length?(d=+y,p()):d},t.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),p()):m},t.copy=function(){return r1(e(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(m)},Pi.apply(p(),arguments)}function mU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return mU(e())},t}function $te(){return mU(r1.apply(null,arguments).paddingInner(1))}function i1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function pU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function sp(){}var wm=.7,Rv=1/wm,of="\\s*([+-]?\\d+)\\s*",Em="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kte=/^#([0-9a-f]{3,8})$/,Hte=new RegExp(`^rgb\\(${of},${of},${of}\\)$`),Gte=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),Wte=new RegExp(`^rgba\\(${of},${of},${of},${Em}\\)$`),Yte=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${Em}\\)$`),Qte=new RegExp(`^hsl\\(${Em},${Ba},${Ba}\\)$`),Xte=new RegExp(`^hsla\\(${Em},${Ba},${Ba},${Em}\\)$`),Nj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};i1(sp,Sm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Oj,formatHex:Oj,formatHex8:Zte,formatHsl:Jte,formatRgb:Pj,toString:Pj});function Oj(){return this.rgb().formatHex()}function Zte(){return this.rgb().formatHex8()}function Jte(){return gU(this).formatHsl()}function Pj(){return this.rgb().formatRgb()}function Sm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Kte.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Rj(e):n===3?new Dr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Hte.exec(t))?new Dr(e[1],e[2],e[3],1):(e=Gte.exec(t))?new Dr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Wte.exec(t))?fy(e[1],e[2],e[3],e[4]):(e=Yte.exec(t))?fy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Qte.exec(t))?Mj(e[1],e[2]/100,e[3]/100,1):(e=Xte.exec(t))?Mj(e[1],e[2]/100,e[3]/100,e[4]):Nj.hasOwnProperty(t)?Rj(Nj[t]):t==="transparent"?new Dr(NaN,NaN,NaN,0):null}function Rj(t){return new Dr(t>>16&255,t>>8&255,t&255,1)}function fy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dr(t,e,n,r)}function ene(t){return t instanceof sp||(t=Sm(t)),t?(t=t.rgb(),new Dr(t.r,t.g,t.b,t.opacity)):new Dr}function MS(t,e,n,r){return arguments.length===1?ene(t):new Dr(t,e,n,r==null?1:r)}function Dr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}i1(Dr,MS,pU(sp,{brighter(t){return t=t==null?Rv:Math.pow(Rv,t),new Dr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wm:Math.pow(wm,t),new Dr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Dr(Su(this.r),Su(this.g),Su(this.b),Dv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dj,formatHex:Dj,formatHex8:tne,formatRgb:jj,toString:jj}));function Dj(){return`#${gu(this.r)}${gu(this.g)}${gu(this.b)}`}function tne(){return`#${gu(this.r)}${gu(this.g)}${gu(this.b)}${gu((isNaN(this.opacity)?1:this.opacity)*255)}`}function jj(){const t=Dv(this.opacity);return`${t===1?"rgb(":"rgba("}${Su(this.r)}, ${Su(this.g)}, ${Su(this.b)}${t===1?")":`, ${t})`}`}function Dv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Su(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gu(t){return t=Su(t),(t<16?"0":"")+t.toString(16)}function Mj(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qi(t,e,n,r)}function gU(t){if(t instanceof Qi)return new Qi(t.h,t.s,t.l,t.opacity);if(t instanceof sp||(t=Sm(t)),!t)return new Qi;if(t instanceof Qi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,f=(a+i)/2;return u?(e===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-e)/u+2:o=(e-n)/u+4,u/=f<.5?a+i:2-a-i,o*=60):u=f>0&&f<1?0:o,new Qi(o,u,f,t.opacity)}function nne(t,e,n,r){return arguments.length===1?gU(t):new Qi(t,e,n,r==null?1:r)}function Qi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}i1(Qi,nne,pU(sp,{brighter(t){return t=t==null?Rv:Math.pow(Rv,t),new Qi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wm:Math.pow(wm,t),new Qi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Dr(Gw(t>=240?t-240:t+120,i,r),Gw(t,i,r),Gw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Qi(kj(this.h),dy(this.s),dy(this.l),Dv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dv(this.opacity);return`${t===1?"hsl(":"hsla("}${kj(this.h)}, ${dy(this.s)*100}%, ${dy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function kj(t){return t=(t||0)%360,t<0?t+360:t}function dy(t){return Math.max(0,Math.min(1,t||0))}function Gw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const a1=t=>()=>t;function rne(t,e){return function(n){return t+n*e}}function ine(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ane(t){return(t=+t)==1?yU:function(e,n){return n-e?ine(e,n,t):a1(isNaN(e)?n:e)}}function yU(t,e){var n=e-t;return n?rne(t,n):a1(isNaN(t)?e:t)}const Lj=(function t(e){var n=ane(e);function r(i,a){var o=n((i=MS(i)).r,(a=MS(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),d=yU(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=u(m),i.b=f(m),i.opacity=d(m),i+""}}return r.gamma=t,r})(1);function sne(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function one(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lne(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Qf(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function une(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function jv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function cne(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Qf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var kS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ww=new RegExp(kS.source,"g");function fne(t){return function(){return t}}function dne(t){return function(e){return t(e)+""}}function hne(t,e){var n=kS.lastIndex=Ww.lastIndex=0,r,i,a,o=-1,u=[],f=[];for(t=t+"",e=e+"";(r=kS.exec(t))&&(i=Ww.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,f.push({i:o,x:jv(r,i)})),n=Ww.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?f[0]?dne(f[0].x):fne(e):(e=f.length,function(d){for(var m=0,p;m<e;++m)u[(p=f[m]).i]=p.x(d);return u.join("")})}function Qf(t,e){var n=typeof e,r;return e==null||n==="boolean"?a1(e):(n==="number"?jv:n==="string"?(r=Sm(e))?(e=r,Lj):hne:e instanceof Sm?Lj:e instanceof Date?une:one(e)?sne:Array.isArray(e)?lne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cne:jv)(t,e)}function s1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function mne(t,e){e===void 0&&(e=t,t=Qf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[u](o-u)}}function pne(t){return function(){return t}}function Mv(t){return+t}var Vj=[0,1];function _r(t){return t}function LS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:pne(isNaN(e)?NaN:.5)}function gne(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function yne(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=LS(i,r),a=n(o,a)):(r=LS(r,i),a=n(a,o)),function(u){return a(r(u))}}function vne(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=LS(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(u){var f=ap(t,u,1,r)-1;return a[f](i[f](u))}}function op(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qb(){var t=Vj,e=Vj,n=Qf,r,i,a,o=_r,u,f,d;function m(){var y=Math.min(t.length,e.length);return o!==_r&&(o=gne(t[0],t[y-1])),u=y>2?vne:yne,f=d=null,p}function p(y){return y==null||isNaN(y=+y)?a:(f||(f=u(t.map(r),e,n)))(r(o(y)))}return p.invert=function(y){return o(i((d||(d=u(e,t.map(r),jv)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Mv),m()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),m()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=s1,m()},p.clamp=function(y){return arguments.length?(o=y?!0:_r,m()):o!==_r},p.interpolate=function(y){return arguments.length?(n=y,m()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,b){return r=y,i=b,m()}}function o1(){return Qb()(_r,_r)}function bne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function kv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Pf(t){return t=kv(Math.abs(t)),t?t[1]:NaN}function _ne(t,e){return function(n,r){for(var i=n.length,a=[],o=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function xne(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var wne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Am(t){if(!(e=wne.exec(t)))throw new Error("invalid format: "+t);var e;return new l1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Am.prototype=l1.prototype;function l1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}l1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ene(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var vU;function Sne(t,e){var n=kv(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(vU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+kv(t,Math.max(0,e+a-1))[0]}function Uj(t,e){var n=kv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Bj={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Uj(t*100,e),r:Uj,s:Sne,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zj(t){return t}var qj=Array.prototype.map,Fj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ane(t){var e=t.grouping===void 0||t.thousands===void 0?zj:_ne(qj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?zj:xne(qj.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(p){p=Am(p);var y=p.fill,b=p.align,A=p.sign,w=p.symbol,S=p.zero,I=p.width,N=p.comma,P=p.precision,k=p.trim,M=p.type;M==="n"?(N=!0,M="g"):Bj[M]||(P===void 0&&(P=12),k=!0,M="g"),(S||y==="0"&&b==="=")&&(S=!0,y="0",b="=");var L=w==="$"?n:w==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",R=w==="$"?r:/[%p]/.test(M)?o:"",C=Bj[M],j=/[defgprs%]/.test(M);P=P===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function U(B){var F=L,z=R,pe,we,W;if(M==="c")z=C(B)+z,B="";else{B=+B;var oe=B<0||1/B<0;if(B=isNaN(B)?f:C(Math.abs(B),P),k&&(B=Ene(B)),oe&&+B==0&&A!=="+"&&(oe=!1),F=(oe?A==="("?A:u:A==="-"||A==="("?"":A)+F,z=(M==="s"?Fj[8+vU/3]:"")+z+(oe&&A==="("?")":""),j){for(pe=-1,we=B.length;++pe<we;)if(W=B.charCodeAt(pe),48>W||W>57){z=(W===46?i+B.slice(pe+1):B.slice(pe))+z,B=B.slice(0,pe);break}}}N&&!S&&(B=e(B,1/0));var ye=F.length+B.length+z.length,xe=ye<I?new Array(I-ye+1).join(y):"";switch(N&&S&&(B=e(xe+B,xe.length?I-z.length:1/0),xe=""),b){case"<":B=F+B+z+xe;break;case"=":B=F+xe+B+z;break;case"^":B=xe.slice(0,ye=xe.length>>1)+F+B+z+xe.slice(ye);break;default:B=xe+F+B+z;break}return a(B)}return U.toString=function(){return p+""},U}function m(p,y){var b=d((p=Am(p),p.type="f",p)),A=Math.max(-8,Math.min(8,Math.floor(Pf(y)/3)))*3,w=Math.pow(10,-A),S=Fj[8+A/3];return function(I){return b(w*I)+S}}return{format:d,formatPrefix:m}}var hy,u1,bU;Tne({thousands:",",grouping:[3],currency:["$",""]});function Tne(t){return hy=Ane(t),u1=hy.format,bU=hy.formatPrefix,hy}function Ine(t){return Math.max(0,-Pf(Math.abs(t)))}function Cne(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pf(e)/3)))*3-Pf(Math.abs(t)))}function Nne(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Pf(e)-Pf(t))+1}function _U(t,e,n,r){var i=DS(t,e,n),a;switch(r=Am(r==null?",f":r),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Cne(i,o))&&(r.precision=a),bU(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Nne(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Ine(i))&&(r.precision=a-(r.type==="%")*2);break}}return u1(r)}function bl(t){var e=t.domain;return t.ticks=function(n){var r=e();return PS(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return _U(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],u=r[a],f,d,m=10;for(u<o&&(d=o,o=u,u=d,d=i,i=a,a=d);m-- >0;){if(d=RS(o,u,n),d===f)return r[i]=o,r[a]=u,e(r);if(d>0)o=Math.floor(o/d)*d,u=Math.ceil(u/d)*d;else if(d<0)o=Math.ceil(o*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function xU(){var t=o1();return t.copy=function(){return op(t,xU())},Pi.apply(t,arguments),bl(t)}function wU(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Mv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return wU(t).unknown(e)},t=arguments.length?Array.from(t,Mv):[0,1],bl(n)}function EU(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function $j(t){return Math.log(t)}function Kj(t){return Math.exp(t)}function One(t){return-Math.log(-t)}function Pne(t){return-Math.exp(-t)}function Rne(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Dne(t){return t===10?Rne:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Hj(t){return(e,n)=>-t(-e,n)}function c1(t){const e=t($j,Kj),n=e.domain;let r=10,i,a;function o(){return i=jne(r),a=Dne(r),n()[0]<0?(i=Hj(i),a=Hj(a),t(One,Pne)):t($j,Kj),e}return e.base=function(u){return arguments.length?(r=+u,o()):r},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const f=n();let d=f[0],m=f[f.length-1];const p=m<d;p&&([d,m]=[m,d]);let y=i(d),b=i(m),A,w;const S=u==null?10:+u;let I=[];if(!(r%1)&&b-y<S){if(y=Math.floor(y),b=Math.ceil(b),d>0){for(;y<=b;++y)for(A=1;A<r;++A)if(w=y<0?A/a(-y):A*a(y),!(w<d)){if(w>m)break;I.push(w)}}else for(;y<=b;++y)for(A=r-1;A>=1;--A)if(w=y>0?A/a(-y):A*a(y),!(w<d)){if(w>m)break;I.push(w)}I.length*2<S&&(I=PS(d,m,S))}else I=PS(y,b,Math.min(b-y,S)).map(a);return p?I.reverse():I},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Am(f)).precision==null&&(f.trim=!0),f=u1(f)),u===1/0)return f;const d=Math.max(1,r*u/e.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=d?f(m):""}},e.nice=()=>n(EU(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function SU(){const t=c1(Qb()).domain([1,10]);return t.copy=()=>op(t,SU()).base(t.base()),Pi.apply(t,arguments),t}function Gj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Wj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function f1(t){var e=1,n=t(Gj(e),Wj(e));return n.constant=function(r){return arguments.length?t(Gj(e=+r),Wj(e)):e},bl(n)}function AU(){var t=f1(Qb());return t.copy=function(){return op(t,AU()).constant(t.constant())},Pi.apply(t,arguments)}function Yj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Mne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function kne(t){return t<0?-t*t:t*t}function d1(t){var e=t(_r,_r),n=1;function r(){return n===1?t(_r,_r):n===.5?t(Mne,kne):t(Yj(n),Yj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},bl(e)}function h1(){var t=d1(Qb());return t.copy=function(){return op(t,h1()).exponent(t.exponent())},Pi.apply(t,arguments),t}function Lne(){return h1.apply(null,arguments).exponent(.5)}function Qj(t){return Math.sign(t)*t*t}function Vne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function TU(){var t=o1(),e=[0,1],n=!1,r;function i(a){var o=Vne(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(Qj(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Mv)).map(Qj)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return TU(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Pi.apply(i,arguments),bl(i)}function IU(){var t=[],e=[],n=[],r;function i(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=qte(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?r:e[ap(n,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Yo),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return IU().domain(t).range(e).unknown(r)},Pi.apply(a,arguments)}function CU(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(f){return f!=null&&f<=f?i[ap(r,f,0,n)]:a}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return o}return o.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},o.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},o.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(f){return arguments.length&&(a=f),o},o.thresholds=function(){return r.slice()},o.copy=function(){return CU().domain([t,e]).range(i).unknown(a)},Pi.apply(bl(o),arguments)}function NU(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[ap(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return NU().domain(t).range(e).unknown(n)},Pi.apply(i,arguments)}const Yw=new Date,Qw=new Date;function kn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return f;let d;do f.push(d=new Date(+a)),e(a,u),t(a);while(d<a&&a<o);return f},i.filter=a=>kn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Yw.setTime(+a),Qw.setTime(+o),t(Yw),t(Qw),Math.floor(n(Yw,Qw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Lv=kn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Lv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Lv);Lv.range;const xs=1e3,Ii=xs*60,ws=Ii*60,Ls=ws*24,m1=Ls*7,Xj=Ls*30,Xw=Ls*365,yu=kn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getUTCSeconds());yu.range;const p1=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xs)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getMinutes());p1.range;const g1=kn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getUTCMinutes());g1.range;const y1=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xs-t.getMinutes()*Ii)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getHours());y1.range;const v1=kn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getUTCHours());v1.range;const lp=kn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ii)/Ls,t=>t.getDate()-1);lp.range;const Xb=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ls,t=>t.getUTCDate()-1);Xb.range;const OU=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ls,t=>Math.floor(t/Ls));OU.range;function Wu(t){return kn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ii)/m1)}const Zb=Wu(0),Vv=Wu(1),Une=Wu(2),Bne=Wu(3),Rf=Wu(4),zne=Wu(5),qne=Wu(6);Zb.range;Vv.range;Une.range;Bne.range;Rf.range;zne.range;qne.range;function Yu(t){return kn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/m1)}const Jb=Yu(0),Uv=Yu(1),Fne=Yu(2),$ne=Yu(3),Df=Yu(4),Kne=Yu(5),Hne=Yu(6);Jb.range;Uv.range;Fne.range;$ne.range;Df.range;Kne.range;Hne.range;const b1=kn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());b1.range;const _1=kn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_1.range;const Vs=kn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Vs.range;const Us=kn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Us.range;function PU(t,e,n,r,i,a){const o=[[yu,1,xs],[yu,5,5*xs],[yu,15,15*xs],[yu,30,30*xs],[a,1,Ii],[a,5,5*Ii],[a,15,15*Ii],[a,30,30*Ii],[i,1,ws],[i,3,3*ws],[i,6,6*ws],[i,12,12*ws],[r,1,Ls],[r,2,2*Ls],[n,1,m1],[e,1,Xj],[e,3,3*Xj],[t,1,Xw]];function u(d,m,p){const y=m<d;y&&([d,m]=[m,d]);const b=p&&typeof p.range=="function"?p:f(d,m,p),A=b?b.range(d,+m+1):[];return y?A.reverse():A}function f(d,m,p){const y=Math.abs(m-d)/p,b=t1(([,,S])=>S).right(o,y);if(b===o.length)return t.every(DS(d/Xw,m/Xw,p));if(b===0)return Lv.every(Math.max(DS(d,m,p),1));const[A,w]=o[y/o[b-1][2]<o[b][2]/y?b-1:b];return A.every(w)}return[u,f]}const[Gne,Wne]=PU(Us,_1,Jb,OU,v1,g1),[Yne,Qne]=PU(Vs,b1,Zb,lp,y1,p1);function Zw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Jw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function yh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Xne(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,f=t.shortMonths,d=vh(i),m=bh(i),p=vh(a),y=bh(a),b=vh(o),A=bh(o),w=vh(u),S=bh(u),I=vh(f),N=bh(f),P={a:oe,A:ye,b:xe,B:Te,c:null,d:rM,e:rM,f:_re,g:Ore,G:Rre,H:yre,I:vre,j:bre,L:RU,m:xre,M:wre,p:$,q:Y,Q:sM,s:oM,S:Ere,u:Sre,U:Are,V:Tre,w:Ire,W:Cre,x:null,X:null,y:Nre,Y:Pre,Z:Dre,"%":aM},k={a:ve,A:ee,b:be,B:Ae,c:null,d:iM,e:iM,f:Lre,g:Gre,G:Yre,H:jre,I:Mre,j:kre,L:jU,m:Vre,M:Ure,p:Be,q:tt,Q:sM,s:oM,S:Bre,u:zre,U:qre,V:Fre,w:$re,W:Kre,x:null,X:null,y:Hre,Y:Wre,Z:Qre,"%":aM},M={a:U,A:B,b:F,B:z,c:pe,d:tM,e:tM,f:hre,g:eM,G:Jj,H:nM,I:nM,j:ure,L:dre,m:lre,M:cre,p:j,q:ore,Q:pre,s:gre,S:fre,u:nre,U:rre,V:ire,w:tre,W:are,x:we,X:W,y:eM,Y:Jj,Z:sre,"%":mre};P.x=L(n,P),P.X=L(r,P),P.c=L(e,P),k.x=L(n,k),k.X=L(r,k),k.c=L(e,k);function L(ge,ue){return function(_e){var ne=[],Fe=-1,de=0,Ve=ge.length,je,Ke,On;for(_e instanceof Date||(_e=new Date(+_e));++Fe<Ve;)ge.charCodeAt(Fe)===37&&(ne.push(ge.slice(de,Fe)),(Ke=Zj[je=ge.charAt(++Fe)])!=null?je=ge.charAt(++Fe):Ke=je==="e"?" ":"0",(On=ue[je])&&(je=On(_e,Ke)),ne.push(je),de=Fe+1);return ne.push(ge.slice(de,Fe)),ne.join("")}}function R(ge,ue){return function(_e){var ne=yh(1900,void 0,1),Fe=C(ne,ge,_e+="",0),de,Ve;if(Fe!=_e.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(ue&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(de=Jw(yh(ne.y,0,1)),Ve=de.getUTCDay(),de=Ve>4||Ve===0?Uv.ceil(de):Uv(de),de=Xb.offset(de,(ne.V-1)*7),ne.y=de.getUTCFullYear(),ne.m=de.getUTCMonth(),ne.d=de.getUTCDate()+(ne.w+6)%7):(de=Zw(yh(ne.y,0,1)),Ve=de.getDay(),de=Ve>4||Ve===0?Vv.ceil(de):Vv(de),de=lp.offset(de,(ne.V-1)*7),ne.y=de.getFullYear(),ne.m=de.getMonth(),ne.d=de.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Ve="Z"in ne?Jw(yh(ne.y,0,1)).getUTCDay():Zw(yh(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Ve+5)%7:ne.w+ne.U*7-(Ve+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,Jw(ne)):Zw(ne)}}function C(ge,ue,_e,ne){for(var Fe=0,de=ue.length,Ve=_e.length,je,Ke;Fe<de;){if(ne>=Ve)return-1;if(je=ue.charCodeAt(Fe++),je===37){if(je=ue.charAt(Fe++),Ke=M[je in Zj?ue.charAt(Fe++):je],!Ke||(ne=Ke(ge,_e,ne))<0)return-1}else if(je!=_e.charCodeAt(ne++))return-1}return ne}function j(ge,ue,_e){var ne=d.exec(ue.slice(_e));return ne?(ge.p=m.get(ne[0].toLowerCase()),_e+ne[0].length):-1}function U(ge,ue,_e){var ne=b.exec(ue.slice(_e));return ne?(ge.w=A.get(ne[0].toLowerCase()),_e+ne[0].length):-1}function B(ge,ue,_e){var ne=p.exec(ue.slice(_e));return ne?(ge.w=y.get(ne[0].toLowerCase()),_e+ne[0].length):-1}function F(ge,ue,_e){var ne=I.exec(ue.slice(_e));return ne?(ge.m=N.get(ne[0].toLowerCase()),_e+ne[0].length):-1}function z(ge,ue,_e){var ne=w.exec(ue.slice(_e));return ne?(ge.m=S.get(ne[0].toLowerCase()),_e+ne[0].length):-1}function pe(ge,ue,_e){return C(ge,e,ue,_e)}function we(ge,ue,_e){return C(ge,n,ue,_e)}function W(ge,ue,_e){return C(ge,r,ue,_e)}function oe(ge){return o[ge.getDay()]}function ye(ge){return a[ge.getDay()]}function xe(ge){return f[ge.getMonth()]}function Te(ge){return u[ge.getMonth()]}function $(ge){return i[+(ge.getHours()>=12)]}function Y(ge){return 1+~~(ge.getMonth()/3)}function ve(ge){return o[ge.getUTCDay()]}function ee(ge){return a[ge.getUTCDay()]}function be(ge){return f[ge.getUTCMonth()]}function Ae(ge){return u[ge.getUTCMonth()]}function Be(ge){return i[+(ge.getUTCHours()>=12)]}function tt(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var ue=L(ge+="",P);return ue.toString=function(){return ge},ue},parse:function(ge){var ue=R(ge+="",!1);return ue.toString=function(){return ge},ue},utcFormat:function(ge){var ue=L(ge+="",k);return ue.toString=function(){return ge},ue},utcParse:function(ge){var ue=R(ge+="",!0);return ue.toString=function(){return ge},ue}}}var Zj={"-":"",_:" ",0:"0"},Hn=/^\s*\d+/,Zne=/^%/,Jne=/[\\^$*+?|[\]().{}]/g;function gt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function ere(t){return t.replace(Jne,"\\$&")}function vh(t){return new RegExp("^(?:"+t.map(ere).join("|")+")","i")}function bh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function tre(t,e,n){var r=Hn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function nre(t,e,n){var r=Hn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function rre(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ire(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function are(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Jj(t,e,n){var r=Hn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function eM(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sre(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ore(t,e,n){var r=Hn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function lre(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tM(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ure(t,e,n){var r=Hn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function nM(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function cre(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function fre(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function dre(t,e,n){var r=Hn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function hre(t,e,n){var r=Hn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mre(t,e,n){var r=Zne.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function pre(t,e,n){var r=Hn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function gre(t,e,n){var r=Hn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function rM(t,e){return gt(t.getDate(),e,2)}function yre(t,e){return gt(t.getHours(),e,2)}function vre(t,e){return gt(t.getHours()%12||12,e,2)}function bre(t,e){return gt(1+lp.count(Vs(t),t),e,3)}function RU(t,e){return gt(t.getMilliseconds(),e,3)}function _re(t,e){return RU(t,e)+"000"}function xre(t,e){return gt(t.getMonth()+1,e,2)}function wre(t,e){return gt(t.getMinutes(),e,2)}function Ere(t,e){return gt(t.getSeconds(),e,2)}function Sre(t){var e=t.getDay();return e===0?7:e}function Are(t,e){return gt(Zb.count(Vs(t)-1,t),e,2)}function DU(t){var e=t.getDay();return e>=4||e===0?Rf(t):Rf.ceil(t)}function Tre(t,e){return t=DU(t),gt(Rf.count(Vs(t),t)+(Vs(t).getDay()===4),e,2)}function Ire(t){return t.getDay()}function Cre(t,e){return gt(Vv.count(Vs(t)-1,t),e,2)}function Nre(t,e){return gt(t.getFullYear()%100,e,2)}function Ore(t,e){return t=DU(t),gt(t.getFullYear()%100,e,2)}function Pre(t,e){return gt(t.getFullYear()%1e4,e,4)}function Rre(t,e){var n=t.getDay();return t=n>=4||n===0?Rf(t):Rf.ceil(t),gt(t.getFullYear()%1e4,e,4)}function Dre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gt(e/60|0,"0",2)+gt(e%60,"0",2)}function iM(t,e){return gt(t.getUTCDate(),e,2)}function jre(t,e){return gt(t.getUTCHours(),e,2)}function Mre(t,e){return gt(t.getUTCHours()%12||12,e,2)}function kre(t,e){return gt(1+Xb.count(Us(t),t),e,3)}function jU(t,e){return gt(t.getUTCMilliseconds(),e,3)}function Lre(t,e){return jU(t,e)+"000"}function Vre(t,e){return gt(t.getUTCMonth()+1,e,2)}function Ure(t,e){return gt(t.getUTCMinutes(),e,2)}function Bre(t,e){return gt(t.getUTCSeconds(),e,2)}function zre(t){var e=t.getUTCDay();return e===0?7:e}function qre(t,e){return gt(Jb.count(Us(t)-1,t),e,2)}function MU(t){var e=t.getUTCDay();return e>=4||e===0?Df(t):Df.ceil(t)}function Fre(t,e){return t=MU(t),gt(Df.count(Us(t),t)+(Us(t).getUTCDay()===4),e,2)}function $re(t){return t.getUTCDay()}function Kre(t,e){return gt(Uv.count(Us(t)-1,t),e,2)}function Hre(t,e){return gt(t.getUTCFullYear()%100,e,2)}function Gre(t,e){return t=MU(t),gt(t.getUTCFullYear()%100,e,2)}function Wre(t,e){return gt(t.getUTCFullYear()%1e4,e,4)}function Yre(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Df(t):Df.ceil(t),gt(t.getUTCFullYear()%1e4,e,4)}function Qre(){return"+0000"}function aM(){return"%"}function sM(t){return+t}function oM(t){return Math.floor(+t/1e3)}var Kc,kU,LU;Xre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xre(t){return Kc=Xne(t),kU=Kc.format,Kc.parse,LU=Kc.utcFormat,Kc.utcParse,Kc}function Zre(t){return new Date(t)}function Jre(t){return t instanceof Date?+t:+new Date(+t)}function x1(t,e,n,r,i,a,o,u,f,d){var m=o1(),p=m.invert,y=m.domain,b=d(".%L"),A=d(":%S"),w=d("%I:%M"),S=d("%I %p"),I=d("%a %d"),N=d("%b %d"),P=d("%B"),k=d("%Y");function M(L){return(f(L)<L?b:u(L)<L?A:o(L)<L?w:a(L)<L?S:r(L)<L?i(L)<L?I:N:n(L)<L?P:k)(L)}return m.invert=function(L){return new Date(p(L))},m.domain=function(L){return arguments.length?y(Array.from(L,Jre)):y().map(Zre)},m.ticks=function(L){var R=y();return t(R[0],R[R.length-1],L==null?10:L)},m.tickFormat=function(L,R){return R==null?M:d(R)},m.nice=function(L){var R=y();return(!L||typeof L.range!="function")&&(L=e(R[0],R[R.length-1],L==null?10:L)),L?y(EU(R,L)):m},m.copy=function(){return op(m,x1(t,e,n,r,i,a,o,u,f,d))},m}function eie(){return Pi.apply(x1(Yne,Qne,Vs,b1,Zb,lp,y1,p1,yu,kU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tie(){return Pi.apply(x1(Gne,Wne,Us,_1,Jb,Xb,v1,g1,yu,LU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function e0(){var t=0,e=1,n,r,i,a,o=_r,u=!1,f;function d(p){return p==null||isNaN(p=+p)?f:o(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(u=!!p,d):u},d.interpolator=function(p){return arguments.length?(o=p,d):o};function m(p){return function(y){var b,A;return arguments.length?([b,A]=y,o=p(b,A),d):[o(0),o(1)]}}return d.range=m(Qf),d.rangeRound=m(s1),d.unknown=function(p){return arguments.length?(f=p,d):f},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function _l(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function VU(){var t=bl(e0()(_r));return t.copy=function(){return _l(t,VU())},Ks.apply(t,arguments)}function UU(){var t=c1(e0()).domain([1,10]);return t.copy=function(){return _l(t,UU()).base(t.base())},Ks.apply(t,arguments)}function BU(){var t=f1(e0());return t.copy=function(){return _l(t,BU()).constant(t.constant())},Ks.apply(t,arguments)}function w1(){var t=d1(e0());return t.copy=function(){return _l(t,w1()).exponent(t.exponent())},Ks.apply(t,arguments)}function nie(){return w1.apply(null,arguments).exponent(.5)}function zU(){var t=[],e=_r;function n(r){if(r!=null&&!isNaN(r=+r))return e((ap(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Yo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>zte(t,a/r))},n.copy=function(){return zU(e).domain(t)},Ks.apply(n,arguments)}function t0(){var t=0,e=.5,n=1,r=1,i,a,o,u,f,d=_r,m,p=!1,y;function b(w){return isNaN(w=+w)?y:(w=.5+((w=+m(w))-a)*(r*w<r*a?u:f),d(p?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([t,e,n]=w,i=m(t=+t),a=m(e=+e),o=m(n=+n),u=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(w){return arguments.length?(p=!!w,b):p},b.interpolator=function(w){return arguments.length?(d=w,b):d};function A(w){return function(S){var I,N,P;return arguments.length?([I,N,P]=S,d=mne(w,[I,N,P]),b):[d(0),d(.5),d(1)]}}return b.range=A(Qf),b.rangeRound=A(s1),b.unknown=function(w){return arguments.length?(y=w,b):y},function(w){return m=w,i=w(t),a=w(e),o=w(n),u=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,b}}function qU(){var t=bl(t0()(_r));return t.copy=function(){return _l(t,qU())},Ks.apply(t,arguments)}function FU(){var t=c1(t0()).domain([.1,1,10]);return t.copy=function(){return _l(t,FU()).base(t.base())},Ks.apply(t,arguments)}function $U(){var t=f1(t0());return t.copy=function(){return _l(t,$U()).constant(t.constant())},Ks.apply(t,arguments)}function E1(){var t=d1(t0());return t.copy=function(){return _l(t,E1()).exponent(t.exponent())},Ks.apply(t,arguments)}function rie(){return E1.apply(null,arguments).exponent(.5)}const Rh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:r1,scaleDiverging:qU,scaleDivergingLog:FU,scaleDivergingPow:E1,scaleDivergingSqrt:rie,scaleDivergingSymlog:$U,scaleIdentity:wU,scaleImplicit:jS,scaleLinear:xU,scaleLog:SU,scaleOrdinal:n1,scalePoint:$te,scalePow:h1,scaleQuantile:IU,scaleQuantize:CU,scaleRadial:TU,scaleSequential:VU,scaleSequentialLog:UU,scaleSequentialPow:w1,scaleSequentialQuantile:zU,scaleSequentialSqrt:nie,scaleSequentialSymlog:BU,scaleSqrt:Lne,scaleSymlog:AU,scaleThreshold:NU,scaleTime:eie,scaleUtc:tie,tickFormat:_U},Symbol.toStringTag,{value:"Module"}));var xl=t=>t.chartData,S1=re([xl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),n0=(t,e,n,r)=>r?S1(t):xl(t);function jf(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(si(e)&&si(n))return!0}return!1}function lM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function iie(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(si(n))i=n;else if(typeof n=="function")return;if(si(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(jf(o))return o}}function aie(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(jf(r))return lM(r,e,n)}catch(b){}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,u;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Le(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[0]))}catch(b){}else if(typeof i=="string"&&Z2.test(i)){var f=Z2.exec(i);if(f==null||e==null)o=void 0;else{var d=+f[1];o=e[0]-d}}else o=e==null?void 0:e[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(Le(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e==null?void 0:e[1]))}catch(b){}else if(typeof a=="string"&&J2.test(a)){var m=J2.exec(a);if(m==null||e==null)u=void 0;else{var p=+m[1];u=e[1]+p}}else u=e==null?void 0:e[1];var y=[o,u];if(jf(y))return e==null?y:lM(y,e,n)}}}var Xf=1e9,sie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},T1,Qt=!0,Oi="[DecimalError] ",Au=Oi+"Invalid argument: ",A1=Oi+"Exponent out of range: ",Zf=Math.floor,ou=Math.pow,oie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xr,qn=1e7,zt=7,KU=9007199254740991,Bv=Zf(KU/zt),Ne={};Ne.absoluteValue=Ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ne.comparedTo=Ne.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*zt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ne.dividedBy=Ne.div=function(t){return Os(this,new this.constructor(t))};Ne.dividedToIntegerBy=Ne.idiv=function(t){var e=this,n=e.constructor;return Mt(Os(e,new n(t),0,1),n.precision)};Ne.equals=Ne.eq=function(t){return!this.cmp(t)};Ne.exponent=function(){return Nn(this)};Ne.greaterThan=Ne.gt=function(t){return this.cmp(t)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(t){return this.cmp(t)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(t){return this.cmp(t)<0};Ne.lessThanOrEqualTo=Ne.lte=function(t){return this.cmp(t)<1};Ne.logarithm=Ne.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Xr))throw Error(Oi+"NaN");if(n.s<1)throw Error(Oi+(n.s?"NaN":"-Infinity"));return n.eq(Xr)?new r(0):(Qt=!1,e=Os(Tm(n,a),Tm(t,a),a),Qt=!0,Mt(e,i))};Ne.minus=Ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?WU(e,t):HU(e,(t.s=-t.s,t))};Ne.modulo=Ne.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Oi+"NaN");return n.s?(Qt=!1,e=Os(n,t,0,1).times(t),Qt=!0,n.minus(e)):Mt(new r(n),i)};Ne.naturalExponential=Ne.exp=function(){return GU(this)};Ne.naturalLogarithm=Ne.ln=function(){return Tm(this)};Ne.negated=Ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ne.plus=Ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HU(e,t):WU(e,(t.s=-t.s,t))};Ne.precision=Ne.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Au+t);if(e=Nn(i)+1,r=i.d.length-1,n=r*zt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ne.squareRoot=Ne.sqrt=function(){var t,e,n,r,i,a,o,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Oi+"NaN")}for(t=Nn(u),Qt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=ka(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Zf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=o=n+3;;)if(a=r,r=a.plus(Os(u,a,o+2)).times(.5),ka(a.d).slice(0,o)===(e=ka(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Mt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;o+=4}return Qt=!0,Mt(r,n)};Ne.times=Ne.mul=function(t){var e,n,r,i,a,o,u,f,d,m=this,p=m.constructor,y=m.d,b=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,f=y.length,d=b.length,f<d&&(a=y,y=b,b=a,o=f,f=d,d=o),a=[],o=f+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)u=a[i]+b[r]*y[i-r-1]+e,a[i--]=u%qn|0,e=u/qn|0;a[i]=(a[i]+e)%qn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Qt?Mt(t,p.precision):t};Ne.toDecimalPlaces=Ne.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:($a(t,0,Xf),e===void 0?e=r.rounding:$a(e,0,8),Mt(n,t+Nn(n)+1,e))};Ne.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Bu(r,!0):($a(t,0,Xf),e===void 0?e=i.rounding:$a(e,0,8),r=Mt(new i(r),t+1,e),n=Bu(r,!0,t+1)),n};Ne.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Bu(i):($a(t,0,Xf),e===void 0?e=a.rounding:$a(e,0,8),r=Mt(new a(i),t+Nn(i)+1,e),n=Bu(r.abs(),!1,t+Nn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ne.toInteger=Ne.toint=function(){var t=this,e=t.constructor;return Mt(new e(t),Nn(t)+1,e.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(t){var e,n,r,i,a,o,u=this,f=u.constructor,d=12,m=+(t=new f(t));if(!t.s)return new f(Xr);if(u=new f(u),!u.s){if(t.s<1)throw Error(Oi+"Infinity");return u}if(u.eq(Xr))return u;if(r=f.precision,t.eq(Xr))return Mt(u,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=u.s,o){if((n=m<0?-m:m)<=KU){for(i=new f(Xr),e=Math.ceil(r/zt+4),Qt=!1;n%2&&(i=i.times(u),cM(i.d,e)),n=Zf(n/2),n!==0;)u=u.times(u),cM(u.d,e);return Qt=!0,t.s<0?new f(Xr).div(i):Mt(i,r)}}else if(a<0)throw Error(Oi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Qt=!1,i=t.times(Tm(u,r+d)),Qt=!0,i=GU(i),i.s=a,i};Ne.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Nn(i),r=Bu(i,n<=a.toExpNeg||n>=a.toExpPos)):($a(t,1,Xf),e===void 0?e=a.rounding:$a(e,0,8),i=Mt(new a(i),t,e),n=Nn(i),r=Bu(i,t<=n||n<=a.toExpNeg,t)),r};Ne.toSignificantDigits=Ne.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):($a(t,1,Xf),e===void 0?e=r.rounding:$a(e,0,8)),Mt(new r(n),t,e)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Nn(t),n=t.constructor;return Bu(t,e<=n.toExpNeg||e>=n.toExpPos)};function HU(t,e){var n,r,i,a,o,u,f,d,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Qt?Mt(e,p):e;if(f=t.d,d=e.d,o=t.e,i=e.e,f=f.slice(),a=o-i,a){for(a<0?(r=f,a=-a,u=d.length):(r=d,i=o,u=f.length),o=Math.ceil(p/zt),u=o>u?o+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=f.length,a=d.length,u-a<0&&(a=u,r=d,d=f,f=r),n=0;a;)n=(f[--a]=f[a]+d[a]+n)/qn|0,f[a]%=qn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Qt?Mt(e,p):e}function $a(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Au+t)}function ka(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=zt-r.length,n&&(a+=jo(n)),a+=r;o=t[e],r=o+"",n=zt-r.length,n&&(a+=jo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Os=(function(){function t(r,i){var a,o=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+o,r[u]=a%qn|0,o=a/qn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var u,f;if(a!=o)f=a>o?1:-1;else for(u=f=0;u<a;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*qn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var u,f,d,m,p,y,b,A,w,S,I,N,P,k,M,L,R,C,j=r.constructor,U=r.s==i.s?1:-1,B=r.d,F=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(Oi+"Division by zero");for(f=r.e-i.e,R=F.length,M=B.length,b=new j(U),A=b.d=[],d=0;F[d]==(B[d]||0);)++d;if(F[d]>(B[d]||0)&&--f,a==null?N=a=j.precision:o?N=a+(Nn(r)-Nn(i))+1:N=a,N<0)return new j(0);if(N=N/zt+2|0,d=0,R==1)for(m=0,F=F[0],N++;(d<M||m)&&N--;d++)P=m*qn+(B[d]||0),A[d]=P/F|0,m=P%F|0;else{for(m=qn/(F[0]+1)|0,m>1&&(F=t(F,m),B=t(B,m),R=F.length,M=B.length),k=R,w=B.slice(0,R),S=w.length;S<R;)w[S++]=0;C=F.slice(),C.unshift(0),L=F[0],F[1]>=qn/2&&++L;do m=0,u=e(F,w,R,S),u<0?(I=w[0],R!=S&&(I=I*qn+(w[1]||0)),m=I/L|0,m>1?(m>=qn&&(m=qn-1),p=t(F,m),y=p.length,S=w.length,u=e(p,w,y,S),u==1&&(m--,n(p,R<y?C:F,y))):(m==0&&(u=m=1),p=F.slice()),y=p.length,y<S&&p.unshift(0),n(w,p,S),u==-1&&(S=w.length,u=e(F,w,R,S),u<1&&(m++,n(w,R<S?C:F,S))),S=w.length):u===0&&(m++,w=[0]),A[d++]=m,u&&w[0]?w[S++]=B[k]||0:(w=[B[k]],S=1);while((k++<M||w[0]!==void 0)&&N--)}return A[0]||A.shift(),b.e=f,Mt(b,o?a+Nn(b)+1:a)}})();function GU(t,e){var n,r,i,a,o,u,f=0,d=0,m=t.constructor,p=m.precision;if(Nn(t)>16)throw Error(A1+Nn(t));if(!t.s)return new m(Xr);for(Qt=!1,u=p,o=new m(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(ou(2,d))/Math.LN10*2+5|0,u+=r,n=i=a=new m(Xr),m.precision=u;;){if(i=Mt(i.times(t),u),n=n.times(++f),o=a.plus(Os(i,n,u)),ka(o.d).slice(0,u)===ka(a.d).slice(0,u)){for(;d--;)a=Mt(a.times(a),u);return m.precision=p,e==null?(Qt=!0,Mt(a,p)):a}a=o}}function Nn(t){for(var e=t.e*zt,n=t.d[0];n>=10;n/=10)e++;return e}function eE(t,e,n){if(e>t.LN10.sd())throw Qt=!0,n&&(t.precision=n),Error(Oi+"LN10 precision limit exceeded");return Mt(new t(t.LN10),e)}function jo(t){for(var e="";t--;)e+="0";return e}function Tm(t,e){var n,r,i,a,o,u,f,d,m,p=1,y=10,b=t,A=b.d,w=b.constructor,S=w.precision;if(b.s<1)throw Error(Oi+(b.s?"NaN":"-Infinity"));if(b.eq(Xr))return new w(0);if(e==null?(Qt=!1,d=S):d=e,b.eq(10))return e==null&&(Qt=!0),eE(w,d);if(d+=y,w.precision=d,n=ka(A),r=n.charAt(0),a=Nn(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=ka(b.d),r=n.charAt(0),p++;a=Nn(b),r>1?(b=new w("0."+n),a++):b=new w(r+"."+n.slice(1))}else return f=eE(w,d+2,S).times(a+""),b=Tm(new w(r+"."+n.slice(1)),d-y).plus(f),w.precision=S,e==null?(Qt=!0,Mt(b,S)):b;for(u=o=b=Os(b.minus(Xr),b.plus(Xr),d),m=Mt(b.times(b),d),i=3;;){if(o=Mt(o.times(m),d),f=u.plus(Os(o,new w(i),d)),ka(f.d).slice(0,d)===ka(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(eE(w,d+2,S).times(a+""))),u=Os(u,new w(p),d),w.precision=S,e==null?(Qt=!0,Mt(u,S)):u;u=f,i+=2}}function uM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Zf(n/zt),t.d=[],r=(n+1)%zt,n<0&&(r+=zt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=zt;r<i;)t.d.push(+e.slice(r,r+=zt));e=e.slice(r),r=zt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Qt&&(t.e>Bv||t.e<-Bv))throw Error(A1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Mt(t,e,n){var r,i,a,o,u,f,d,m,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=zt,i=e,d=p[m=0];else{if(m=Math.ceil((r+1)/zt),a=p.length,m>=a)return t;for(d=a=p[m],o=1;a>=10;a/=10)o++;r%=zt,i=r-zt+o}if(n!==void 0&&(a=ou(10,o-i-1),u=d/a%10|0,f=e<0||p[m+1]!==void 0||d%a,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/ou(10,o-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(a=Nn(t),p.length=1,e=e-a-1,p[0]=ou(10,(zt-e%zt)%zt),t.e=Zf(-e/zt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=ou(10,zt-r),p[m]=i>0?(d/ou(10,o-i)%ou(10,i)|0)*a:0),f)for(;;)if(m==0){(p[0]+=a)==qn&&(p[0]=1,++t.e);break}else{if(p[m]+=a,p[m]!=qn)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Qt&&(t.e>Bv||t.e<-Bv))throw Error(A1+Nn(t));return t}function WU(t,e){var n,r,i,a,o,u,f,d,m,p,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Qt?Mt(e,b):e;if(f=t.d,p=e.d,r=e.e,d=t.e,f=f.slice(),o=d-r,o){for(m=o<0,m?(n=f,o=-o,u=p.length):(n=p,r=d,u=f.length),i=Math.max(Math.ceil(b/zt),u)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=p.length,m=i<u,m&&(u=i),i=0;i<u;i++)if(f[i]!=p[i]){m=f[i]<p[i];break}o=0}for(m&&(n=f,f=p,p=n,e.s=-e.s),u=f.length,i=p.length-u;i>0;--i)f[u++]=0;for(i=p.length;i>o;){if(f[--i]<p[i]){for(a=i;a&&f[--a]===0;)f[a]=qn-1;--f[a],f[i]+=qn}f[i]-=p[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Qt?Mt(e,b):e):new y(0)}function Bu(t,e,n){var r,i=Nn(t),a=ka(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+jo(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+jo(-i-1)+a,n&&(r=n-o)>0&&(a+=jo(r))):i>=o?(a+=jo(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+jo(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=jo(r))),t.s<0?"-"+a:a}function cM(t,e){if(t.length>e)return t.length=e,!0}function YU(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Au+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return uM(o,a.toString())}else if(typeof a!="string")throw Error(Au+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,oie.test(a))uM(o,a);else throw Error(Au+a)}if(i.prototype=Ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=YU,i.config=i.set=lie,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function lie(t){if(!t||typeof t!="object")throw Error(Oi+"Object expected");var e,n,r,i=["precision",1,Xf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Zf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Au+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Au+n+": "+r);return this}var T1=YU(sie);Xr=new T1(1);const Tt=T1;var uie=t=>t,QU={},XU=t=>t===QU,fM=t=>function e(){return arguments.length===0||arguments.length===1&&XU(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},ZU=(t,e)=>t===1?e:fM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==QU).length;return a>=t?e(...r):ZU(t-a,fM(function(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];var d=r.map(m=>XU(m)?u.shift():m);return e(...d,...u)}))}),r0=t=>ZU(t.length,t),VS=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},cie=r0((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),fie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return uie;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((u,f)=>f(u),a(...arguments))}},US=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),JU=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((o,u)=>{var f;return o===((f=e)===null||f===void 0?void 0:f[u])})||(e=i,n=t(...i)),n}};function eB(t){var e;return t===0?e=1:e=Math.floor(new Tt(t).abs().log(10).toNumber())+1,e}function tB(t,e,n){for(var r=new Tt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}r0((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});r0((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});r0((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var nB=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},rB=(t,e,n)=>{if(t.lte(0))return new Tt(0);var r=eB(t.toNumber()),i=new Tt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,u=new Tt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),f=u.mul(i);return e?new Tt(f.toNumber()):new Tt(Math.ceil(f.toNumber()))},die=(t,e,n)=>{var r=new Tt(1),i=new Tt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Tt(10).pow(eB(t)-1),i=new Tt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Tt(Math.floor(t)))}else t===0?i=new Tt(Math.floor((e-1)/2)):n||(i=new Tt(Math.floor(t)));var o=Math.floor((e-1)/2),u=fie(cie(f=>i.add(new Tt(f-o).mul(r)).toNumber()),VS);return u(0,e)},iB=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var o=rB(new Tt(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new Tt(0):(u=new Tt(e).add(n).div(2),u=u.sub(new Tt(u).mod(o)));var f=Math.ceil(u.sub(e).div(o).toNumber()),d=Math.ceil(new Tt(n).sub(u).div(o).toNumber()),m=f+d+1;return m>r?iB(e,n,r,i,a+1):(m<r&&(d=n>0?d+(r-m):d,f=n>0?f:f+(r-m)),{step:o,tickMin:u.sub(new Tt(f).mul(o)),tickMax:u.add(new Tt(d).mul(o))})};function hie(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,u]=nB([e,n]);if(o===-1/0||u===1/0){var f=u===1/0?[o,...VS(0,r-1).map(()=>1/0)]:[...VS(0,r-1).map(()=>-1/0),u];return e>n?US(f):f}if(o===u)return die(o,r,i);var{step:d,tickMin:m,tickMax:p}=iB(o,u,a,i,0),y=tB(m,p.add(new Tt(.1).mul(d)),d);return e>n?US(y):y}function mie(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=nB([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var u=Math.max(e,2),f=rB(new Tt(o).sub(a).div(u-1),i,0),d=[...tB(new Tt(a),new Tt(o),f),o];return i===!1&&(d=d.map(m=>Math.round(m))),n>r?US(d):d}var pie=JU(hie),gie=JU(mie),aB=t=>t.rootProps.maxBarSize,yie=t=>t.rootProps.barGap,sB=t=>t.rootProps.barCategoryGap,vie=t=>t.rootProps.barSize,up=t=>t.rootProps.stackOffset,I1=t=>t.options.chartName,C1=t=>t.rootProps.syncId,oB=t=>t.rootProps.syncMethod,N1=t=>t.options.eventEmitter,gs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},i0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},bie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gs.angleAxisId,includeHidden:!1,name:void 0,reversed:gs.reversed,scale:gs.scale,tick:gs.tick,tickCount:void 0,ticks:void 0,type:gs.type,unit:void 0},_ie={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:Wr.type,unit:void 0},xie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gs.scale,tick:gs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},wie={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:"category",unit:void 0},O1=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?xie:bie,P1=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?wie:_ie,a0=t=>t.polarOptions,R1=re([Fs,$s,Mn],$6),lB=re([a0,R1],(t,e)=>{if(t!=null)return gr(t.innerRadius,e,0)}),uB=re([a0,R1],(t,e)=>{if(t!=null)return gr(t.outerRadius,e,e*.8)}),Eie=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},cB=re([a0],Eie);re([O1,cB],i0);var fB=re([R1,lB,uB],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([P1,fB],i0);var dB=re([dt,a0,lB,uB,Fs,$s],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:u,startAngle:f,endAngle:d}=e;return{cx:gr(o,i,i/2),cy:gr(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),en=(t,e)=>e,cp=(t,e,n)=>n;function D1(t){return t==null?void 0:t.id}var Ln=t=>{var e=dt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Jf=t=>t.tooltip.settings.axisId,Gn=t=>{var e=Ln(t),n=Jf(t);return fp(t,e,n)},hB=re([Gn],t=>t==null?void 0:t.dataKey);function mB(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(u=>{var f,d=(f=u.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var m=D1(u);d.forEach((p,y)=>{var b=a==null||i?y:String(Lt(p,a,null)),A=Lt(p,u.dataKey,0),w;o.has(b)?w=o.get(b):w={},Object.assign(w,{[m]:A}),o.set(b,w)})}}),Array.from(o.values())}function s0(t){return t.stackId!=null&&t.dataKey!=null}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){Sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sie(t,e,n){return(e=Aie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aie(t){var e=Tie(t,"string");return typeof e=="symbol"?e:e+""}function Tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BS=[0,"auto"],$r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},pB=(t,e)=>t.cartesianAxis.xAxis[e],Hs=(t,e)=>{var n=pB(t,e);return n==null?$r:n},Kr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:BS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:np},gB=(t,e)=>t.cartesianAxis.yAxis[e],Gs=(t,e)=>{var n=gB(t,e);return n==null?Kr:n},Iie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},j1=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n==null?Iie:n},yn=(t,e,n)=>{switch(e){case"xAxis":return Hs(t,n);case"yAxis":return Gs(t,n);case"zAxis":return j1(t,n);case"angleAxis":return O1(t,n);case"radiusAxis":return P1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Cie=(t,e,n)=>{switch(e){case"xAxis":return Hs(t,n);case"yAxis":return Gs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},fp=(t,e,n)=>{switch(e){case"xAxis":return Hs(t,n);case"yAxis":return Gs(t,n);case"angleAxis":return O1(t,n);case"radiusAxis":return P1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},yB=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function M1(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var o0=t=>t.graphicalItems.cartesianItems,Nie=re([en,cp],M1),k1=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),dp=re([o0,yn,Nie],k1),vB=re([dp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(s0)),bB=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),_B=re([dp],bB),L1=t=>t.map(e=>e.data).filter(Boolean).flat(1),Oie=re([dp],L1),V1=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},U1=re([Oie,n0],V1),B1=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Lt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Lt(i,r)}))):t.map(r=>({value:r})),l0=re([U1,yn,dp],B1);function xB(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Qu(t){return t.filter(e=>Fa(e)||e instanceof Date).map(Number).filter(e=>ii(e)===!1)}function Pie(t,e,n){return!n||typeof e!="number"||ii(e)?[]:n.length?Qu(n.flatMap(r=>{var i=Lt(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!si(a)||!si(o)))return[e-a,e+o]})):[]}var Rie=re([vB,n0,Gn],mB),wB=(t,e,n)=>{var r={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,u]=a,f=u.map(D1);return[o,{stackedData:kJ(t,f,n),graphicalItems:u}]}))},zS=re([Rie,vB,up],wB),EB=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=zJ(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Die=re([zS,xl,en],EB),SB=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(o=>{var u,f,d=(u=r[o.id])===null||u===void 0?void 0:u.filter(p=>xB(i,p)),m=Lt(a,(f=e.dataKey)!==null&&f!==void 0?f:o.dataKey);return{value:m,errorDomain:Pie(a,m,d)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(a=>({value:Lt(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),u0=t=>t.errorBars,AB=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>xB(n,r));re([_B,u0,en],AB);var jie=re([U1,yn,_B,u0,en],SB);function Mie(t){var{value:e}=t;if(Fa(e)||e instanceof Date)return e}var hM=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Qu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},kie=(t,e,n)=>{var r=t.map(Mie).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&L4(r))?cU(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},z1=t=>{var e;if(t==null||!("domain"in t))return BS;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Qu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:BS},qv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),u=Math.max(...a);return[o,u]}},TB=t=>t.referenceElements.dots,ed=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Lie=re([TB,en,cp],ed),IB=t=>t.referenceElements.areas,Vie=re([IB,en,cp],ed),CB=t=>t.referenceElements.lines,Uie=re([CB,en,cp],ed),NB=(t,e)=>{var n=Qu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Bie=re(Lie,en,NB),OB=(t,e)=>{var n=Qu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zie=re([Vie,en],OB),PB=(t,e)=>{var n=Qu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qie=re(Uie,en,PB),Fie=re(Bie,qie,zie,(t,e,n)=>qv(t,n,e)),RB=re([yn],z1),q1=(t,e,n,r,i,a,o)=>{var u=iie(e,t.allowDataOverflow);if(u!=null)return u;var f=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",d=f?qv(n,i,hM(r)):qv(i,hM(r));return aie(e,d,t.allowDataOverflow)},$ie=re([yn,RB,Die,jie,Fie,dt,en],q1),Kie=[0,1],F1=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:u,type:f}=t,d=yl(e,a);return d&&u==null?cU(0,n.length):f==="category"?kie(r,t,d):i==="expand"?Kie:o}},$1=re([yn,dt,U1,l0,up,en,$ie],F1),DB=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(Zm(a));return u in Rh?u:"point"}}},td=re([yn,dt,yB,I1,en],DB);function Hie(t){if(t!=null){if(t in Rh)return Rh[t]();var e="scale".concat(Zm(t));if(e in Rh)return Rh[e]()}}function K1(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Hie(e);if(i!=null){var a=i.domain(n).range(r);return PJ(a),a}}}var H1=(t,e,n)=>{var r=z1(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&jf(t))return pie(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&jf(t))return gie(t,e.tickCount,e.allowDecimals)}},G1=re([$1,fp,td],H1),W1=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&jf(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(o,u)]}return e},Gie=re([yn,$1,G1,en],W1),Wie=re(l0,yn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Qu(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),jB=re(Wie,dt,sB,Mn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!si(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=gr(n,t*a),u=t*a/2;return u-o-(u-o)/a*o}return 0}),Yie=(t,e)=>{var n=Hs(t,e);return n==null||typeof n.padding!="string"?0:jB(t,"xAxis",e,n.padding)},Qie=(t,e)=>{var n=Gs(t,e);return n==null||typeof n.padding!="string"?0:jB(t,"yAxis",e,n.padding)},Xie=re(Hs,Yie,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Zie=re(Gs,Qie,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Jie=re([Mn,Xie,Wb,Gb,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),eae=re([Mn,dt,Zie,Wb,Gb,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),hp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Jie(t,n,r);case"yAxis":return eae(t,n,r);case"zAxis":return(i=j1(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return cB(t);case"radiusAxis":return fB(t,n);default:return}},MB=re([yn,hp],i0),nd=re([yn,td,Gie,MB],K1);re([dp,u0,en],AB);function kB(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var c0=(t,e)=>e,f0=(t,e,n)=>n,tae=re(Kb,c0,f0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(kB)),nae=re(Hb,c0,f0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(kB)),LB=(t,e)=>({width:t.width,height:e.height}),rae=(t,e)=>{var n=typeof e.width=="number"?e.width:np;return{width:n,height:t.height}},VB=re(Mn,Hs,LB),iae=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},aae=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},sae=re($s,Mn,tae,c0,f0,(t,e,n,r,i)=>{var a={},o;return n.forEach(u=>{var f=LB(e,u);o==null&&(o=iae(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[u.id]=o-Number(d)*f.height,o+=(d?-1:1)*f.height}),a}),oae=re(Fs,Mn,nae,c0,f0,(t,e,n,r,i)=>{var a={},o;return n.forEach(u=>{var f=rae(e,u);o==null&&(o=aae(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[u.id]=o-Number(d)*f.width,o+=(d?-1:1)*f.width}),a}),lae=(t,e)=>{var n=Hs(t,e);if(n!=null)return sae(t,n.orientation,n.mirror)},uae=re([Mn,Hs,lae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),cae=(t,e)=>{var n=Gs(t,e);if(n!=null)return oae(t,n.orientation,n.mirror)},fae=re([Mn,Gs,cae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),UB=re(Mn,Gs,(t,e)=>{var n=typeof e.width=="number"?e.width:np;return{width:n,height:t.height}}),mM=(t,e,n)=>{switch(e){case"xAxis":return VB(t,n).width;case"yAxis":return UB(t,n).height;default:return}},BB=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,u=yl(t,r),f=e.map(d=>d.value);if(o&&u&&a==="category"&&i&&L4(f))return f}},Y1=re([dt,l0,yn,en],BB),zB=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=yl(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},Q1=re([dt,l0,fp,en],zB),pM=re([dt,Cie,td,nd,Y1,Q1,hp,G1,en],(t,e,n,r,i,a,o,u,f)=>{if(e==null)return null;var d=yl(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:u,range:o,realScaleType:n,scale:r}}),dae=(t,e,n,r,i,a,o,u,f)=>{if(!(e==null||r==null)){var d=yl(t,f),{type:m,ticks:p,tickCount:y}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=m==="category"&&r.bandwidth?r.bandwidth()/b:0;A=f==="angleAxis"&&a!=null&&a.length>=2?$n(a[0]-a[1])*2*A:A;var w=p||i;if(w){var S=w.map((I,N)=>{var P=o?o.indexOf(I):I;return{index:N,coordinate:r(P)+A,value:I,offset:A}});return S.filter(I=>!ii(I.coordinate))}return d&&u?u.map((I,N)=>({coordinate:r(I)+A,value:I,index:N,offset:A})):r.ticks?r.ticks(y).map(I=>({coordinate:r(I)+A,value:I,offset:A})):r.domain().map((I,N)=>({coordinate:r(I)+A,value:o?o[I]:I,index:N,offset:A}))}},qB=re([dt,fp,td,nd,G1,hp,Y1,Q1,en],dae),hae=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=yl(t,o),{tickCount:f}=e,d=0;return d=o==="angleAxis"&&(r==null?void 0:r.length)>=2?$n(r[0]-r[1])*2*d:d,u&&a?a.map((m,p)=>({coordinate:n(m)+d,value:m,index:p,offset:d})):n.ticks?n.ticks(f).map(m=>({coordinate:n(m)+d,value:m,offset:d})):n.domain().map((m,p)=>({coordinate:n(m)+d,value:i?i[m]:m,index:p,offset:d}))}},al=re([dt,fp,nd,hp,Y1,Q1,en],hae),sl=re(yn,nd,(t,e)=>{if(!(t==null||e==null))return zv(zv({},t),{},{scale:e})}),mae=re([yn,td,$1,MB],K1);re((t,e,n)=>j1(t,n),mae,(t,e)=>{if(!(t==null||e==null))return zv(zv({},t),{},{scale:e})});var pae=re([dt,Kb,Hb],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),FB=t=>t.options.defaultTooltipEventType,$B=t=>t.options.validateTooltipEventTypes;function KB(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function X1(t,e){var n=FB(t),r=$B(t);return KB(e,n,r)}function gae(t){return De(e=>X1(e,t))}var HB=(t,e)=>{var n,r=Number(e);if(!(ii(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},yae=t=>t.tooltip.settings,Bo={active:!1,index:null,dataKey:void 0,coordinate:void 0},vae={itemInteraction:{click:Bo,hover:Bo},axisInteraction:{click:Bo,hover:Bo},keyboardInteraction:Bo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},GB=li({name:"tooltip",initialState:vae,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Ns(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:bae,removeTooltipEntrySettings:_ae,setTooltipSettingsState:xae,setActiveMouseOverItemIndex:WB,mouseLeaveItem:wae,mouseLeaveChart:YB,setActiveClickItemIndex:Eae,setMouseOverAxisIndex:QB,setMouseClickAxisIndex:Sae,setSyncInteraction:qS,setKeyboardInteraction:FS}=GB.actions,Aae=GB.reducer;function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function my(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){Tae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tae(t,e,n){return(e=Iae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iae(t){var e=Cae(t,"string");return typeof e=="symbol"?e:e+""}function Cae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nae(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Oae(t){return t.index!=null}var XB=(t,e,n,r)=>{if(e==null)return Bo;var i=Nae(t,e,n);if(i==null)return Bo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Oae(i)){if(a)return my(my({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return my(my({},Bo),{},{coordinate:i.coordinate})},Z1=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!si(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},ZB=(t,e,n,r,i,a,o,u)=>{if(!(a==null||u==null)){var f=o[0],d=f==null?void 0:u(f.positions,a);if(d!=null)return d;var m=i==null?void 0:i[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},JB=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},mp=t=>t.options.tooltipPayloadSearcher,rd=t=>t.tooltip;function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){Pae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pae(t,e,n){return(e=Rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rae(t){var e=Dae(t,"string");return typeof e=="symbol"?e:e+""}function Dae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jae(t,e){return t!=null?t:e}var e5=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:m}=n,p=[];return t.reduce((y,b)=>{var A,{dataDefinedOnItem:w,settings:S}=b,I=jae(w,u),N=Array.isArray(I)?K6(I,d,m):I,P=(A=S==null?void 0:S.dataKey)!==null&&A!==void 0?A:r,k=S==null?void 0:S.nameKey,M;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&o==="axis"?M=V4(N,r,i):M=a(N,e,f,k),Array.isArray(M))M.forEach(R=>{var C=vM(vM({},S),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});y.push(ej({tooltipEntrySettings:C,dataKey:R.dataKey,payload:R.payload,value:Lt(R.payload,R.dataKey),name:R.name}))});else{var L;y.push(ej({tooltipEntrySettings:S,dataKey:P,payload:M,value:Lt(M,P),name:(L=Lt(M,k))!==null&&L!==void 0?L:S==null?void 0:S.name}))}return y},p)}},J1=re([Gn,dt,yB,I1,Ln],DB),Mae=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),kae=re([Ln,Jf],M1),pp=re([Mae,Gn,kae],k1),Lae=re([pp],t=>t.filter(s0)),Vae=re([pp],L1),id=re([Vae,xl],V1),Uae=re([Lae,xl,Gn],mB),eI=re([id,Gn,pp],B1),Bae=re([Gn],z1),zae=re([pp],t=>t.filter(s0)),qae=re([Uae,zae,up],wB),Fae=re([qae,xl,Ln],EB),$ae=re([pp],bB),Kae=re([id,Gn,$ae,u0,Ln],SB),Hae=re([TB,Ln,Jf],ed),Gae=re([Hae,Ln],NB),Wae=re([IB,Ln,Jf],ed),Yae=re([Wae,Ln],OB),Qae=re([CB,Ln,Jf],ed),Xae=re([Qae,Ln],PB),Zae=re([Gae,Xae,Yae],qv),Jae=re([Gn,Bae,Fae,Kae,Zae,dt,Ln],q1),t5=re([Gn,dt,id,eI,up,Ln,Jae],F1),ese=re([t5,Gn,J1],H1),tse=re([Gn,t5,ese,Ln],W1),n5=t=>{var e=Ln(t),n=Jf(t),r=!1;return hp(t,e,n,r)},r5=re([Gn,n5],i0),i5=re([Gn,J1,tse,r5],K1),nse=re([dt,eI,Gn,Ln],BB),rse=re([dt,eI,Gn,Ln],zB),ise=(t,e,n,r,i,a,o,u)=>{if(e){var{type:f}=e,d=yl(t,u);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=f==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?$n(i[0]-i[1])*2*p:p,d&&o?o.map((y,b)=>({coordinate:r(y)+p,value:y,index:b,offset:p})):r.domain().map((y,b)=>({coordinate:r(y)+p,value:a?a[y]:y,index:b,offset:p}))}}},Ws=re([dt,Gn,J1,i5,n5,nse,rse,Ln],ise),tI=re([FB,$B,yae],(t,e,n)=>KB(n.shared,t,e)),a5=t=>t.tooltip.settings.trigger,nI=t=>t.tooltip.settings.defaultIndex,d0=re([rd,tI,a5,nI],XB),ol=re([d0,id],Z1),s5=re([Ws,ol],HB),o5=re([d0],t=>{if(t)return t.dataKey}),l5=re([rd,tI,a5,nI],JB),ase=re([Fs,$s,dt,Mn,Ws,nI,l5,mp],ZB),sse=re([d0,ase],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),ose=re([d0],t=>t.active),lse=re([l5,ol,xl,hB,s5,mp,tI],e5),use=re([lse],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){cse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cse(t,e,n){return(e=fse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fse(t){var e=dse(t,"string");return typeof e=="symbol"?e:e+""}function dse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hse=()=>De(Gn),mse=()=>{var t=hse(),e=De(Ws),n=De(i5);return bm(_M(_M({},t),{},{scale:n}),e)},pse=()=>De(I1),rI=(t,e)=>e,u5=(t,e,n)=>n,iI=(t,e,n,r)=>r,gse=re(Ws,t=>Ub(t,e=>e.coordinate)),aI=re([rd,rI,u5,iI],XB),c5=re([aI,id],Z1),yse=(t,e,n)=>{if(e!=null){var r=rd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},f5=re([rd,rI,u5,iI],JB),Fv=re([Fs,$s,dt,Mn,Ws,iI,f5,mp],ZB),vse=re([aI,Fv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),d5=re(Ws,c5,HB),bse=re([f5,c5,xl,hB,d5,mp,rI],e5),_se=re([aI],t=>({isActive:t.active,activeIndex:t.index})),xse=(t,e,n,r,i,a,o,u)=>{if(!(!t||!e||!r||!i||!a)){var f=qJ(t.chartX,t.chartY,e,n,u);if(f){var d=$J(f,e),m=NJ(d,o,a,r,i),p=FJ(e,a,m,f);return{activeIndex:String(m),activeCoordinate:p}}}};function $S(){return $S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$S.apply(null,arguments)}function xM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(n),!0).forEach(function(r){wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wse(t,e,n){return(e=Ese(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ese(t){var e=Sse(t,"string");return typeof e=="symbol"?e:e+""}function Sse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ase(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:u,tooltipEventType:f,chartName:d}=t,m=e,p=n,y=r;if(!u||!m||d!=="ScatterChart"&&f!=="axis")return null;var b,A;if(d==="ScatterChart")b=m,A=$ee;else if(d==="BarChart")b=Kee(o,m,i,a),A=sU;else if(o==="radial"){var{cx:w,cy:S,radius:I,startAngle:N,endAngle:P}=oU(m);b={cx:w,cy:S,startAngle:N,endAngle:P,innerRadius:I,outerRadius:I},A=uU}else b={points:Ste(o,m,i)},A=e1;var k=typeof u=="object"&&"className"in u?u.className:void 0,M=py(py(py(py({stroke:"#ccc",pointerEvents:"none"},i),b),nn(u,!1)),{},{payload:p,payloadIndex:y,className:pt("recharts-tooltip-cursor",k)});return E.isValidElement(u)?E.cloneElement(u,M):E.createElement(A,M)}function Tse(t){var e=mse(),n=X6(),r=Yb(),i=pse();return E.createElement(Ase,$S({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var h5=E.createContext(null),Ise=()=>E.useContext(h5),tE={exports:{}},wM;function Cse(){return wM||(wM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,m){this.fn=f,this.context=d,this.once=m||!1}function a(f,d,m,p,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,p||f,y),A=n?n+d:d;return f._events[A]?f._events[A].fn?f._events[A]=[f._events[A],b]:f._events[A].push(b):(f._events[A]=b,f._eventsCount++),f}function o(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],m,p;if(this._eventsCount===0)return d;for(p in m=this._events)e.call(m,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},u.prototype.listeners=function(d){var m=n?n+d:d,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,A=new Array(b);y<b;y++)A[y]=p[y].fn;return A},u.prototype.listenerCount=function(d){var m=n?n+d:d,p=this._events[m];return p?p.fn?1:p.length:0},u.prototype.emit=function(d,m,p,y,b,A){var w=n?n+d:d;if(!this._events[w])return!1;var S=this._events[w],I=arguments.length,N,P;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),I){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,p),!0;case 4:return S.fn.call(S.context,m,p,y),!0;case 5:return S.fn.call(S.context,m,p,y,b),!0;case 6:return S.fn.call(S.context,m,p,y,b,A),!0}for(P=1,N=new Array(I-1);P<I;P++)N[P-1]=arguments[P];S.fn.apply(S.context,N)}else{var k=S.length,M;for(P=0;P<k;P++)switch(S[P].once&&this.removeListener(d,S[P].fn,void 0,!0),I){case 1:S[P].fn.call(S[P].context);break;case 2:S[P].fn.call(S[P].context,m);break;case 3:S[P].fn.call(S[P].context,m,p);break;case 4:S[P].fn.call(S[P].context,m,p,y);break;default:if(!N)for(M=1,N=new Array(I-1);M<I;M++)N[M-1]=arguments[M];S[P].fn.apply(S[P].context,N)}}return!0},u.prototype.on=function(d,m,p){return a(this,d,m,p,!1)},u.prototype.once=function(d,m,p){return a(this,d,m,p,!0)},u.prototype.removeListener=function(d,m,p,y){var b=n?n+d:d;if(!this._events[b])return this;if(!m)return o(this,b),this;var A=this._events[b];if(A.fn)A.fn===m&&(!y||A.once)&&(!p||A.context===p)&&o(this,b);else{for(var w=0,S=[],I=A.length;w<I;w++)(A[w].fn!==m||y&&!A[w].once||p&&A[w].context!==p)&&S.push(A[w]);S.length?this._events[b]=S.length===1?S[0]:S:o(this,b)}return this},u.prototype.removeAllListeners=function(d){var m;return d?(m=n?n+d:d,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(tE)),tE.exports}var Nse=Cse();const Ose=Ka(Nse);var Im=new Ose,KS="recharts.syncEvent.tooltip",EM="recharts.syncEvent.brush";function sI(t,e){if(e){var n=Number.parseInt(e,10);if(!ii(n))return t==null?void 0:t[n]}}var Pse={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},m5=li({name:"options",initialState:Pse,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Rse=m5.reducer,{createEventEmitter:Dse}=m5.actions;function jse(t){return t.tooltip.syncInteraction}var Mse={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},p5=li({name:"chartData",initialState:Mse,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:SM,setDataStartEndIndexes:kse,setComputedData:_me}=p5.actions,Lse=p5.reducer,Vse=["x","y"];function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(n),!0).forEach(function(r){Use(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Use(t,e,n){return(e=Bse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bse(t){var e=zse(t,"string");return typeof e=="symbol"?e:e+""}function zse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qse(t,e){if(t==null)return{};var n,r,i=Fse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var g5=()=>{};function $se(){var t=De(C1),e=De(N1),n=rn(),r=De(oB),i=De(Ws),a=Yb(),o=QT(),u=De(f=>f.rootProps.className);E.useEffect(()=>{if(t==null)return g5;var f=(d,m,p)=>{if(e!==p&&t===d){if(r==="index"){var y;if(o&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate){var b=m.payload.coordinate,{x:A,y:w}=b,S=qse(b,Vse),I=Jl(Jl(Jl({},S),typeof A=="number"&&{x:Math.max(o.x,Math.min(A,o.x+o.width))}),typeof w=="number"&&{y:Math.max(o.y,Math.min(w,o.y+o.height))}),N=Jl(Jl({},m),{},{payload:Jl(Jl({},m.payload),{},{coordinate:I})});n(N)}else n(m);return}if(i!=null){var P;if(typeof r=="function"){var k={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},M=r(i,k);P=i[M]}else r==="value"&&(P=i.find(z=>String(z.value)===m.payload.label));var{coordinate:L}=m.payload;if(P==null||m.payload.active===!1||L==null||o==null){n(qS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:R,y:C}=L,j=Math.min(R,o.x+o.width),U=Math.min(C,o.y+o.height),B={x:a==="horizontal"?P.coordinate:j,y:a==="horizontal"?U:P.coordinate},F=qS({active:m.payload.active,coordinate:B,dataKey:m.payload.dataKey,index:String(P.index),label:m.payload.label});n(F)}}};return Im.on(KS,f),()=>{Im.off(KS,f)}},[u,n,e,t,r,i,a,o])}function Kse(){var t=De(C1),e=De(N1),n=rn();E.useEffect(()=>{if(t==null)return g5;var r=(i,a,o)=>{e!==o&&t===i&&n(kse(a))};return Im.on(EM,r),()=>{Im.off(EM,r)}},[n,e,t])}function Hse(){var t=rn();E.useEffect(()=>{t(Dse())},[t]),$se(),Kse()}function Gse(t,e,n,r,i,a){var o=De(y=>yse(y,t,e)),u=De(N1),f=De(C1),d=De(oB),m=De(jse),p=m==null?void 0:m.active;E.useEffect(()=>{if(!p&&f!=null&&u!=null){var y=qS({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});Im.emit(KS,f,y,u)}},[p,n,o,i,r,u,f,d,a])}function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){Wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wse(t,e,n){return(e=Yse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yse(t){var e=Qse(t,"string");return typeof e=="symbol"?e:e+""}function Qse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xse(t){return t.dataKey}function Zse(t,e){return E.isValidElement(t)?E.cloneElement(t,e):typeof t=="function"?E.createElement(t,e):E.createElement(wee,e)}var CM=[],Jse={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!vl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function nE(t){var e=or(t,Jse),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:u,isAnimationActive:f,offset:d,payloadUniqBy:m,position:p,reverseDirection:y,useTranslate3d:b,wrapperStyle:A,cursor:w,shared:S,trigger:I,defaultIndex:N,portal:P,axisId:k}=e,M=rn(),L=typeof N=="number"?String(N):N;E.useEffect(()=>{M(xae({shared:S,trigger:I,axisId:k,active:n,defaultIndex:L}))},[M,S,I,k,n,L]);var R=QT(),C=tU(),j=gae(S),{activeIndex:U,isActive:B}=De(be=>_se(be,j,I,L)),F=De(be=>bse(be,j,I,L)),z=De(be=>d5(be,j,I,L)),pe=De(be=>vse(be,j,I,L)),we=F,W=Ise(),oe=n!=null?n:B,[ye,xe]=b6([we,oe]),Te=j==="axis"?z:void 0;Gse(j,I,pe,Te,U,oe);var $=P!=null?P:W;if($==null)return null;var Y=we!=null?we:CM;oe||(Y=CM),u&&Y.length&&(Y=m6(we.filter(be=>be.value!=null&&(be.hide!==!0||e.includeHidden)),m,Xse));var ve=Y.length>0,ee=E.createElement(Nee,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:f,active:oe,coordinate:pe,hasPayload:ve,offset:d,position:p,reverseDirection:y,useTranslate3d:b,viewBox:R,wrapperStyle:A,lastBoundingBox:ye,innerRef:xe,hasPortalFromProps:!!P},Zse(o,IM(IM({},e),{},{payload:Y,label:Te,active:oe,coordinate:pe,accessibilityLayer:C})));return E.createElement(E.Fragment,null,Hk.createPortal(ee,$),oe&&E.createElement(Tse,{cursor:w,tooltipEventType:j,coordinate:pe,payload:we,index:U}))}var rE={},iE={},aE={},NM;function eoe(){return NM||(NM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,u=null;const f=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),m=()=>{u!==null&&(n.apply(o,u),o=void 0,u=null)},p=()=>{d&&m(),w()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},A=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{A(),o=void 0,u=null},S=()=>{m()},I=function(...N){if(i!=null&&i.aborted)return;o=this,u=N;const P=y==null;b(),f&&P&&m()};return I.schedule=b,I.cancel=w,I.flush=S,i==null||i.addEventListener("abort",w,{once:!0}),I}t.debounce=e})(aE)),aE}var OM;function toe(){return OM||(OM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eoe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:u=!0,maxWait:f}=a,d=Array(2);o&&(d[0]="leading"),u&&(d[1]="trailing");let m,p=null;const y=e.debounce(function(...w){m=r.apply(this,w),p=null},i,{edges:d}),b=function(...w){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(m=r.apply(this,w),p=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,w),m)},A=()=>(y.flush(),m);return b.cancel=y.cancel,b.flush=A,b}t.debounce=n})(iE)),iE}var PM;function noe(){return PM||(PM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=toe();function n(r,i=0,a={}){const{leading:o=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:u})}t.throttle=n})(rE)),rE}var sE,RM;function roe(){return RM||(RM=1,sE=noe().throttle),sE}var ioe=roe();const aoe=Ka(ioe);var Hh=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){soe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function soe(t,e,n){return(e=ooe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ooe(t){var e=loe(t,"string");return typeof e=="symbol"?e:e+""}function loe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lE=E.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:u,maxHeight:f,children:d,debounce:m=0,id:p,className:y,onResize:b,style:A={}}=t,w=E.useRef(null),S=E.useRef();S.current=b,E.useImperativeHandle(e,()=>w.current);var[I,N]=E.useState({containerWidth:r.width,containerHeight:r.height}),P=E.useCallback((M,L)=>{N(R=>{var C=Math.round(M),j=Math.round(L);return R.containerWidth===C&&R.containerHeight===j?R:{containerWidth:C,containerHeight:j}})},[]);E.useEffect(()=>{var M=j=>{var U,{width:B,height:F}=j[0].contentRect;P(B,F),(U=S.current)===null||U===void 0||U.call(S,B,F)};m>0&&(M=aoe(M,m,{trailing:!0,leading:!1}));var L=new ResizeObserver(M),{width:R,height:C}=w.current.getBoundingClientRect();return P(R,C),L.observe(w.current),()=>{L.disconnect()}},[P,m]);var k=E.useMemo(()=>{var{containerWidth:M,containerHeight:L}=I;if(M<0||L<0)return null;Hh(pu(i)||pu(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Hh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=pu(i)?M:i,C=pu(a)?L:a;return n&&n>0&&(R?C=R/n:C&&(R=C*n),f&&C>f&&(C=f)),Hh(R>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,C,i,a,o,u,n),E.Children.map(d,j=>E.cloneElement(j,{width:R,height:C,style:oE({width:R,height:C},j.props.style)}))},[n,d,a,f,u,o,I,i]);return E.createElement("div",{id:p?"".concat(p):void 0,className:pt("recharts-responsive-container",y),style:oE(oE({},A),{},{width:i,height:a,minWidth:o,minHeight:u,maxHeight:f}),ref:w},E.createElement("div",{style:{width:0,height:0,overflow:"visible"}},k))}),h0=t=>null;h0.displayName="Cell";function uoe(t,e,n){return(e=coe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function coe(t){var e=foe(t,"string");return typeof e=="symbol"?e:e+""}function foe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class doe{constructor(e){uoe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){moe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function moe(t,e,n){return(e=poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function poe(t){var e=goe(t,"string");return typeof e=="symbol"?e:e+""}function goe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yoe={cacheSize:2e3,enableCache:!0},y5=hoe({},yoe),MM=new doe(y5.cacheSize),voe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kM="recharts_measurement_span";function boe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(u)}var LM=(t,e)=>{try{var n=document.getElementById(kM);n||(n=document.createElement("span"),n.setAttribute("id",kM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,voe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(i){return{width:0,height:0}}},Gh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||vl.isSsr)return{width:0,height:0};if(!y5.enableCache)return LM(e,n);var r=boe(e,n),i=MM.get(r);if(i)return i;var a=LM(e,n);return MM.set(r,a),a},VM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_oe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xoe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,v5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},woe=Object.keys(v5),Zc="NaN";function Eoe(t,e){return t*v5[e]}class Cr{static parse(e){var n,[,r,i]=(n=xoe.exec(e))!==null&&n!==void 0?n:[];return new Cr(parseFloat(r),i!=null?i:"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ii(e)&&(this.unit=""),n!==""&&!_oe.test(n)&&(this.num=NaN,this.unit=""),woe.includes(n)&&(this.num=Eoe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Cr(NaN,""):new Cr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Cr(NaN,""):new Cr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Cr(NaN,""):new Cr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Cr(NaN,""):new Cr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ii(this.num)}}function b5(t){if(t.includes(Zc))return Zc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=VM.exec(e))!==null&&n!==void 0?n:[],o=Cr.parse(r!=null?r:""),u=Cr.parse(a!=null?a:""),f=i==="*"?o.multiply(u):o.divide(u);if(f.isNaN())return Zc;e=e.replace(VM,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,m,p,y]=(d=UM.exec(e))!==null&&d!==void 0?d:[],b=Cr.parse(m!=null?m:""),A=Cr.parse(y!=null?y:""),w=p==="+"?b.add(A):b.subtract(A);if(w.isNaN())return Zc;e=e.replace(UM,w.toString())}return e}var BM=/\(([^()]*)\)/;function Soe(t){for(var e=t,n;(n=BM.exec(e))!=null;){var[,r]=n;e=e.replace(BM,b5(r))}return e}function Aoe(t){var e=t.replace(/\s+/g,"");return e=Soe(e),e=b5(e),e}function Toe(t){try{return Aoe(t)}catch(e){return Zc}}function uE(t){var e=Toe(t.slice(5,-1));return e===Zc?"":e}var Ioe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Coe=["dx","dy","angle","className","breakAll"];function HS(){return HS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HS.apply(null,arguments)}function zM(t,e){if(t==null)return{};var n,r,i=Noe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Noe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _5=/[ \f\n\r\t\v\u2028\u2029]+/,x5=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Zt(e)||(n?i=e.toString().split(""):i=e.toString().split(_5));var a=i.map(u=>({word:u,width:Gh(u,r).width})),o=n?0:Gh("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch(u){return null}},Ooe=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:u,breakAll:f}=t,d=Le(a),m=o,p=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce((F,z)=>{var{word:pe,width:we}=z,W=F[F.length-1];if(W&&(r==null||i||W.width+we+n<Number(r)))W.words.push(pe),W.width+=we+n;else{var oe={words:[pe],width:we};F.push(oe)}return F},[])},y=p(e),b=U=>U.reduce((B,F)=>B.width>F.width?B:F);if(!d||i)return y;var A=y.length>a||b(y).width>Number(r);if(!A)return y;for(var w="",S=U=>{var B=m.slice(0,U),F=x5({breakAll:f,style:u,children:B+w}).wordsWithComputedWidth,z=p(F),pe=z.length>a||b(z).width>Number(r);return[pe,z]},I=0,N=m.length-1,P=0,k;I<=N&&P<=m.length-1;){var M=Math.floor((I+N)/2),L=M-1,[R,C]=S(L),[j]=S(M);if(!R&&!j&&(I=M+1),R&&j&&(N=M-1),!R&&j){k=C;break}P++}return k||y},qM=t=>{var e=Zt(t)?[]:t.toString().split(_5);return[{words:e}]},Poe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!vl.isSsr){var u,f,d=x5({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:m,spaceWidth:p}=d;u=m,f=p}else return qM(r);return Ooe({breakAll:a,children:r,maxLines:o,style:i},u,f,e,n)}return qM(r)},FM="#808080",m0=E.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:u="start",verticalAnchor:f="end",fill:d=FM}=t,m=zM(t,Ioe),p=E.useMemo(()=>Poe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:o,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,o,m.style,m.width]),{dx:y,dy:b,angle:A,className:w,breakAll:S}=m,I=zM(m,Coe);if(!Fa(n)||!Fa(r)||p.length===0)return null;var N=n+(Le(y)?y:0),P=r+(Le(b)?b:0),k;switch(f){case"start":k=uE("calc(".concat(a,")"));break;case"middle":k=uE("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:k=uE("calc(".concat(p.length-1," * -").concat(i,")"));break}var M=[];if(o){var L=p[0].width,{width:R}=m;M.push("scale(".concat(Le(R)?R/L:1,")"))}return A&&M.push("rotate(".concat(A,", ").concat(N,", ").concat(P,")")),M.length&&(I.transform=M.join(" ")),E.createElement("text",HS({},nn(I,!0),{ref:e,x:N,y:P,className:pt("recharts-text",w),textAnchor:u,fill:d.includes("url")?FM:d}),p.map((C,j)=>{var U=C.words.join(S?"":" ");return E.createElement("tspan",{x:N,dy:j===0?k:i,key:"".concat(U,"-").concat(j)},U)}))});m0.displayName="Text";var Roe=["labelRef"];function Doe(t,e){if(t==null)return{};var n,r,i=joe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function joe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){Moe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Moe(t,e,n){return(e=koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function koe(t){var e=Loe(t,"string");return typeof e=="symbol"?e:e+""}function Loe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(null,arguments)}var w5=E.createContext(null),Voe=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,o=E.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return E.createElement(w5.Provider,{value:o},a)},E5=()=>{var t=E.useContext(w5),e=QT();return t||e},Uoe=E.createContext(null),Boe=()=>{var t=E.useContext(Uoe),e=De(dB);return t||e},zoe=t=>{var{value:e,formatter:n}=t,r=Zt(t.children)?e:t.children;return typeof n=="function"?n(r):r},oI=t=>t!=null&&typeof t=="function",qoe=(t,e)=>{var n=$n(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Foe=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:u,cy:f,innerRadius:d,outerRadius:m,startAngle:p,endAngle:y,clockWise:b}=i,A=(d+m)/2,w=qoe(p,y),S=w>=0?1:-1,I,N;switch(e){case"insideStart":I=p+S*a,N=b;break;case"insideEnd":I=y-S*a,N=!b;break;case"end":I=y+S*a,N=b;break;default:throw new Error("Unsupported position ".concat(e))}N=w<=0?N:!N;var P=Cn(u,f,A,I),k=Cn(u,f,A,I+(N?1:-1)*359),M="M".concat(P.x,",").concat(P.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(N?0:1,`,
    `).concat(k.x,",").concat(k.y),L=Zt(t.id)?gm("recharts-radial-line-"):t.id;return E.createElement("text",ys({},r,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",o)}),E.createElement("defs",null,E.createElement("path",{id:L,d:M})),E.createElement("textPath",{xlinkHref:"#".concat(L)},n))},$oe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}=t,d=(u+f)/2;if(n==="outside"){var{x:m,y:p}=Cn(r,i,o+e,d);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+o)/2,{x:b,y:A}=Cn(r,i,y,d);return{x:b,y:A,textAnchor:"middle",verticalAnchor:"middle"}},S5=t=>"cx"in t&&Le(t.cx),Koe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!S5(n)&&(a=n);var{x:o,y:u,width:f,height:d}=e,m=d>=0?1:-1,p=m*r,y=m>0?"end":"start",b=m>0?"start":"end",A=f>=0?1:-1,w=A*r,S=A>0?"end":"start",I=A>0?"start":"end";if(i==="top"){var N={x:o+f/2,y:u-m*r,textAnchor:"middle",verticalAnchor:y};return hn(hn({},N),a?{height:Math.max(u-a.y,0),width:f}:{})}if(i==="bottom"){var P={x:o+f/2,y:u+d+p,textAnchor:"middle",verticalAnchor:b};return hn(hn({},P),a?{height:Math.max(a.y+a.height-(u+d),0),width:f}:{})}if(i==="left"){var k={x:o-w,y:u+d/2,textAnchor:S,verticalAnchor:"middle"};return hn(hn({},k),a?{width:Math.max(k.x-a.x,0),height:d}:{})}if(i==="right"){var M={x:o+f+w,y:u+d/2,textAnchor:I,verticalAnchor:"middle"};return hn(hn({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:d}:{})}var L=a?{width:f,height:d}:{};return i==="insideLeft"?hn({x:o+w,y:u+d/2,textAnchor:I,verticalAnchor:"middle"},L):i==="insideRight"?hn({x:o+f-w,y:u+d/2,textAnchor:S,verticalAnchor:"middle"},L):i==="insideTop"?hn({x:o+f/2,y:u+p,textAnchor:"middle",verticalAnchor:b},L):i==="insideBottom"?hn({x:o+f/2,y:u+d-p,textAnchor:"middle",verticalAnchor:y},L):i==="insideTopLeft"?hn({x:o+w,y:u+p,textAnchor:I,verticalAnchor:b},L):i==="insideTopRight"?hn({x:o+f-w,y:u+p,textAnchor:S,verticalAnchor:b},L):i==="insideBottomLeft"?hn({x:o+w,y:u+d-p,textAnchor:I,verticalAnchor:y},L):i==="insideBottomRight"?hn({x:o+f-w,y:u+d-p,textAnchor:S,verticalAnchor:y},L):i&&typeof i=="object"&&(Le(i.x)||pu(i.x))&&(Le(i.y)||pu(i.y))?hn({x:o+gr(i.x,f),y:u+gr(i.y,d),textAnchor:"end",verticalAnchor:"end"},L):hn({x:o+f/2,y:u+d/2,textAnchor:"middle",verticalAnchor:"middle"},L)},Hoe={offset:5};function Mo(t){var e=or(t,Hoe),{viewBox:n,position:r,value:i,children:a,content:o,className:u="",textBreakAll:f,labelRef:d}=e,m=Boe(),p=E5(),y=r==="center"?p:m!=null?m:p,b=n||y;if(!b||Zt(i)&&Zt(a)&&!E.isValidElement(o)&&typeof o!="function")return null;var A=hn(hn({},e),{},{viewBox:b});if(E.isValidElement(o)){var{labelRef:w}=A,S=Doe(A,Roe);return E.cloneElement(o,S)}var I;if(typeof o=="function"){if(I=E.createElement(o,A),E.isValidElement(I))return I}else I=zoe(e);var N=S5(b),P=nn(e,!0);if(N&&(r==="insideStart"||r==="insideEnd"||r==="end"))return Foe(e,r,I,P,b);var k=N?$oe(b,e.offset,e.position):Koe(e,b);return E.createElement(m0,ys({ref:d,className:pt("recharts-label",u)},P,k,{breakAll:f}),I)}Mo.displayName="Label";var Goe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?E.createElement(Mo,ys({key:"label-implicit"},r)):Fa(t)?E.createElement(Mo,ys({key:"label-implicit",value:t},r)):E.isValidElement(t)?t.type===Mo?E.cloneElement(t,hn({key:"label-implicit"},r)):E.createElement(Mo,ys({key:"label-implicit",content:t},r)):oI(t)?E.createElement(Mo,ys({key:"label-implicit",content:t},r)):t&&typeof t=="object"?E.createElement(Mo,ys({},t,{key:"label-implicit"},r)):null};function Woe(t){var{label:e}=t,n=E5();return Goe(e,n)||null}var cE={},fE={},KM;function Yoe(){return KM||(KM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(fE)),fE}var dE={},HM;function Qoe(){return HM||(HM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(dE)),dE}var GM;function Xoe(){return GM||(GM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yoe(),n=Qoe(),r=zT();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(cE)),cE}var hE,WM;function Zoe(){return WM||(WM=1,hE=Xoe().last),hE}var Joe=Zoe();const ele=Ka(Joe);var tle=["valueAccessor"],nle=["dataKey","clockWise","id","textBreakAll"];function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(null,arguments)}function YM(t,e){if(t==null)return{};var n,r,i=rle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ile=t=>Array.isArray(t.value)?ele(t.value):t.value,A5=E.createContext(void 0),T5=A5.Provider,I5=E.createContext(void 0),ale=I5.Provider;function sle(){return E.useContext(A5)}function ole(){return E.useContext(I5)}function Ly(t){var{valueAccessor:e=ile}=t,n=YM(t,tle),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,u=YM(n,nle),f=sle(),d=ole(),m=f||d;return!m||!m.length?null:E.createElement(sr,{className:"recharts-label-list"},m.map((p,y)=>{var b,A=Zt(r)?e(p,y):Lt(p&&p.payload,r),w=Zt(a)?{}:{id:"".concat(a,"-").concat(y)};return E.createElement(Mo,$v({},nn(p,!0),u,w,{fill:(b=n.fill)!==null&&b!==void 0?b:p.fill,parentViewBox:p.parentViewBox,value:A,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(y),index:y}))}))}Ly.displayName="LabelList";function lI(t){var{label:e}=t;return e?e===!0?E.createElement(Ly,{key:"labelList-implicit"}):E.isValidElement(e)||oI(e)?E.createElement(Ly,{key:"labelList-implicit",content:e}):typeof e=="object"?E.createElement(Ly,$v({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GS.apply(null,arguments)}var C5=t=>{var{cx:e,cy:n,r,className:i}=t,a=pt("recharts-dot",i);return e===+e&&n===+n&&r===+r?E.createElement("circle",GS({},Ya(t),RT(t),{className:a,cx:e,cy:n,r})):null},N5=t=>t.graphicalItems.polarItems,lle=re([en,cp],M1),uI=re([N5,yn,lle],k1),ule=re([uI],L1),cI=re([ule,S1],V1),cle=re([cI,yn,uI],B1),fle=re([cI,yn,uI],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,o=Lt(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Lt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),QM=()=>{},dle=re([yn,RB,QM,fle,QM,dt,en],q1),O5=re([yn,dt,cI,cle,up,en,dle],F1),hle=re([O5,yn,td],H1);re([yn,O5,hle,en],W1);var mle={radiusAxis:{},angleAxis:{}},P5=li({name:"polarAxis",initialState:mle,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:xme,removeRadiusAxis:wme,addAngleAxis:Eme,removeAngleAxis:Sme}=P5.actions,ple=P5.reducer;function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gle(t,e,n){return(e=yle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yle(t){var e=vle(t,"string");return typeof e=="symbol"?e:e+""}function vle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ble=(t,e)=>e,fI=re([N5,ble],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),_le=[],dI=(t,e,n)=>(n==null?void 0:n.length)===0?_le:n,R5=re([S1,fI,dI],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>ZM(ZM({},e.presentationProps),a.props))),i!=null)return i}}),xle=re([R5,fI,dI],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,o=Lt(r,e.nameKey,e.name),u;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:Yf(o,e.dataKey),color:u,payload:r,type:e.legendType}})}),wle=re([R5,fI,dI,Mn],(t,e,n,r)=>{if(!(e==null||t==null))return bue({offset:r,pieSettings:e,displayedData:t,cells:n})}),mE={},JM;function Ele(){return JM||(JM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(mE)),mE}var pE,ek;function Sle(){return ek||(ek=1,pE=Ele().isPlainObject),pE}var Ale=Sle();const Tle=Ka(Ale);function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){Ile(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ile(t,e,n){return(e=Cle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cle(t){var e=Nle(t,"string");return typeof e=="symbol"?e:e+""}function Nle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(null,arguments)}var rk=(t,e,n,r,i)=>{var a=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},Ole={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ple=t=>{var e=or(t,Ole),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:u}=e,{animationEasing:f,animationDuration:d,animationBegin:m,isUpdateAnimationActive:p}=e,y=E.useRef(),[b,A]=E.useState(-1),w=E.useRef(i),S=E.useRef(a),I=E.useRef(o),N=E.useRef(n),P=E.useRef(r),k=ip(t,"trapezoid-");if(E.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var pe=y.current.getTotalLength();pe&&A(pe)}catch(we){}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var M=pt("recharts-trapezoid",u);if(!p)return E.createElement("g",null,E.createElement("path",Kv({},nn(e,!0),{className:M,d:rk(n,r,i,a,o)})));var L=w.current,R=S.current,C=I.current,j=N.current,U=P.current,B="0px ".concat(b===-1?1:b,"px"),F="".concat(b,"px 0px"),z=nU(["strokeDasharray"],d,f);return E.createElement(rp,{animationId:k,key:k,canBegin:b>0,duration:d,easing:f,isActive:p,begin:m},pe=>{var we=on(L,i,pe),W=on(R,a,pe),oe=on(C,o,pe),ye=on(j,n,pe),xe=on(U,r,pe);y.current&&(w.current=we,S.current=W,I.current=oe,N.current=ye,P.current=xe);var Te=pe>0?{transition:z,strokeDasharray:F}:{strokeDasharray:B};return E.createElement("path",Kv({},nn(e,!0),{className:M,d:rk(ye,xe,we,W,oe),ref:y,style:nk(nk({},Te),e.style)}))})},Rle=["option","shapeType","propTransformer","activeClassName","isActive"];function Dle(t,e){if(t==null)return{};var n,r,i=jle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){Mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mle(t,e,n){return(e=kle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kle(t){var e=Lle(t,"string");return typeof e=="symbol"?e:e+""}function Lle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vle(t,e){return Hv(Hv({},e),t)}function Ule(t,e){return t==="symbols"}function ak(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return E.createElement(sU,n);case"trapezoid":return E.createElement(Ple,n);case"sector":return E.createElement(uU,n);case"symbols":if(Ule(e))return E.createElement(VT,n);break;default:return null}}function Ble(t){return E.isValidElement(t)?t.props:t}function D5(t){var{option:e,shapeType:n,propTransformer:r=Vle,activeClassName:i="recharts-active-shape",isActive:a}=t,o=Dle(t,Rle),u;if(E.isValidElement(e))u=E.cloneElement(e,Hv(Hv({},o),Ble(e)));else if(typeof e=="function")u=e(o);else if(Tle(e)&&typeof e!="boolean"){var f=r(e,o);u=E.createElement(ak,{shapeType:n,elementProps:f})}else{var d=o;u=E.createElement(ak,{shapeType:n,elementProps:d})}return a?E.createElement(sr,{className:i},u):u}var hI=(t,e)=>{var n=rn();return(r,i)=>a=>{t==null||t(r,i,a),n(WB({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},mI=t=>{var e=rn();return(n,r)=>i=>{t==null||t(n,r,i),e(wae())}},pI=(t,e)=>{var n=rn();return(r,i)=>a=>{t==null||t(r,i,a),n(Eae({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function gI(t){var{fn:e,args:n}=t,r=rn(),i=jr();return E.useEffect(()=>{if(!i){var a=e(n);return r(bae(a)),()=>{r(_ae(a))}}},[e,n,r,i]),null}var j5=()=>{};function M5(t){var{legendPayload:e}=t,n=rn(),r=jr();return E.useEffect(()=>r?j5:(n(J6(e)),()=>{n(eU(e))}),[n,r,e]),null}function zle(t){var{legendPayload:e}=t,n=rn(),r=De(dt);return E.useEffect(()=>r!=="centric"&&r!=="radial"?j5:(n(J6(e)),()=>{n(eU(e))}),[n,r,e]),null}var gE,qle=()=>{var[t]=E.useState(()=>gm("uid-"));return t},Fle=(gE=rq.useId)!==null&&gE!==void 0?gE:qle;function $le(t,e){var n=Fle();return e||(t?"".concat(t,"-").concat(n):n)}var Kle=E.createContext(void 0),yI=t=>{var{id:e,type:n,children:r}=t,i=$le("recharts-".concat(n),e);return E.createElement(Kle.Provider,{value:i},r(i))},Hle={cartesianItems:[],polarItems:[]},k5=li({name:"graphicalItems",initialState:Hle,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Ns(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Ns(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Ns(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Gle,replaceCartesianGraphicalItem:Wle,removeCartesianGraphicalItem:Yle,addPolarGraphicalItem:Qle,removePolarGraphicalItem:Xle}=k5.actions,Zle=k5.reducer;function L5(t){var e=rn(),n=E.useRef(null);return E.useEffect(()=>{n.current===null?e(Gle(t)):n.current!==t&&e(Wle({prev:n.current,next:t})),n.current=t},[e,t]),E.useEffect(()=>()=>{n.current&&(e(Yle(n.current)),n.current=null)},[e]),null}function Jle(t){var e=rn();return E.useEffect(()=>(e(Qle(t)),()=>{e(Xle(t))}),[e,t]),null}var eue=["onMouseEnter","onClick","onMouseLeave"],tue=["id"],nue=["id"];function vI(t,e){if(t==null)return{};var n,r,i=rue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iue(t,e,n){return(e=aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aue(t){var e=sue(t,"string");return typeof e=="symbol"?e:e+""}function sue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(null,arguments)}function oue(t){var e=E.useMemo(()=>DT(t.children,h0),[t.children]),n=De(r=>xle(r,t.id,e));return n==null?null:E.createElement(zle,{legendPayload:n})}function lue(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:u,hide:f,tooltipType:d}=t;return{dataDefinedOnItem:r.map(m=>m.tooltipPayload),positions:r.map(m=>m.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:n,name:Yf(u,e),hide:f,type:d,color:o,unit:""}}}var uue=(t,e)=>t>e?"start":t<e?"end":"middle",cue=(t,e,n)=>gr(typeof e=="function"?e(t):e,n,n*.8),fue=(t,e,n)=>{var{top:r,left:i,width:a,height:o}=e,u=$6(a,o),f=i+gr(t.cx,a,a/2),d=r+gr(t.cy,o,o/2),m=gr(t.innerRadius,u,0),p=cue(n,t.outerRadius,u),y=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:f,cy:d,innerRadius:m,outerRadius:p,maxRadius:y}},due=(t,e)=>{var n=$n(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function hue(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var mue=(t,e)=>{if(E.isValidElement(t))return E.cloneElement(t,e);if(typeof t=="function")return t(e);var n=pt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return E.createElement(e1,ll({},e,{type:"linear",className:n}))},pue=(t,e,n)=>{if(E.isValidElement(t))return E.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),E.isValidElement(r)))return r;var i=pt("recharts-pie-label-text",hue(t));return E.createElement(m0,ll({},e,{alignmentBaseline:"middle",className:i}),r)};function gue(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!e)return null;var u=Ya(n),f=nn(i,!1),d=nn(a,!1),m=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((y,b)=>{var A=(y.startAngle+y.endAngle)/2,w=Cn(y.cx,y.cy,y.outerRadius+m,A),S=Ht(Ht(Ht(Ht({},u),y),{},{stroke:"none"},f),{},{index:b,textAnchor:uue(w.x,y.cx)},w),I=Ht(Ht(Ht(Ht({},u),y),{},{fill:"none",stroke:y.fill},d),{},{index:b,points:[Cn(y.cx,y.cy,y.outerRadius,A),w],key:"line"});return E.createElement(sr,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},a&&mue(a,I),pue(i,S,Lt(y,o)))});return E.createElement(sr,{className:"recharts-pie-labels"},p)}function yue(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?E.createElement(lI,{label:i}):E.createElement(gue,{sectors:e,props:n,showLabels:r})}function vue(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=De(ol),{onMouseEnter:o,onClick:u,onMouseLeave:f}=i,d=vI(i,eue),m=hI(o,i.dataKey),p=mI(f),y=pI(u,i.dataKey);return e==null||e.length===0?null:E.createElement(E.Fragment,null,e.map((b,A)=>{if((b==null?void 0:b.startAngle)===0&&(b==null?void 0:b.endAngle)===0&&e.length!==1)return null;var w=n&&String(A)===a,S=a?r:null,I=w?n:S,N=Ht(Ht({},b),{},{stroke:b.stroke,tabIndex:-1,[Y6]:A,[Q6]:i.dataKey});return E.createElement(sr,ll({tabIndex:-1,className:"recharts-pie-sector"},Jm(d,b,A),{onMouseEnter:m(b,A),onMouseLeave:p(b,A),onClick:y(b,A),key:"sector-".concat(b==null?void 0:b.startAngle,"-").concat(b==null?void 0:b.endAngle,"-").concat(b.midAngle,"-").concat(A)}),E.createElement(D5,ll({option:I,isActive:w,shapeType:"sector"},N)))}))}function bue(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:o,startAngle:u,endAngle:f,dataKey:d,nameKey:m,tooltipType:p}=n,y=Math.abs(n.minAngle),b=due(u,f),A=Math.abs(b),w=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter(L=>Lt(L,d,0)!==0).length,I=(A>=360?S:S-1)*w,N=A-S*y-I,P=r.reduce((L,R)=>{var C=Lt(R,d,0);return L+(Le(C)?C:0)},0),k;if(P>0){var M;k=r.map((L,R)=>{var C=Lt(L,d,0),j=Lt(L,m,R),U=fue(n,a,L),B=(Le(C)?C:0)/P,F,z=Ht(Ht({},L),i&&i[R]&&i[R].props);R?F=M.endAngle+$n(b)*w*(C!==0?1:0):F=u;var pe=F+$n(b)*((C!==0?y:0)+B*N),we=(F+pe)/2,W=(U.innerRadius+U.outerRadius)/2,oe=[{name:j,value:C,payload:z,dataKey:d,type:p}],ye=Cn(U.cx,U.cy,W,we);return M=Ht(Ht(Ht(Ht({},n.presentationProps),{},{percent:B,cornerRadius:o,name:j,tooltipPayload:oe,midAngle:we,middleRadius:W,tooltipPosition:ye},z),U),{},{value:C,startAngle:F,endAngle:pe,payload:z,paddingAngle:$n(b)*w}),M})}return k}function _ue(t){var{showLabels:e,sectors:n,children:r}=t,i=E.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return E.createElement(ale,{value:e?i:void 0},r)}function xue(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:u,activeShape:f,inactiveShape:d,onAnimationStart:m,onAnimationEnd:p}=e,y=ip(e,"recharts-pie-"),b=n.current,[A,w]=E.useState(!1),S=E.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),I=E.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return E.createElement(_ue,{showLabels:!A,sectors:r},E.createElement(rp,{animationId:y,begin:a,duration:o,isActive:i,easing:u,onAnimationStart:I,onAnimationEnd:S,key:y},N=>{var P=[],k=r&&r[0],M=k==null?void 0:k.startAngle;return r==null||r.forEach((L,R)=>{var C=b&&b[R],j=R>0?Lu(L,"paddingAngle",0):0;if(C){var U=on(C.endAngle-C.startAngle,L.endAngle-L.startAngle,N),B=Ht(Ht({},L),{},{startAngle:M+j,endAngle:M+U+j});P.push(B),M=B.endAngle}else{var{endAngle:F,startAngle:z}=L,pe=on(0,F-z,N),we=Ht(Ht({},L),{},{startAngle:M+j,endAngle:M+pe+j});P.push(we),M=we.endAngle}}),n.current=P,E.createElement(sr,null,E.createElement(vue,{sectors:P,activeShape:f,inactiveShape:d,allOtherPieProps:e}))}),E.createElement(yue,{showLabels:!A,sectors:r,props:e}),e.children)}var wue={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!vl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Eue(t){var{id:e}=t,n=vI(t,tue),{hide:r,className:i,rootTabIndex:a}=t,o=E.useMemo(()=>DT(t.children,h0),[t.children]),u=De(m=>wle(m,e,o)),f=E.useRef(null),d=pt("recharts-pie",i);return r||u==null?(f.current=null,E.createElement(sr,{tabIndex:a,className:d})):E.createElement(E.Fragment,null,E.createElement(gI,{fn:lue,args:Ht(Ht({},t),{},{sectors:u})}),E.createElement(sr,{tabIndex:a,className:d},E.createElement(xue,{props:Ht(Ht({},n),{},{sectors:u}),previousSectorsRef:f})))}function V5(t){var e=or(t,wue),{id:n}=e,r=vI(e,nue),i=Ya(r);return E.createElement(yI,{id:n,type:"pie"},a=>E.createElement(E.Fragment,null,E.createElement(Jle,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),E.createElement(oue,ll({},r,{id:a})),E.createElement(Eue,ll({},r,{id:a}))))}V5.displayName="Pie";function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){Sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sue(t,e,n){return(e=Aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aue(t){var e=Tue(t,"string");return typeof e=="symbol"?e:e+""}function Tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iue={xAxis:{},yAxis:{},zAxis:{}},U5=li({name:"cartesianAxis",initialState:Iue,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=lk(lk({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Cue,removeXAxis:Nue,addYAxis:Oue,removeYAxis:Pue,addZAxis:Ame,removeZAxis:Tme,updateYAxisWidth:Rue}=U5.actions,Due=U5.reducer,jue=re([Mn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Mue=re([jue,Fs,$s],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),bI=()=>De(Mue),kue=()=>De(use);function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){Lue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lue(t,e,n){return(e=Vue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vue(t){var e=Uue(t,"string");return typeof e=="symbol"?e:e+""}function Uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bue=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=ck(ck({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r!=null?r:"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},nn(i,!1)),RT(i)),u;return E.isValidElement(i)?u=E.cloneElement(i,o):typeof i=="function"?u=i(o):u=E.createElement(C5,o),E.createElement(sr,{className:"recharts-active-dot"},u)};function zue(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=De(ol),o=kue();if(e==null||o==null)return null;var u=e.find(f=>o.includes(f.payload));return Zt(u)?null:Bue({point:u,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var que="Invariant failed";function Fue(t,e){throw new Error(que)}var $ue=["x","y"];function WS(){return WS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WS.apply(null,arguments)}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){Kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kue(t,e,n){return(e=Hue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hue(t){var e=Gue(t,"string");return typeof e=="symbol"?e:e+""}function Gue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wue(t,e){if(t==null)return{};var n,r,i=Yue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Que(t,e){var{x:n,y:r}=t,i=Wue(t,$ue),a="".concat(n),o=parseInt(a,10),u="".concat(r),f=parseInt(u,10),d="".concat(e.height||i.height),m=parseInt(d,10),p="".concat(e.width||i.width),y=parseInt(p,10);return _h(_h(_h(_h(_h({},e),i),o?{x:o}:{}),f?{y:f}:{}),{},{height:m,width:y,name:e.name,radius:e.radius})}function _I(t){return E.createElement(D5,WS({shapeType:"rectangle",propTransformer:Que,activeClassName:"recharts-active-bar"},t))}var Xue=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Le(e))return e;var a=Le(r)||Zt(r);return a?e(r,i):(a||Fue(),n)}},Zue={},B5=li({name:"errorBars",initialState:Zue,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Ime,replaceErrorBar:Cme,removeErrorBar:Nme}=B5.actions,Jue=B5.reducer,ece=["children"];function tce(t,e){if(t==null)return{};var n,r,i=nce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ice=E.createContext(rce);function z5(t){var{children:e}=t,n=tce(t,ece);return E.createElement(ice.Provider,{value:n},e)}function xI(t,e){var n,r,i=De(d=>Hs(d,t)),a=De(d=>Gs(d,e)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:$r.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Kr.allowDataOverflow,f=o||u;return{needClip:f,needClipX:o,needClipY:u}}function q5(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=bI(),{needClipX:a,needClipY:o,needClip:u}=xI(e,n);if(!u)return null;var{x:f,y:d,width:m,height:p}=i;return E.createElement("clipPath",{id:"clipPath-".concat(r)},E.createElement("rect",{x:a?f:f-m/2,y:o?d:d-p/2,width:a?m:m*2,height:o?p:p*2}))}var ace=["onMouseEnter","onMouseLeave","onClick"],sce=["value","background","tooltipPosition"],oce=["id"],lce=["onMouseEnter","onClick","onMouseLeave"];function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(null,arguments)}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){uce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uce(t,e,n){return(e=cce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cce(t){var e=fce(t,"string");return typeof e=="symbol"?e:e+""}function fce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gv(t,e){if(t==null)return{};var n,r,i=dce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hce=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Yf(n,e),payload:t}]};function mce(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Yf(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:u}}}function pce(t){var e=De(ol),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:u,onClick:f}=a,d=Gv(a,ace),m=hI(o,r),p=mI(u),y=pI(f,r);if(!i||n==null)return null;var b=nn(i,!1);return E.createElement(E.Fragment,null,n.map((A,w)=>{var{value:S,background:I,tooltipPosition:N}=A,P=Gv(A,sce);if(!I)return null;var k=m(A,w),M=p(A,w),L=y(A,w),R=br(br(br(br(br({option:i,isActive:String(w)===e},P),{},{fill:"#eee"},I),b),Jm(d,A,w)),{},{onMouseEnter:k,onMouseLeave:M,onClick:L,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return E.createElement(_I,ul({key:"background-bar-".concat(R.index)},R))}))}function gce(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return br(br({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return E.createElement(T5,{value:e?i:void 0},n)}function yce(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=t,u=De(ol),f=De(o5),d=n&&String(a)===u&&(f==null||o===f),m=d?n:e;return E.createElement(_I,ul({},r,i,{isActive:d,option:m,index:a,dataKey:o}))}function vce(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return E.createElement(_I,ul({},n,r,{isActive:!1,option:e,index:i,dataKey:a}))}function bce(t){var{data:e,props:n}=t,r=Ya(n),{id:i}=r,a=Gv(r,oce),{shape:o,dataKey:u,activeBar:f}=n,{onMouseEnter:d,onClick:m,onMouseLeave:p}=n,y=Gv(n,lce),b=hI(d,u),A=mI(p),w=pI(m,u);return e?E.createElement(E.Fragment,null,e.map((S,I)=>E.createElement(sr,ul({className:"recharts-bar-rectangle"},Jm(y,S,I),{onMouseEnter:b(S,I),onMouseLeave:A(S,I),onClick:w(S,I),key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(I)}),f?E.createElement(yce,{shape:o,activeBar:f,baseProps:a,entry:S,index:I,dataKey:u}):E.createElement(vce,{shape:o,baseProps:a,entry:S,index:I,dataKey:u})))):null}function _ce(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:u,animationEasing:f,onAnimationEnd:d,onAnimationStart:m}=e,p=n.current,y=ip(e,"recharts-bar-"),[b,A]=E.useState(!1),w=!b,S=E.useCallback(()=>{typeof d=="function"&&d(),A(!1)},[d]),I=E.useCallback(()=>{typeof m=="function"&&m(),A(!0)},[m]);return E.createElement(gce,{showLabels:w,rects:r},E.createElement(rp,{animationId:y,begin:o,duration:u,isActive:a,easing:f,onAnimationEnd:S,onAnimationStart:I,key:y},N=>{var P=N===1?r:r==null?void 0:r.map((k,M)=>{var L=p&&p[M];if(L)return br(br({},k),{},{x:on(L.x,k.x,N),y:on(L.y,k.y,N),width:on(L.width,k.width,N),height:on(L.height,k.height,N)});if(i==="horizontal"){var R=on(0,k.height,N);return br(br({},k),{},{y:k.y+k.height-R,height:R})}var C=on(0,k.width,N);return br(br({},k),{},{width:C})});return N>0&&(n.current=P!=null?P:null),P==null?null:E.createElement(sr,null,E.createElement(bce,{props:e,data:P}))}),E.createElement(lI,{label:e.label}),e.children)}function xce(t){var e=E.useRef(null);return E.createElement(_ce,{previousRectanglesRef:e,props:t})}var F5=0,wce=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Lt(t,e)}};class Ece extends E.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:u,background:f,id:d}=this.props;if(e||n==null)return null;var m=pt("recharts-bar",i),p=d;return E.createElement(sr,{className:m,id:d},u&&E.createElement("defs",null,E.createElement(q5,{clipPathId:p,xAxisId:a,yAxisId:o})),E.createElement(sr,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},E.createElement(pce,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),E.createElement(xce,this.props)))}}var Sce={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!vl.isSsr,legendType:"rect",minPointSize:F5,xAxisId:0,yAxisId:0};function Ace(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:m}=t,{needClip:p}=xI(e,n),y=Yb(),b=jr(),A=DT(t.children,h0),w=De(N=>Jce(N,e,n,b,t.id,A));if(y!=="vertical"&&y!=="horizontal")return null;var S,I=w==null?void 0:w[0];return I==null||I.height==null||I.width==null?S=0:S=y==="vertical"?I.height/2:I.width/2,E.createElement(z5,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:wce,errorBarOffset:S},E.createElement(Ece,ul({},t,{layout:y,needClip:p,data:w,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:m})))}function Tce(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:u,xAxisTicks:f,yAxisTicks:d,stackedData:m,displayedData:p,offset:y,cells:b,parentViewBox:A}=t,w=e==="horizontal"?u:o,S=m?w.scale.domain():null,I=VJ({numericAxis:w});return p.map((N,P)=>{var k,M,L,R,C,j;m?k=RJ(m[P],S):(k=Lt(N,n),Array.isArray(k)||(k=[I,k]));var U=Xue(r,F5)(k[1],P);if(e==="horizontal"){var B,[F,z]=[u.scale(k[0]),u.scale(k[1])];M=X2({axis:o,ticks:f,bandSize:a,offset:i.offset,entry:N,index:P}),L=(B=z!=null?z:F)!==null&&B!==void 0?B:void 0,R=i.size;var pe=F-z;if(C=ii(pe)?0:pe,j={x:M,y:y.top,width:R,height:y.height},Math.abs(U)>0&&Math.abs(C)<Math.abs(U)){var we=$n(C||U)*(Math.abs(U)-Math.abs(C));L-=we,C+=we}}else{var[W,oe]=[o.scale(k[0]),o.scale(k[1])];if(M=W,L=X2({axis:u,ticks:d,bandSize:a,offset:i.offset,entry:N,index:P}),R=oe-W,C=i.size,j={x:y.left,y:L,width:y.width,height:C},Math.abs(U)>0&&Math.abs(R)<Math.abs(U)){var ye=$n(R||U)*(Math.abs(U)-Math.abs(R));R+=ye}}if(M==null||L==null||R==null||C==null)return null;var xe=br(br({},N),{},{x:M,y:L,width:R,height:C,value:m?k:k[1],payload:N,background:j,tooltipPosition:{x:M+R/2,y:L+C/2},parentViewBox:A},b&&b[P]&&b[P].props);return xe}).filter(Boolean)}function Ice(t){var e=or(t,Sce),n=jr();return E.createElement(yI,{id:e.id,type:"bar"},r=>E.createElement(E.Fragment,null,E.createElement(M5,{legendPayload:hce(e)}),E.createElement(gI,{fn:mce,args:e}),E.createElement(L5,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:LJ(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),E.createElement(Ace,ul({},e,{id:r}))))}var $5=E.memo(Ice);$5.displayName="Bar";function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){Cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cce(t,e,n){return(e=Nce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nce(t){var e=Oce(t,"string");return typeof e=="symbol"?e:e+""}function Oce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pce=(t,e)=>e,Rce=(t,e,n)=>n,Dce=(t,e,n,r)=>r,jce=(t,e,n,r,i)=>i,gp=re([o0,jce],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Mce=re([gp],t=>t==null?void 0:t.maxBarSize),kce=(t,e,n,r,i,a)=>a,mk=(t,e,n)=>{var r=n!=null?n:t;if(!Zt(r))return gr(r,e,0)},Lce=re([dt,o0,Pce,Rce,Dce],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Vce=(t,e,n,r)=>{var i=dt(t);return i==="horizontal"?zS(t,"yAxis",n,r):zS(t,"xAxis",e,r)},Uce=(t,e,n)=>{var r=dt(t);return r==="horizontal"?mM(t,"xAxis",e):mM(t,"yAxis",n)},Bce=(t,e,n)=>{var r={},i=t.filter(s0),a=t.filter(d=>d.stackId==null),o=i.reduce((d,m)=>(d[m.stackId]||(d[m.stackId]=[]),d[m.stackId].push(m),d),r),u=Object.entries(o).map(d=>{var[m,p]=d,y=p.map(A=>A.dataKey),b=mk(e,n,p[0].barSize);return{stackId:m,dataKeys:y,barSize:b}}),f=a.map(d=>{var m=[d.dataKey].filter(y=>y!=null),p=mk(e,n,d.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...u,...f]},zce=re([Lce,vie,Uce],Bce),qce=(t,e,n,r,i)=>{var a,o,u=gp(t,e,n,r,i);if(u!=null){var f=dt(t),d=aB(t),{maxBarSize:m}=u,p=Zt(m)?d:m,y,b;return f==="horizontal"?(y=sl(t,"xAxis",e,r),b=al(t,"xAxis",e,r)):(y=sl(t,"yAxis",n,r),b=al(t,"yAxis",n,r)),(a=(o=bm(y,b,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},K5=(t,e,n,r)=>{var i=dt(t),a,o;return i==="horizontal"?(a=sl(t,"xAxis",e,r),o=al(t,"xAxis",e,r)):(a=sl(t,"yAxis",n,r),o=al(t,"yAxis",n,r)),bm(a,o)};function Fce(t,e,n,r,i){var a=r.length;if(!(a<1)){var o=gr(t,n,0,!0),u,f=[];if(si(r[0].barSize)){var d=!1,m=n/a,p=r.reduce((I,N)=>I+(N.barSize||0),0);p+=(a-1)*o,p>=n&&(p-=(a-1)*o,o=0),p>=n&&m>0&&(d=!0,m*=.9,p=a*m);var y=(n-p)/2>>0,b={offset:y-o,size:0};u=r.reduce((I,N)=>{var P,k={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:b.offset+b.size+o,size:d?m:(P=N.barSize)!==null&&P!==void 0?P:0}},M=[...I,k];return b=M[M.length-1].position,M},f)}else{var A=gr(e,n,0,!0);n-2*A-(a-1)*o<=0&&(o=0);var w=(n-2*A-(a-1)*o)/a;w>1&&(w>>=0);var S=si(i)?Math.min(w,i):w;u=r.reduce((I,N,P)=>[...I,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:A+(w+o)*P+(w-S)/2,size:S}}],f)}return u}}var $ce=(t,e,n,r,i,a,o)=>{var u=Zt(o)?e:o,f=Fce(n,r,i!==a?i:a,t,u);return i!==a&&f!=null&&(f=f.map(d=>gy(gy({},d),{},{position:gy(gy({},d.position),{},{offset:d.position.offset-i/2})}))),f},Kce=re([zce,aB,yie,sB,qce,K5,Mce],$ce),Hce=(t,e,n,r)=>sl(t,"xAxis",e,r),Gce=(t,e,n,r)=>sl(t,"yAxis",n,r),Wce=(t,e,n,r)=>al(t,"xAxis",e,r),Yce=(t,e,n,r)=>al(t,"yAxis",n,r),Qce=re([Kce,gp],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Xce=(t,e)=>{var n=D1(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},Zce=re([Vce,gp],Xce),Jce=re([Mn,YT,Hce,Gce,Wce,Yce,Qce,dt,n0,K5,Zce,gp,kce],(t,e,n,r,i,a,o,u,f,d,m,p,y)=>{var{chartData:b,dataStartIndex:A,dataEndIndex:w}=f;if(!(p==null||o==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||d==null)){var{data:S}=p,I;if(S!=null&&S.length>0?I=S:I=b==null?void 0:b.slice(A,w+1),I!=null)return Tce({layout:u,barSettings:p,pos:o,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:m,displayedData:I,offset:t,cells:y})}}),H5=t=>{var{chartData:e}=t,n=rn(),r=jr();return E.useEffect(()=>r?()=>{}:(n(SM(e)),()=>{n(SM(void 0))}),[e,n,r]),null},pk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},G5=li({name:"brush",initialState:pk,reducers:{setBrushSettings(t,e){return e.payload==null?pk:e.payload}}}),{setBrushSettings:Ome}=G5.actions,efe=G5.reducer;function tfe(t,e,n){return(e=nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return typeof e=="symbol"?e:e+""}function rfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wI{static create(e){return new wI(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}tfe(wI,"EPS",1e-4);function ife(t){return(t%180+180)%180}var afe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ife(i),o=a*Math.PI/180,u=Math.atan(r/n),f=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(f)},sfe={dots:[],areas:[],lines:[]},W5=li({name:"referenceElements",initialState:sfe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ns(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ns(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ns(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Pme,removeDot:Rme,addArea:Dme,removeArea:jme,addLine:Mme,removeLine:kme}=W5.actions,ofe=W5.reducer,lfe=E.createContext(void 0),ufe=t=>{var{children:e}=t,[n]=E.useState("".concat(gm("recharts"),"-clip")),r=bI();if(r==null)return null;var{x:i,y:a,width:o,height:u}=r;return E.createElement(lfe.Provider,{value:n},E.createElement("defs",null,E.createElement("clipPath",{id:n},E.createElement("rect",{x:i,y:a,height:u,width:o}))),e)};function Mf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Y5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function cfe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return afe(r,n)}function ffe(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:u}=t;return e===1?{start:r?i:a,end:r?i+o:a+u}:{start:r?i+o:a+u,end:r?i:a}}function Wv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function dfe(t,e){return Y5(t,e+1)}function hfe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:u}=e,f=0,d=1,m=o,p=function(){var A=r==null?void 0:r[f];if(A===void 0)return{v:Y5(r,d)};var w=f,S,I=()=>(S===void 0&&(S=n(A,w)),S),N=A.coordinate,P=f===0||Wv(t,N,I,m,u);P||(f=0,m=o,d+=1),P&&(m=N+t*(I()/2+i),f+=d)},y;d<=a.length;)if(y=p(),y)return y.v;return[]}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){mfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mfe(t,e,n){return(e=pfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pfe(t){var e=gfe(t,"string");return typeof e=="symbol"?e:e+""}function gfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yfe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:u}=e,{end:f}=e,d=function(y){var b=a[y],A,w=()=>(A===void 0&&(A=n(b,y)),A);if(y===o-1){var S=t*(b.coordinate+t*w()/2-f);a[y]=b=cr(cr({},b),{},{tickCoord:S>0?b.coordinate-S*t:b.coordinate})}else a[y]=b=cr(cr({},b),{},{tickCoord:b.coordinate});var I=Wv(t,b.tickCoord,w,u,f);I&&(f=b.tickCoord-t*(w()/2+i),a[y]=cr(cr({},b),{},{isShow:!0}))},m=o-1;m>=0;m--)d(m);return a}function vfe(t,e,n,r,i,a){var o=(r||[]).slice(),u=o.length,{start:f,end:d}=e;if(a){var m=r[u-1],p=n(m,u-1),y=t*(m.coordinate+t*p/2-d);o[u-1]=m=cr(cr({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate});var b=Wv(t,m.tickCoord,()=>p,f,d);b&&(d=m.tickCoord-t*(p/2+i),o[u-1]=cr(cr({},m),{},{isShow:!0}))}for(var A=a?u-1:u,w=function(N){var P=o[N],k,M=()=>(k===void 0&&(k=n(P,N)),k);if(N===0){var L=t*(P.coordinate-t*M()/2-f);o[N]=P=cr(cr({},P),{},{tickCoord:L<0?P.coordinate-L*t:P.coordinate})}else o[N]=P=cr(cr({},P),{},{tickCoord:P.coordinate});var R=Wv(t,P.tickCoord,M,f,d);R&&(f=P.tickCoord+t*(M()/2+i),o[N]=cr(cr({},P),{},{isShow:!0}))},S=0;S<A;S++)w(S);return o}function EI(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:u,interval:f,tickFormatter:d,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(Le(f)||vl.isSsr){var y;return(y=dfe(i,Le(f)?f:0))!==null&&y!==void 0?y:[]}var b=[],A=u==="top"||u==="bottom"?"width":"height",w=m&&A==="width"?Gh(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(P,k)=>{var M=typeof d=="function"?d(P.value,k):P.value;return A==="width"?cfe(Gh(M,{fontSize:e,letterSpacing:n}),w,p):Gh(M,{fontSize:e,letterSpacing:n})[A]},I=i.length>=2?$n(i[1].coordinate-i[0].coordinate):1,N=ffe(a,I,A);return f==="equidistantPreserveStart"?hfe(I,N,S,i,o):(f==="preserveStart"||f==="preserveStartEnd"?b=vfe(I,N,S,i,o,f==="preserveStartEnd"):b=yfe(I,N,S,i,o),b.filter(P=>P.isShow))}var bfe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>o&&(o=p.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+a,d=o+f+u+(n?r:0);return Math.round(d)}return 0},_fe=["axisLine","width","height","className","hide","ticks"],xfe=["viewBox"],wfe=["viewBox"];function YS(t,e){if(t==null)return{};var n,r,i=Efe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Efe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zu.apply(null,arguments)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){Sfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sfe(t,e,n){return(e=Afe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Afe(t){var e=Tfe(t,"string");return typeof e=="symbol"?e:e+""}function Tfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SI={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Ife(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var d=Rn(Rn(Rn({},f),nn(u,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!o||a==="bottom"&&o);d=Rn(Rn({},d),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);d=Rn(Rn({},d),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return E.createElement("line",zu({},d,{className:pt("recharts-cartesian-axis-line",Lu(u,"className"))}))}function Cfe(t,e,n,r,i,a,o,u,f){var d,m,p,y,b,A,w=u?-1:1,S=t.tickSize||o,I=Le(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=m=t.coordinate,y=n+ +!u*i,p=y-w*S,A=p-w*f,b=I;break;case"left":p=y=t.coordinate,m=e+ +!u*r,d=m-w*S,b=d-w*f,A=I;break;case"right":p=y=t.coordinate,m=e+ +u*r,d=m+w*S,b=d+w*f,A=I;break;default:d=m=t.coordinate,y=n+ +u*i,p=y+w*S,A=p+w*f,b=I;break}return{line:{x1:d,y1:p,x2:m,y2:y},tick:{x:b,y:A}}}function Nfe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Ofe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Pfe(t){var{option:e,tickProps:n,value:r}=t,i,a=pt(n.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(e))i=E.cloneElement(e,Rn(Rn({},n),{},{className:a}));else if(typeof e=="function")i=e(Rn(Rn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=pt(o,e==null?void 0:e.className)),i=E.createElement(m0,zu({},n,{className:o}),r)}return i}function Rfe(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:u,tickTextProps:f,orientation:d,mirror:m,x:p,y,width:b,height:A,tickSize:w,tickMargin:S,fontSize:I,letterSpacing:N,getTicksConfig:P,events:k}=t,M=EI(Rn(Rn({},P),{},{ticks:e}),I,N),L=Nfe(d,m),R=Ofe(d,m),C=Ya(P),j=nn(n,!1),U=Rn(Rn({},C),{},{fill:"none"},nn(r,!1)),B=M.map((F,z)=>{var{line:pe,tick:we}=Cfe(F,p,y,b,A,d,w,m,S),W=Rn(Rn(Rn(Rn({textAnchor:L,verticalAnchor:R},C),{},{stroke:"none",fill:i},j),we),{},{index:z,payload:F,visibleTicksCount:M.length,tickFormatter:a,padding:u},f);return E.createElement(sr,zu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},Jm(k,F,z)),r&&E.createElement("line",zu({},U,pe,{className:pt("recharts-cartesian-axis-tick-line",Lu(r,"className"))})),n&&E.createElement(Pfe,{option:n,tickProps:W,value:"".concat(typeof a=="function"?a(F.value,z):F.value).concat(o||"")}))});return B.length>0?E.createElement("g",{className:"recharts-cartesian-axis-ticks"},B):null}var Dfe=E.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:u}=t,f=YS(t,_fe),[d,m]=E.useState(""),[p,y]=E.useState(""),b=E.useRef([]);E.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return bfe({ticks:b.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=E.useCallback(w=>{if(w){var S=w.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=Array.from(S);var I=S[0];if(I){var N=window.getComputedStyle(I),P=N.fontSize,k=N.letterSpacing;(P!==d||k!==p)&&(m(P),y(k))}}},[d,p]);return o||r!=null&&r<=0||i!=null&&i<=0?null:E.createElement(sr,{className:pt("recharts-cartesian-axis",a),ref:A},E.createElement(Ife,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ya(t)}),E.createElement(Rfe,{ticks:u,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:d,letterSpacing:p,getTicksConfig:t,events:f}),E.createElement(Voe,{x:t.x,y:t.y,width:t.width,height:t.height},E.createElement(Woe,{label:t.label}),t.children))}),jfe=E.memo(Dfe,(t,e)=>{var{viewBox:n}=t,r=YS(t,xfe),{viewBox:i}=e,a=YS(e,wfe);return Mf(n,i)&&Mf(r,a)}),AI=E.forwardRef((t,e)=>{var n=or(t,SI);return E.createElement(jfe,zu({},n,{ref:e}))});AI.displayName="CartesianAxis";var Mfe=["x1","y1","x2","y2","key"],kfe=["offset"],Lfe=["xAxisId","yAxisId"],Vfe=["xAxisId","yAxisId"];function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){Ufe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ufe(t,e,n){return(e=Bfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bfe(t){var e=zfe(t,"string");return typeof e=="symbol"?e:e+""}function zfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vu.apply(null,arguments)}function Yv(t,e){if(t==null)return{};var n,r,i=qfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ffe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:u}=t;return E.createElement("rect",{x:r,y:i,ry:u,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Q5(t,e){var n;if(E.isValidElement(t))n=E.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:o,key:u}=e,f=Yv(e,Mfe),d=Ya(f),{offset:m}=d,p=Yv(d,kfe);n=E.createElement("line",vu({},p,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:u}))}return n}function $fe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,u=Yv(t,Lfe),f=i.map((d,m)=>{var p=hr(hr({},u),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(m),index:m});return Q5(r,p)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Kfe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,u=Yv(t,Vfe),f=i.map((d,m)=>{var p=hr(hr({},u),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(m),index:m});return Q5(r,p)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Hfe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==d[0]&&d.unshift(0);var m=d.map((p,y)=>{var b=!d[y+1],A=b?i+o-p:d[y+1]-p;if(A<=0)return null;var w=y%e.length;return E.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:A,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Gfe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var d=f.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==d[0]&&d.unshift(0);var m=d.map((p,y)=>{var b=!d[y+1],A=b?i+o-p:d[y+1]-p;if(A<=0)return null;var w=y%n.length;return E.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:A,height:u,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Wfe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return H6(EI(hr(hr(hr({},SI),n),{},{ticks:G6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Yfe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return H6(EI(hr(hr(hr({},SI),n),{},{ticks:G6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Qfe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function QS(t){var e=XT(),n=ZT(),r=X6(),i=hr(hr({},or(t,Qfe)),{},{x:Le(t.x)?t.x:r.left,y:Le(t.y)?t.y:r.top,width:Le(t.width)?t.width:r.width,height:Le(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:u,y:f,width:d,height:m,syncWithTicks:p,horizontalValues:y,verticalValues:b}=i,A=jr(),w=De(j=>pM(j,"xAxis",a,A)),S=De(j=>pM(j,"yAxis",o,A));if(!Le(d)||d<=0||!Le(m)||m<=0||!Le(u)||u!==+u||!Le(f)||f!==+f)return null;var I=i.verticalCoordinatesGenerator||Wfe,N=i.horizontalCoordinatesGenerator||Yfe,{horizontalPoints:P,verticalPoints:k}=i;if((!P||!P.length)&&typeof N=="function"){var M=y&&y.length,L=N({yAxis:S?hr(hr({},S),{},{ticks:M?y:S.ticks}):void 0,width:e,height:n,offset:r},M?!0:p);Hh(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(P=L)}if((!k||!k.length)&&typeof I=="function"){var R=b&&b.length,C=I({xAxis:w?hr(hr({},w),{},{ticks:R?b:w.ticks}):void 0,width:e,height:n,offset:r},R?!0:p);Hh(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(k=C)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(Ffe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),E.createElement(Hfe,vu({},i,{horizontalPoints:P})),E.createElement(Gfe,vu({},i,{verticalPoints:k})),E.createElement($fe,vu({},i,{offset:r,horizontalPoints:P,xAxis:w,yAxis:S})),E.createElement(Kfe,vu({},i,{offset:r,verticalPoints:k,xAxis:w,yAxis:S})))}QS.displayName="CartesianGrid";var X5=(t,e,n,r)=>sl(t,"xAxis",e,r),Z5=(t,e,n,r)=>al(t,"xAxis",e,r),J5=(t,e,n,r)=>sl(t,"yAxis",n,r),ez=(t,e,n,r)=>al(t,"yAxis",n,r),Xfe=re([dt,X5,J5,Z5,ez],(t,e,n,r,i)=>yl(t,"xAxis")?bm(e,r,!1):bm(n,i,!1)),Zfe=(t,e,n,r,i)=>i;function Jfe(t){return t.type==="line"}var ede=re([o0,Zfe],(t,e)=>t.filter(Jfe).find(n=>n.id===e)),tde=re([dt,X5,J5,Z5,ez,ede,Xfe,n0],(t,e,n,r,i,a,o,u)=>{var{chartData:f,dataStartIndex:d,dataEndIndex:m}=u;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:p,data:y}=a,b;if(y!=null&&y.length>0?b=y:b=f==null?void 0:f.slice(d,m+1),b!=null)return Ede({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:b})}}),nde=["id"],rde=["type","layout","connectNulls","needClip"],ide=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ade(t,e,n){return(e=sde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sde(t){var e=ode(t,"string");return typeof e=="symbol"?e:e+""}function ode(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TI(t,e){if(t==null)return{};var n,r,i=lde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(null,arguments)}var ude=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Yf(n,e),payload:t}]};function cde(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:u,unit:f}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Yf(o,e),hide:u,type:t.tooltipType,color:t.stroke,unit:f}}}var tz=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function fde(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var dde=(t,e,n)=>{var r=n.reduce((p,y)=>p+y);if(!r)return tz(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,u=[],f=0,d=0;f<n.length;d+=n[f],++f)if(d+n[f]>a){u=[...n.slice(0,f),a-d];break}var m=u.length%2===0?[0,o]:[o];return[...fde(n,i),...u,...m].map(p=>"".concat(p,"px")).join(", ")};function hde(t,e){var n;if(E.isValidElement(t))n=E.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=pt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=E.createElement(C5,qu({},e,{className:r}))}return n}function mde(t,e){return t==null?!1:e?!0:t.length===1}function pde(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r;if(!mde(n,i))return null;var{id:u}=r,f=TI(r,nde),d=z4(i),m=Ya(f),p=nn(i,!0),y=n.map((A,w)=>{var S=Qr(Qr(Qr({key:"dot-".concat(w),r:3},m),p),{},{index:w,cx:A.x,cy:A.y,dataKey:a,value:A.value,payload:A.payload,points:n});return hde(i,S)}),b={clipPath:o?"url(#clipPath-".concat(d?"":"dots-").concat(e,")"):void 0};return E.createElement(sr,qu({className:"recharts-line-dots",key:"dots"},b),y)}function gde(t){var{showLabels:e,children:n,points:r}=t,i=E.useMemo(()=>r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Qr(Qr({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[r]);return E.createElement(T5,{value:e?i:null},n)}function _k(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:u,connectNulls:f,needClip:d}=a,m=TI(a,rde),p=Qr(Qr({},nn(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:u,connectNulls:f,strokeDasharray:i!=null?i:a.strokeDasharray});return E.createElement(E.Fragment,null,(r==null?void 0:r.length)>1&&E.createElement(e1,qu({},p,{pathRef:n})),E.createElement(pde,{points:r,clipPathId:e,props:a}))}function yde(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch(e){return 0}}function vde(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:u,isAnimationActive:f,animationBegin:d,animationDuration:m,animationEasing:p,animateNewValues:y,width:b,height:A,onAnimationEnd:w,onAnimationStart:S}=n,I=i.current,N=ip(n,"recharts-line-"),[P,k]=E.useState(!1),M=!P,L=E.useCallback(()=>{typeof w=="function"&&w(),k(!1)},[w]),R=E.useCallback(()=>{typeof S=="function"&&S(),k(!0)},[S]),C=yde(r.current),j=a.current;return E.createElement(gde,{points:o,showLabels:M},n.children,E.createElement(rp,{animationId:N,begin:d,duration:m,isActive:f,easing:p,onAnimationEnd:L,onAnimationStart:R,key:N},U=>{var B=on(j,C+j,U),F=Math.min(B,C),z;if(f)if(u){var pe="".concat(u).split(/[,\s]+/gim).map(oe=>parseFloat(oe));z=dde(F,C,pe)}else z=tz(C,F);else z=u==null?void 0:String(u);if(I){var we=I.length/o.length,W=U===1?o:o.map((oe,ye)=>{var xe=Math.floor(ye*we);if(I[xe]){var Te=I[xe];return Qr(Qr({},oe),{},{x:on(Te.x,oe.x,U),y:on(Te.y,oe.y,U)})}return y?Qr(Qr({},oe),{},{x:on(b*2,oe.x,U),y:on(A/2,oe.y,U)}):Qr(Qr({},oe),{},{x:oe.x,y:oe.y})});return i.current=W,E.createElement(_k,{props:n,points:W,clipPathId:e,pathRef:r,strokeDasharray:z})}return U>0&&C>0&&(i.current=o,a.current=F),E.createElement(_k,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:z})}),E.createElement(lI,{label:n.label}))}function bde(t){var{clipPathId:e,props:n}=t,r=E.useRef(null),i=E.useRef(0),a=E.useRef(null);return E.createElement(vde,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var _de=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Lt(t.payload,e)});class xde extends E.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:o,yAxisId:u,top:f,left:d,width:m,height:p,id:y,needClip:b}=this.props;if(n)return null;var A=pt("recharts-line",a),w=y,{r:S=3,strokeWidth:I=2}=(e=nn(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},N=z4(r),P=S*2+I;return E.createElement(E.Fragment,null,E.createElement(sr,{className:A},b&&E.createElement("defs",null,E.createElement(q5,{clipPathId:w,xAxisId:o,yAxisId:u}),!N&&E.createElement("clipPath",{id:"clipPath-dots-".concat(w)},E.createElement("rect",{x:d-P/2,y:f-P/2,width:m+P,height:p+P}))),E.createElement(z5,{xAxisId:o,yAxisId:u,data:i,dataPointFormatter:_de,errorBarOffset:0},E.createElement(bde,{props:this.props,clipPathId:w}))),E.createElement(zue,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var nz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!vl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function wde(t){var e=or(t,nz),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:u,dot:f,hide:d,isAnimationActive:m,label:p,legendType:y,xAxisId:b,yAxisId:A,id:w}=e,S=TI(e,ide),{needClip:I}=xI(b,A),N=bI(),P=Yb(),k=jr(),M=De(U=>tde(U,b,A,k,w));if(P!=="horizontal"&&P!=="vertical"||M==null||N==null)return null;var{height:L,width:R,x:C,y:j}=N;return E.createElement(xde,qu({},S,{id:w,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:m,hide:d,label:p,legendType:y,xAxisId:b,yAxisId:A,points:M,layout:P,height:L,width:R,left:C,top:j,needClip:I}))}function Ede(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:u,displayedData:f}=t;return f.map((d,m)=>{var p=Lt(d,o);if(e==="horizontal"){var y=Q2({axis:n,ticks:i,bandSize:u,entry:d,index:m}),b=Zt(p)?null:r.scale(p);return{x:y,y:b,value:p,payload:d}}var A=Zt(p)?null:n.scale(p),w=Q2({axis:r,ticks:a,bandSize:u,entry:d,index:m});return A==null||w==null?null:{x:A,y:w,value:p,payload:d}}).filter(Boolean)}function Sde(t){var e=or(t,nz),n=jr();return E.createElement(yI,{id:e.id,type:"line"},r=>E.createElement(E.Fragment,null,E.createElement(M5,{legendPayload:ude(e)}),E.createElement(gI,{fn:cde,args:e}),E.createElement(L5,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),E.createElement(wde,qu({},e,{id:r}))))}var rz=E.memo(Sde);rz.displayName="Line";var Ade=["dangerouslySetInnerHTML","ticks"],Tde=["id"],Ide=["domain"],Cde=["domain"];function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XS.apply(null,arguments)}function Qv(t,e){if(t==null)return{};var n,r,i=Nde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ode(t){var e=rn();return E.useEffect(()=>(e(Cue(t)),()=>{e(Nue(t))}),[t,e]),null}var Pde=t=>{var{xAxisId:e,className:n}=t,r=De(YT),i=jr(),a="xAxis",o=De(S=>nd(S,a,e,i)),u=De(S=>qB(S,a,e,i)),f=De(S=>VB(S,e)),d=De(S=>uae(S,e)),m=De(S=>pB(S,e));if(f==null||d==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=t,b=Qv(t,Ade),{id:A}=m,w=Qv(m,Tde);return E.createElement(AI,XS({},b,w,{scale:o,x:d.x,y:d.y,width:f.width,height:f.height,className:pt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u}))},Rde={allowDataOverflow:$r.allowDataOverflow,allowDecimals:$r.allowDecimals,allowDuplicatedCategory:$r.allowDuplicatedCategory,height:$r.height,hide:!1,mirror:$r.mirror,orientation:$r.orientation,padding:$r.padding,reversed:$r.reversed,scale:$r.scale,tickCount:$r.tickCount,type:$r.type,xAxisId:0},Dde=t=>{var e,n,r,i,a,o=or(t,Rde);return E.createElement(E.Fragment,null,E.createElement(Ode,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),E.createElement(Pde,o))},jde=(t,e)=>{var{domain:n}=t,r=Qv(t,Ide),{domain:i}=e,a=Qv(e,Cde);return Mf(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Mf({domain:n},{domain:i}):!1},ZS=E.memo(Dde,jde);ZS.displayName="XAxis";var Mde=["dangerouslySetInnerHTML","ticks"],kde=["id"],Lde=["domain"],Vde=["domain"];function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JS.apply(null,arguments)}function Xv(t,e){if(t==null)return{};var n,r,i=Ude(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ude(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Bde(t){var e=rn();return E.useEffect(()=>(e(Oue(t)),()=>{e(Pue(t))}),[t,e]),null}var zde=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=E.useRef(null),o=E.useRef(null),u=De(YT),f=jr(),d=rn(),m="yAxis",p=De(M=>nd(M,m,e,f)),y=De(M=>UB(M,e)),b=De(M=>fae(M,e)),A=De(M=>qB(M,m,e,f)),w=De(M=>gB(M,e));if(E.useLayoutEffect(()=>{if(!(r!=="auto"||!y||oI(i)||E.isValidElement(i)||w==null)){var M=a.current;if(M){var L=M.getCalculatedWidth();Math.round(y.width)!==Math.round(L)&&d(Rue({id:e,width:L}))}}},[A,y,d,i,e,r,w]),y==null||b==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:I}=t,N=Xv(t,Mde),{id:P}=w,k=Xv(w,kde);return E.createElement(AI,JS({},N,k,{ref:a,labelRef:o,scale:p,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:pt("recharts-".concat(m," ").concat(m),n),viewBox:u,ticks:A}))},qde={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:Kr.allowDecimals,allowDuplicatedCategory:Kr.allowDuplicatedCategory,hide:!1,mirror:Kr.mirror,orientation:Kr.orientation,padding:Kr.padding,reversed:Kr.reversed,scale:Kr.scale,tickCount:Kr.tickCount,type:Kr.type,width:Kr.width,yAxisId:0},Fde=t=>{var e,n,r,i,a,o=or(t,qde);return E.createElement(E.Fragment,null,E.createElement(Bde,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),E.createElement(zde,o))},$de=(t,e)=>{var{domain:n}=t,r=Xv(t,Lde),{domain:i}=e,a=Xv(e,Vde);return Mf(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Mf({domain:n},{domain:i}):!1},eA=E.memo(Fde,$de);eA.displayName="YAxis";var yE={exports:{}},vE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xk;function Kde(){if(xk)return vE;xk=1;var t=kf();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,u=t.useDebugValue;return vE.useSyncExternalStoreWithSelector=function(f,d,m,p,y){var b=i(null);if(b.current===null){var A={hasValue:!1,value:null};b.current=A}else A=b.current;b=o(function(){function S(M){if(!I){if(I=!0,N=M,M=p(M),y!==void 0&&A.hasValue){var L=A.value;if(y(L,M))return P=L}return P=M}if(L=P,n(N,M))return L;var R=p(M);return y!==void 0&&y(L,R)?(N=M,L):(N=M,P=R)}var I=!1,N,P,k=m===void 0?null:m;return[function(){return S(d())},k===null?void 0:function(){return S(k())}]},[d,m,p,y]);var w=r(f,b[0],b[1]);return a(function(){A.hasValue=!0,A.value=w},[w]),u(w),w},vE}var wk;function Hde(){return wk||(wk=1,yE.exports=Kde()),yE.exports}Hde();function Gde(t){t()}function Wde(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Gde(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Ek={notify(){},get:()=>[]};function Yde(t,e){let n,r=Ek,i=0,a=!1;function o(w){m();const S=r.subscribe(w);let I=!1;return()=>{I||(I=!0,S(),p())}}function u(){r.notify()}function f(){A.onStateChange&&A.onStateChange()}function d(){return a}function m(){i++,n||(n=t.subscribe(f),r=Wde())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Ek)}function y(){a||(a=!0,m())}function b(){a&&(a=!1,p())}const A={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return A}var Qde=()=>typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Xde=Qde(),Zde=()=>typeof navigator!="undefined"&&navigator.product==="ReactNative",Jde=Zde(),ehe=()=>Xde||Jde?E.useLayoutEffect:E.useEffect,the=ehe(),bE=Symbol.for("react-redux-context"),_E=typeof globalThis!="undefined"?globalThis:{};function nhe(){var n;if(!E.createContext)return{};const t=(n=_E[bE])!=null?n:_E[bE]=new Map;let e=t.get(E.createContext);return e||(e=E.createContext(null),t.set(E.createContext,e)),e}var rhe=nhe();function ihe(t){const{children:e,context:n,serverState:r,store:i}=t,a=E.useMemo(()=>{const f=Yde(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),o=E.useMemo(()=>i.getState(),[i]);the(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),o!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,o]);const u=n||rhe;return E.createElement(u.Provider,{value:a},e)}var ahe=ihe,she=(t,e)=>e,II=re([she,dt,dB,Ln,r5,Ws,gse,Mn],xse),CI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},iz=Ni("mouseClick"),az=tp();az.startListening({actionCreator:iz,effect:(t,e)=>{var n=t.payload,r=II(e.getState(),CI(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Sae({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var tA=Ni("mouseMove"),sz=tp();sz.startListening({actionCreator:tA,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=X1(r,r.tooltip.settings.shared),a=II(r,CI(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(QB({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(YB()))}});var Sk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},oz=li({name:"rootProps",initialState:Sk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Sk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),ohe=oz.reducer,{updateOptions:lhe}=oz.actions,lz=li({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:uhe}=lz.actions,che=lz.reducer,uz=Ni("keyDown"),cz=Ni("focus"),NI=tp();NI.startListening({actionCreator:uz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(Z1(i,id(n))),u=Ws(n);if(a==="Enter"){var f=Fv(n,"axis","hover",String(i.index));e.dispatch(FS({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var d=pae(n),m=d==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,y=o+p*m;if(!(u==null||y>=u.length||y<0)){var b=Fv(n,"axis","hover",String(y));e.dispatch(FS({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});NI.startListening({actionCreator:cz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Fv(n,"axis","hover",String(a));e.dispatch(FS({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Ai=Ni("externalEvent"),fz=tp();fz.startListening({actionCreator:Ai,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:sse(n),activeDataKey:o5(n),activeIndex:ol(n),activeLabel:s5(n),activeTooltipIndex:ol(n),isTooltipActive:ose(n)};t.payload.handler(r,t.payload.reactEvent)}}});var fhe=re([rd],t=>t.tooltipItemPayloads),dhe=re([fhe,mp,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),dz=Ni("touchMove"),hz=tp();hz.startListening({actionCreator:dz,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=X1(r,r.tooltip.settings.shared);if(i==="axis"){var a=II(r,CI({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(QB({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,u=n.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(Y6),m=(o=f.getAttribute(Q6))!==null&&o!==void 0?o:void 0,p=dhe(e.getState(),d,m);e.dispatch(WB({activeDataKey:m,activeIndex:d,activeCoordinate:p}))}}});var hhe=x6({brush:efe,cartesianAxis:Due,chartData:Lse,errorBars:Jue,graphicalItems:Zle,layout:gJ,legend:see,options:Rse,polarAxis:ple,polarOptions:che,referenceElements:ofe,rootProps:ohe,tooltip:Aae}),mhe=function(e){return zZ({reducer:hhe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([az.middleware,sz.middleware,NI.middleware,fz.middleware,hz.middleware]),devTools:vl.devToolsEnabled})};function mz(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=jr(),a=E.useRef(null);if(i)return n;a.current==null&&(a.current=mhe(e));var o=FT;return E.createElement(ahe,{context:o,store:a.current},n)}function pz(t){var{layout:e,width:n,height:r,margin:i}=t,a=rn(),o=jr();return E.useEffect(()=>{o||(a(hJ(e)),a(mJ({width:n,height:r})),a(dJ(i)))},[a,o,e,n,r,i]),null}function gz(t){var e=rn();return E.useEffect(()=>{e(lhe(t))},[e,t]),null}var phe=["children"];function ghe(t,e){if(t==null)return{};var n,r,i=yhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zv.apply(null,arguments)}var vhe={width:"100%",height:"100%"},bhe=E.forwardRef((t,e)=>{var n=XT(),r=ZT(),i=tU();if(!Of(n)||!Of(r))return null;var{children:a,otherAttributes:o,title:u,desc:f}=t,d,m;return typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?m=o.role:m=i?"application":void 0,E.createElement(jT,Zv({},o,{title:u,desc:f,role:m,tabIndex:d,width:n,height:r,style:vhe,ref:e}),a)}),_he=t=>{var{children:e}=t,n=De(Wb);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return E.createElement(jT,{width:r,height:i,x:o,y:a},e)},Ak=E.forwardRef((t,e)=>{var{children:n}=t,r=ghe(t,phe),i=jr();return i?E.createElement(_he,null,n):E.createElement(bhe,Zv({ref:e},r),n)});function xhe(){var t=rn(),[e,n]=E.useState(null),r=De(KJ);return E.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;si(a)&&a!==r&&t(pJ(a))}},[e,t,r]),n}function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function whe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){Ehe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ehe(t,e,n){return(e=She(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function She(t){var e=Ahe(t,"string");return typeof e=="symbol"?e:e+""}function Ahe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var The=E.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:m,onMouseMove:p,onMouseUp:y,onTouchEnd:b,onTouchMove:A,onTouchStart:w,style:S,width:I}=t,N=rn(),[P,k]=E.useState(null),[M,L]=E.useState(null);Hse();var R=xhe(),C=E.useCallback(Y=>{R(Y),typeof e=="function"&&e(Y),k(Y),L(Y)},[R,e,k,L]),j=E.useCallback(Y=>{N(iz(Y)),N(Ai({handler:a,reactEvent:Y}))},[N,a]),U=E.useCallback(Y=>{N(tA(Y)),N(Ai({handler:d,reactEvent:Y}))},[N,d]),B=E.useCallback(Y=>{N(YB()),N(Ai({handler:m,reactEvent:Y}))},[N,m]),F=E.useCallback(Y=>{N(tA(Y)),N(Ai({handler:p,reactEvent:Y}))},[N,p]),z=E.useCallback(()=>{N(cz())},[N]),pe=E.useCallback(Y=>{N(uz(Y.key))},[N]),we=E.useCallback(Y=>{N(Ai({handler:o,reactEvent:Y}))},[N,o]),W=E.useCallback(Y=>{N(Ai({handler:u,reactEvent:Y}))},[N,u]),oe=E.useCallback(Y=>{N(Ai({handler:f,reactEvent:Y}))},[N,f]),ye=E.useCallback(Y=>{N(Ai({handler:y,reactEvent:Y}))},[N,y]),xe=E.useCallback(Y=>{N(Ai({handler:w,reactEvent:Y}))},[N,w]),Te=E.useCallback(Y=>{N(dz(Y)),N(Ai({handler:A,reactEvent:Y}))},[N,A]),$=E.useCallback(Y=>{N(Ai({handler:b,reactEvent:Y}))},[N,b]);return E.createElement(h5.Provider,{value:P},E.createElement(q4.Provider,{value:M},E.createElement("div",{className:pt("recharts-wrapper",r),style:whe({position:"relative",cursor:"default",width:I,height:i},S),onClick:j,onContextMenu:we,onDoubleClick:W,onFocus:z,onKeyDown:pe,onMouseDown:oe,onMouseEnter:U,onMouseLeave:B,onMouseMove:F,onMouseUp:ye,onTouchEnd:$,onTouchMove:Te,onTouchStart:xe,ref:C},n)))}),Ihe=["children","className","width","height","style","compact","title","desc"];function Che(t,e){if(t==null)return{};var n,r,i=Nhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yz=E.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:o,compact:u,title:f,desc:d}=t,m=Che(t,Ihe),p=Ya(m);return u?E.createElement(Ak,{otherAttributes:p,title:f,desc:d},n):E.createElement(The,{className:r,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},E.createElement(Ak,{otherAttributes:p,title:f,desc:d,ref:e},E.createElement(ufe,null,n)))}),Ohe=["width","height"];function nA(){return nA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nA.apply(null,arguments)}function Phe(t,e){if(t==null)return{};var n,r,i=Rhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Dhe={top:5,right:5,bottom:5,left:5},jhe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Dhe,reverseStackOrder:!1,syncMethod:"index"},vz=E.forwardRef(function(e,n){var r,i=or(e.categoricalChartProps,jhe),{width:a,height:o}=i,u=Phe(i,Ohe);if(!Of(a)||!Of(o))return null;var{chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,categoricalChartProps:y}=e,b={chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return E.createElement(mz,{preloadedState:{options:b},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:f},E.createElement(H5,{chartData:y.data}),E.createElement(pz,{width:a,height:o,layout:i.layout,margin:i.margin}),E.createElement(gz,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),E.createElement(yz,nA({},u,{width:a,height:o,ref:n})))}),Mhe=["axis"],khe=E.forwardRef((t,e)=>E.createElement(vz,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Mhe,tooltipPayloadSearcher:sI,categoricalChartProps:t,ref:e})),Lhe=["axis","item"],Vhe=E.forwardRef((t,e)=>E.createElement(vz,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Lhe,tooltipPayloadSearcher:sI,categoricalChartProps:t,ref:e}));function Uhe(t){var e=rn();return E.useEffect(()=>{e(uhe(t))},[e,t]),null}var Bhe=["width","height","layout"];function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rA.apply(null,arguments)}function zhe(t,e){if(t==null)return{};var n,r,i=qhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fhe={top:5,right:5,bottom:5,left:5},$he={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Fhe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Khe=E.forwardRef(function(e,n){var r,i=or(e.categoricalChartProps,$he),{width:a,height:o,layout:u}=i,f=zhe(i,Bhe);if(!Of(a)||!Of(o))return null;var{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:p,tooltipPayloadSearcher:y}=e,b={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:p,tooltipPayloadSearcher:y,eventEmitter:void 0};return E.createElement(mz,{preloadedState:{options:b},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:d},E.createElement(H5,{chartData:i.data}),E.createElement(pz,{width:a,height:o,layout:u,margin:i.margin}),E.createElement(gz,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),E.createElement(Uhe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),E.createElement(yz,rA({width:a,height:o},f,{ref:n})))}),Hhe=["item"],Ghe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Whe=E.forwardRef((t,e)=>{var n=or(t,Ghe);return E.createElement(Khe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Hhe,tooltipPayloadSearcher:sI,categoricalChartProps:n,ref:e})});function Yhe(){const t=gn(),[e,n]=E.useState({today:0,week:0,cogs:0,margin:0}),[r,i]=E.useState([]),[a,o]=E.useState([]),[u,f]=E.useState({fixed:0,margin30d:0}),[d,m]=E.useState(!0);E.useEffect(()=>{let b=!0;return(async()=>{var A,w,S;try{const I=new Date,N=new Date(I);N.setHours(0,0,0,0);const P=(I.getDay()+6)%7,k=new Date(I);k.setDate(I.getDate()-P),k.setHours(0,0,0,0);const M=new Date(I);M.setDate(I.getDate()-29),M.setHours(0,0,0,0);const L=qt(Qe(Ce,"orders"),Je("orgId","==",t),Je("deliveredAt",">=",ot.fromDate(M)),Jr("deliveredAt","asc")),R=await dr(L),C={},j=[];for(let xe=29;xe>=0;xe--){const Te=new Date(I);Te.setDate(I.getDate()-xe),Te.setHours(0,0,0,0);const $=Te.toISOString().slice(5,10);j.push($),C[$]=0}let U=0,B=0,F=0,z=0,pe=0;const we={cash:0,qr:0,card:0,other:0};R.forEach(xe=>{var tt,ge;const Te=xe.data();if(String(Te.status||"")!=="delivered")return;const $=Number(Te.total)||0,Y=String(Te.payMethod||"other"),ve=(ge=(tt=Te.deliveredAt)==null?void 0:tt.toMillis)!=null&&ge.call(tt)?Te.deliveredAt.toMillis():0;if(!ve||$<=0)return;const ee=new Date(ve);ee.setHours(0,0,0,0);const be=ee.toISOString().slice(5,10);be in C&&(C[be]+=$,F+=$),ee.getTime()>=N.getTime()&&(U+=$),ee.getTime()>=k.getTime()&&(B+=$),we[Y]===void 0?we.other+=$:we[Y]+=$;const Ae=Number(Te.cogs),Be=Number.isFinite(Ae)&&Ae>0?Ae:Math.round($*.35);be in C&&(pe+=Be),ee.getTime()>=k.getTime()&&(z+=Be)});const W=B-z,oe=F-pe;let ye=0;try{let xe=await ti($e(Ce,"settings","fixedCosts"));xe.exists()||(xe=await ti($e(Ce,"settings",t)));const Te=xe.exists()?xe.data():{},$=(S=(w=(A=Te==null?void 0:Te.fixedCosts)==null?void 0:A.monthly)!=null?w:Te==null?void 0:Te.monthlyFixed)!=null?S:0;ye=Number($)||0}catch(xe){}if(!b)return;n({today:U,week:B,cogs:Math.round(z),margin:Math.round(W)}),i(j.map(xe=>({day:xe,sales:C[xe]}))),o([{name:"Efectivo",value:we.cash},{name:"QR",value:we.qr},{name:"Tarjeta",value:we.card},{name:"Otros",value:we.other}]),f({fixed:ye,margin30d:Math.round(oe)})}finally{b&&m(!1)}})(),()=>{b=!1}},[t]);const p=E.useMemo(()=>[{name:"Ventas",value:e.week},{name:"COGS",value:e.cogs},{name:"Margen",value:e.margin}],[e]),y=({t:b,v:A})=>_.jsxs("div",{className:"bg-white rounded-2xl border p-4",children:[_.jsx("div",{className:"text-slate-500",children:b}),_.jsxs("div",{className:"text-2xl font-semibold",children:["$",(Number(A)||0).toLocaleString()]})]});return _.jsxs("div",{className:"container-app p-6 pb-28 space-y-6",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"Estadsticas"}),d?_.jsx("div",{className:"text-slate-500",children:"Cargando mtricas"}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[_.jsx(y,{t:"Ventas hoy",v:e.today}),_.jsx(y,{t:"Ventas semana",v:e.week}),_.jsx(y,{t:"COGS (real/estimado)",v:e.cogs}),_.jsx(y,{t:"Margen (real/estimado)",v:e.margin})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"bg-white rounded-2xl border p-4",children:[_.jsx("div",{className:"mb-2 font-medium",children:"Ventas ltimos 30 das"}),_.jsx("div",{style:{width:"100%",height:260},children:_.jsx(lE,{children:_.jsxs(khe,{data:r,children:[_.jsx(QS,{strokeDasharray:"3 3"}),_.jsx(ZS,{dataKey:"day"}),_.jsx(eA,{}),_.jsx(nE,{}),_.jsx(rz,{type:"monotone",dataKey:"sales"})]})})})]}),_.jsxs("div",{className:"bg-white rounded-2xl border p-4",children:[_.jsx("div",{className:"mb-2 font-medium",children:"Mtodos de pago (30 das)"}),_.jsx("div",{style:{width:"100%",height:260},children:_.jsx(lE,{children:_.jsxs(Whe,{children:[_.jsx(V5,{data:a,dataKey:"value",nameKey:"name",innerRadius:60,outerRadius:100}),_.jsx(nE,{}),_.jsx(_m,{})]})})})]})]}),_.jsxs("div",{className:"bg-white rounded-2xl border p-4",children:[_.jsx("div",{className:"mb-2 font-medium",children:"Semana: Ventas / COGS / Margen"}),_.jsx("div",{style:{width:"100%",height:260},children:_.jsx(lE,{children:_.jsxs(Vhe,{data:p,children:[_.jsx(QS,{strokeDasharray:"3 3"}),_.jsx(ZS,{dataKey:"name"}),_.jsx(eA,{}),_.jsx(nE,{}),_.jsx(_m,{}),_.jsx($5,{dataKey:"value",name:"Monto"})]})})})]}),_.jsxs("div",{className:"bg-white rounded-2xl border p-4",children:[_.jsx("div",{className:"font-medium mb-1",children:"Punto de equilibrio (mensual)"}),_.jsxs("div",{className:"text-sm text-slate-600 mb-2",children:["Costos fijos: $",u.fixed.toLocaleString()]}),_.jsxs("div",{className:"text-sm",children:["Margen ltimos 30d: ",_.jsxs("b",{children:["$",u.margin30d.toLocaleString()]})]}),_.jsx("div",{className:"text-sm",children:u.margin30d>=u.fixed?"Listo! Cubriste tus fijos este mes.":`Te faltan $${(u.fixed-u.margin30d).toLocaleString()} para cubrir los fijos.`})]})]})]})}function Qhe(){const{user:t}=oi(),e=gn(),[n,r]=E.useState(0),[i,a]=E.useState(!1),[o,u]=E.useState("");E.useEffect(()=>{(async()=>{var C,j;try{const B=(await ti($e(Ce,"settings","fixedCosts"))).data()||{},F=Number(B.monthly||0);Number.isNaN(F)||r(F);const z=(j=(C=B.updatedAt)==null?void 0:C.toDate)!=null&&j.call(C)?B.updatedAt.toDate():null;z&&u(z.toLocaleString())}catch(U){}})()},[]);const f=async()=>{try{a(!0);const C=Math.max(0,Math.round(Number(n||0)));await Va($e(Ce,"settings","fixedCosts"),{orgId:e,monthly:C,updatedAt:Ze()},{merge:!0}),alert("Costos fijos guardados: "+C.toLocaleString())}catch(C){console.error(C),alert((C==null?void 0:C.message)||"No se pudo guardar")}finally{a(!1)}},[d,m]=E.useState(!1),p=async()=>{if(!(t!=null&&t.uid))return alert("Inicia sesin primero.");m(!0);try{await Va($e(Ce,"orgs",e,"members",t.uid),{orgId:e,role:"owner",email:(t.email||"").toLowerCase(),displayName:t.displayName||null,createdAt:Ze(),updatedAt:Ze()},{merge:!0}),alert(`Listo. Eres OWNER en el org "${e}". Recarga la app.`)}catch(C){console.error(C),alert((C==null?void 0:C.message)||"No se pudo crear la membresa")}finally{m(!1)}},y=()=>{const C=prompt('Org a usar (ej: "artemisa")',e)||e;localStorage.setItem("orgId",C),alert(`orgId guardado en localStorage: ${C}. Recarga la app.`)},[b,A]=E.useState(""),[w,S]=E.useState("worker"),[I,N]=E.useState(!1),[P,k]=E.useState({});async function M(){try{const C=await ti($e(Ce,"settings",e)),j=(C.exists()?C.data():{})||{};k(j.roleByEmail||{})}catch(C){k({})}}E.useEffect(()=>{M()},[e]);const L=/^[^\s@]+@[^\s@]+\.[^\s@]+$/i,R=async C=>{if(C.preventDefault(),!b||!L.test(b))return alert("Email invlido.");const j=b.trim().toLowerCase();N(!0);try{const U=$e(Ce,"settings",e),B=await ti(U),F=B.exists()?B.data():{orgId:e},z={...F.roleByEmail||{},[j]:w};await Va(U,{...F,orgId:e,roleByEmail:z,updatedAt:Ze()},{merge:!0});const pe=Qe(Ce,"orgs",e,"members"),we=qt(pe,Je("email","==",j)),W=await dr(we);for(const oe of W.docs)await Mu($e(Ce,"orgs",e,"members",oe.id),{role:w,updatedAt:Ze()});A(""),S("worker"),await M(),alert(`Listo. ${j} ahora tiene rol "${w}".`)}catch(U){console.error(U),alert((U==null?void 0:U.message)||"No se pudo guardar el rol")}finally{N(!1)}};return _.jsxs("div",{className:"container-app max-w-2xl mx-auto p-6 space-y-6",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"AdminSeed"}),_.jsxs("section",{className:"rounded-2xl border bg-white p-4 space-y-3",children:[_.jsx("div",{className:"font-semibold",children:"Membresa del usuario actual"}),_.jsxs("div",{className:"text-sm text-slate-600",children:["Sesin: ",_.jsx("b",{children:(t==null?void 0:t.email)||"(sin sesin)"}),_.jsxs("div",{className:"text-xs text-slate-500",children:["UID: ",t==null?void 0:t.uid]}),_.jsxs("div",{className:"text-xs text-slate-500",children:["orgId actual: ",e]})]}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.jsx("button",{className:"btn btn-primary",disabled:!t||d,onClick:p,children:d?"Guardando...":"Hacerme OWNER en este org"}),_.jsx("button",{className:"btn",onClick:y,children:"Cambiar orgId (local)"})]}),_.jsx("div",{className:"text-xs text-slate-500",children:"Requerido por las reglas para leer/escribir productos, bodega, caja, etc."})]}),_.jsxs("section",{className:"rounded-2xl border bg-white p-4 space-y-3",children:[_.jsx("div",{className:"font-semibold",children:"Roles por email (allowlist de la organizacin)"}),_.jsxs("form",{onSubmit:R,className:"space-y-3",children:[_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_auto] gap-2",children:[_.jsx("input",{type:"email",inputMode:"email",placeholder:"persona@correo.com",className:"border rounded-xl px-3 py-2 w-full",value:b,onChange:C=>A(C.target.value),required:!0}),_.jsx("div",{className:"flex gap-2",children:["worker","owner","client"].map(C=>_.jsx("button",{type:"button",onClick:()=>S(C),className:"px-3 py-2 border rounded-xl "+(w===C?"bg-[var(--brand,#f97316)] text-white border-[var(--brand,#f97316)]":""),children:C},C))})]}),_.jsx("button",{className:"btn btn-primary w-full",disabled:I,children:I?"Guardando...":"Guardar rol por email"})]}),_.jsxs("div",{className:"pt-2",children:[_.jsx("div",{className:"text-sm font-medium",children:"Allowlist actual"}),_.jsxs("ul",{className:"text-sm mt-1 space-y-1",children:[Object.keys(P).length===0&&_.jsx("li",{className:"text-slate-500",children:"Vaco."}),Object.entries(P).map(([C,j])=>_.jsxs("li",{children:[_.jsx("b",{children:C}),"  ",j]},C))]}),_.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:[" Si el usuario an no inici sesin, se aplicar el rol al primer login.",_.jsx("br",{})," Si ya existe su membresa con ese email, se actualiza en caliente."]})]})]}),_.jsxs("section",{className:"rounded-2xl border bg-white p-4 space-y-3",children:[_.jsx("div",{className:"font-semibold",children:"Costos fijos mensuales"}),_.jsx("label",{className:"text-sm",children:"Valor (moneda base)"}),_.jsx("input",{type:"number",inputMode:"numeric",className:"border rounded-xl px-3 py-2 w-full",value:Number.isNaN(n)?0:n,onChange:C=>r(Number(C.target.value))}),o&&_.jsxs("div",{className:"text-xs text-slate-500",children:["ltima carga: ",o]}),_.jsx("button",{onClick:f,disabled:i,className:"btn btn-primary w-full disabled:opacity-60",children:i?"Guardando...":"Guardar costos fijos"}),_.jsxs("p",{className:"text-xs text-slate-500",children:["Este valor alimenta el punto de equilibrio en ",_.jsx("b",{children:"Estadsticas"}),"."]})]})]})}function Xhe(){const[t,e]=E.useState(""),n=async()=>{e("Sembrando...");const r=await Is(Qe(Ce,"inventory"),{name:"milo",unit:"g",stock:5e3,min:1e3,category:"polvos",costPerUnit:1}),i=await Is(Qe(Ce,"inventory"),{name:"leche",unit:"ml",stock:2e4,min:5e3,category:"lquidos",costPerUnit:1});await Is(Qe(Ce,"products"),{name:"frappe de cafe",category:"frappes",active:!0,sizes:[{label:"pequeo",price:6e3,recipe:{[r.id]:30,[i.id]:150}},{label:"Mediano",price:12e3,recipe:{[r.id]:40,[i.id]:200}},{label:"celestial",price:15e3,recipe:{[r.id]:60,[i.id]:300}}],recipe:{}}),e(`Listo o.

Inventario y producto de prueba creados.
Ve a Men y aade por tamao; al pagar, debe descontar stock por receta.`)};return _.jsx("main",{className:"p-4",children:_.jsxs("div",{className:"rounded-2xl border bg-white shadow-sm p-6 space-y-4 max-w-xl",children:[_.jsx("h1",{className:"text-xl font-semibold",children:"Sembrador (DevSeed)"}),_.jsx("p",{className:"text-sm text-zinc-600",children:"Crea inventario, producto y receta por tamao para pruebas."}),_.jsx("button",{onClick:n,className:"px-4 py-2 rounded-xl bg-orange-600 text-white",children:"Sembrar ejemplo"}),t&&_.jsx("pre",{className:"text-xs whitespace-pre-wrap bg-zinc-50 border rounded p-3",children:t})]})})}const eu=t=>{if(!t.length)return"";const e=t.reduce((a,o)=>(Object.keys(o||{}).forEach(u=>a.add(u)),a),new Set),n=Array.from(e),r=a=>{if(a==null)return"";typeof a=="object"&&(a=JSON.stringify(a));const o=String(a);return/[",\n]/.test(o)?`"${o.replace(/"/g,'""')}"`:o},i=t.map(a=>n.map(o=>r(a[o])).join(",")).join(`
`);return"\uFEFF"+n.join(",")+`
`+i},tu=(t,e)=>{const n=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),i=Object.assign(document.createElement("a"),{href:r,download:t});document.body.appendChild(i),i.click(),i.remove(),setTimeout(()=>URL.revokeObjectURL(r),500)},yy=t=>String(t).padStart(2,"0"),Do=t=>`${t.getFullYear()}-${yy(t.getMonth()+1)}-${yy(t.getDate())} ${yy(t.getHours())}:${yy(t.getMinutes())}`,Hc=(t,e)=>{var n,r;return(r=(n=t==null?void 0:t[e])==null?void 0:n.toDate)!=null&&r.call(n)?t[e].toDate():null};function Zhe(){const t=gn(),[e,n]=E.useState(""),[r,i]=E.useState(""),[a,o]=E.useState("createdAt"),u=()=>{if(!e||!r)throw new Error("Selecciona rango");const S=new Date(`${e}T00:00:00`),I=new Date(`${r}T00:00:00`);return I.setDate(I.getDate()+1),{from:ot.fromDate(S),to:ot.fromDate(I)}},f=async()=>{const S=qt(Qe(Ce,"inventoryItems"),Je("orgId","==",t)),N=(await dr(S)).docs.map(P=>{var M,L,R,C,j,U,B,F,z,pe;const k=P.data();return{id:P.id,name:(M=k.name)!=null?M:"",unit:(L=k.unit)!=null?L:"",stock:Number((R=k.stock)!=null?R:0),minStock:Number((j=(C=k.minStock)!=null?C:k.min)!=null?j:0),costPerUnit:Number((U=k.costPerUnit)!=null?U:0),provider:(F=(B=k.provider)!=null?B:k.supplier)!=null?F:"",updatedAt:(pe=(z=k.updatedAt)==null?void 0:z.toDate)!=null&&pe.call(z)?Do(k.updatedAt.toDate()):""}});tu("inventario.csv",eu(N))},d=async()=>{const S=qt(Qe(Ce,"products"),Je("orgId","==",t)),N=(await dr(S)).docs.map(P=>{var R,C,j,U,B;const k=P.data(),M=Array.isArray(k.sizes)?k.sizes:[],L=M.map(F=>`${F.name}:${Number(F.price||0)}`).join("|");return{id:P.id,name:(R=k.name)!=null?R:"",category:(C=k.category)!=null?C:"",active:!!((j=k.active)==null||j),sizes:L,sizesJSON:JSON.stringify(M!=null?M:[]),updatedAt:(B=(U=k.updatedAt)==null?void 0:U.toDate)!=null&&B.call(U)?Do(k.updatedAt.toDate()):""}});tu("productos.csv",eu(N))},m=()=>{const{from:S,to:I}=u(),N=a;return qt(Qe(Ce,"orders"),Je("orgId","==",t),Je(N,">=",S),Je(N,"<",I),Jr(N,"asc"))},p=async()=>{try{const I=(await dr(m())).docs.map(N=>{var R;const P=N.data(),k=Hc(P,"createdAt")||Hc(P,"at")||new Date(0),M=Hc(P,"deliveredAt"),L=Hc(P,"canceledAt");return{id:N.id,createdAt:k?Do(k):"",status:String(P.status||""),payMethod:String(P.payMethod||""),total:Number(P.total)||0,cogs:Number(P.cogs||0),itemCount:Array.isArray(P.items)?P.items.length:0,items:Array.isArray(P.items)?P.items.map(C=>`${C.name} x ${C.qty}`).join("; "):"",deliveredAt:M?Do(M):"",canceledAt:L?Do(L):"",customerId:(R=P.customerId)!=null?R:""}});tu(`ventas_${a}_${e}_a_${r}.csv`,eu(I))}catch(S){alert((S==null?void 0:S.message)||"Error")}},y=async()=>{try{const S=await dr(m()),I=[];S.docs.forEach(N=>{var L;const P=N.data(),k=Hc(P,"createdAt")||Hc(P,"at")||new Date(0),M={orderId:N.id,createdAt:k?Do(k):"",status:String(P.status||""),payMethod:String(P.payMethod||""),customerId:(L=P.customerId)!=null?L:""};(P.items||[]).forEach(R=>{I.push({...M,productId:String(R.productId||R.id||""),name:String(R.name||""),size:String(R.sizeName||""),qty:Number(R.qty||0),price:Number(R.price||0),total:Number(R.total||Number(R.price||0)*Number(R.qty||0))})})}),tu(`ventas_items_${a}_${e}_a_${r}.csv`,eu(I))}catch(S){alert((S==null?void 0:S.message)||"Error")}},b=async()=>{try{const{from:S,to:I}=u(),N=qt(Qe(Ce,"stockMovements"),Je("orgId","==",t),Je("at",">=",S),Je("at","<",I),Jr("at","asc")),k=(await dr(N)).docs.map(M=>{var R,C;const L=M.data();return{id:M.id,at:(C=(R=L.at)==null?void 0:R.toDate)!=null&&C.call(R)?Do(L.at.toDate()):"",type:L.type||"",ingredientId:L.ingredientId||"",qty:Number(L.qty||0),reason:L.reason||"",orderId:L.orderId||"",itemName:L.itemName||"",unit:L.unit||""}});tu(`stock_movimientos_${e}_a_${r}.csv`,eu(k))}catch(S){alert((S==null?void 0:S.message)||"Error")}},A=async()=>{try{const{from:S,to:I}=u(),N=qt(Qe(Ce,"cashMovements"),Je("orgId","==",t),Je("at",">=",S),Je("at","<",I),Jr("at","asc")),k=(await dr(N)).docs.map(M=>{var C,j;const L=M.data(),R=(j=(C=L.at)==null?void 0:C.toDate)!=null&&j.call(C)?Do(L.at.toDate()):"";return{id:M.id,at:R,userId:String(L.userId||""),type:String(L.type||""),amount:Number(L.amount||0),reason:L.reason||"",orderId:L.orderId||""}});tu(`caja_${e}_a_${r}.csv`,eu(k))}catch(S){alert((S==null?void 0:S.message)||"Error")}},w=async()=>{try{if(!e||!r)throw new Error("Selecciona rango");const S=qt(Qe(Ce,"dailySummary"),Je("orgId","==",t),Je("date",">=",e),Je("date","<=",r),Jr("date","asc")),N=(await dr(S)).docs.map(P=>{const k=P.data(),M=k.totals||{};return{date:k.date||P.id,sales:Number(M.sales||0),refunds:Number(M.refunds||0),cogs:Number(M.cogs||0),expectedCash:Number(M.expectedCash||0),deliveredCount:Number(M.deliveredCount||0),ticketAvg:Number(M.ticketAvg||0),profit:Number(M.profit||0),cashFinal:Number(k.finalCash||0),cashDiff:Number(k.cashDiff||0),user:k.user||""}});tu(`resumenes_${e}_a_${r}.csv`,eu(N))}catch(S){alert((S==null?void 0:S.message)||"Error")}};return _.jsx("main",{className:"p-4 space-y-4",children:_.jsxs("div",{className:"rounded-2xl border p-4 bg-white shadow-sm space-y-3",children:[_.jsx("div",{className:"font-medium",children:"Exportes"}),_.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[_.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:e,onChange:S=>n(S.target.value)}),_.jsx("span",{children:"a"}),_.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:r,onChange:S=>i(S.target.value)}),_.jsxs("select",{className:"border rounded px-2 py-1",value:a,onChange:S=>o(S.target.value),title:"Campo de fecha para filtrar ventas",children:[_.jsx("option",{value:"createdAt",children:"Filtrar por creacin"}),_.jsx("option",{value:"deliveredAt",children:"Filtrar por entrega"})]})]}),_.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-1",children:[_.jsx("button",{onClick:p,className:"rounded-xl bg-orange-600 text-white px-4 py-2",children:"Ventas CSV"}),_.jsx("button",{onClick:y,className:"rounded-xl border px-4 py-2",children:"Ventas (detalle tems)"}),_.jsx("button",{onClick:b,className:"rounded-xl border px-4 py-2",children:"Mov. de stock"}),_.jsx("button",{onClick:A,className:"rounded-xl border px-4 py-2",children:"Caja (ingresos/egresos)"}),_.jsx("button",{onClick:d,className:"rounded-xl border px-4 py-2",children:"Productos CSV"}),_.jsx("button",{onClick:f,className:"rounded-xl border px-4 py-2",children:"Inventario CSV"}),_.jsx("button",{onClick:w,className:"rounded-xl border px-4 py-2",children:"Resmenes diarios"})]})]})})}function Jhe(){const{user:t}=oi(),e=Nm(),[n,r]=E.useState("Revisando permisos...");return E.useEffect(()=>{(async()=>{if(!t){r("No hay sesin");return}const i=$e(Ce,"users",t.uid);(await ti(i)).exists()?r("Usuario ya existe. Redirigiendo..."):(await Va(i,{email:t.email||"",role:"admin"}),r("Usuario creado como admin. Redirigiendo...")),setTimeout(()=>e("/menu",{replace:!0}),800)})()},[t,e]),_.jsx("main",{className:"p-6",children:_.jsx("div",{className:"rounded-xl border bg-white p-4",children:n})})}function eme(){var I,N;const{user:t,loginGoogle:e,loginEmail:n,logout:r}=oi(),i=Nm(),o=((N=(I=Ha().state)==null?void 0:I.from)==null?void 0:N.pathname)||"/menu",[u,f]=E.useState(""),[d,m]=E.useState(""),[p,y]=E.useState(!1),[b,A]=E.useState(null);if(t)return _.jsxs("div",{className:"container-app pt-6",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"text-sm text-gray-600",children:["Hola, ",_.jsx("span",{className:"font-semibold",children:t.email})]}),_.jsx("button",{className:"btn btn-ghost",onClick:()=>r(),children:"Salir"})]}),_.jsx("div",{className:"mt-6",children:_.jsx("button",{className:"btn btn-primary",onClick:()=>i(o,{replace:!0}),children:"Entrar"})})]});const w=async P=>{P.preventDefault(),A(null),y(!0);try{await n(u,d),i(o,{replace:!0})}catch(k){A((k==null?void 0:k.message)||"No pudimos iniciar sesin.")}finally{y(!1)}},S=async()=>{A(null),y(!0);try{await e({preferredEmail:"artemisa.ops@gmail.com",forceSelect:!0}),i(o,{replace:!0})}catch(P){A((P==null?void 0:P.message)||"No pudimos iniciar con Google.")}finally{y(!1)}};return _.jsx("main",{className:"min-h-full flex items-center justify-center p-6",children:_.jsxs("div",{className:"w-full max-w-md",children:[_.jsx("div",{className:"mb-6 text-center",children:_.jsx("div",{className:"inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-[var(--brand)] text-white font-extrabold text-xl",children:"A"})}),_.jsxs("div",{className:"card p-5",children:[b&&_.jsx("div",{className:"mb-3 text-sm text-red-600",children:b}),_.jsx("button",{onClick:S,disabled:p,className:"btn btn-primary w-full h-11",children:p?"Conectando...":"Entrar con Google"}),_.jsx("div",{className:"my-4 text-center text-xs text-gray-400",children:"o con tu correo"}),_.jsxs("form",{onSubmit:w,className:"space-y-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Email"}),_.jsx("input",{className:"input",type:"email",placeholder:"tucorreo@dominio.com",value:u,onChange:P=>f(P.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Contrasea"}),_.jsx("input",{className:"input",type:"password",placeholder:"********",value:d,onChange:P=>m(P.target.value),required:!0})]}),_.jsx("button",{className:"btn btn-ghost w-full h-11",disabled:p,children:"Entrar con Email"})]}),_.jsx("p",{className:"mt-4 text-[11px] text-gray-500",children:"Al continuar aceptas nuestros Trminos y Poltica de Privacidad."})]})]})})}function tme(){const[t,e]=E.useState(null),[n,r]=E.useState(!1),[i,a]=E.useState(()=>{var A;return!!((A=navigator.serviceWorker)!=null&&A.controller)}),[o,u]=E.useState(""),f=()=>{var w,S;const A=(S=(w=window.__PWA__)==null?void 0:w.deferred)!=null?S:null;A&&!t&&e(A)};E.useEffect(()=>{var N,P,k,M;const A=L=>{var R;(R=L.preventDefault)==null||R.call(L),e(L)},w=()=>{r(!0),e(null),window.__PWA__&&(window.__PWA__.deferred=null)},S=()=>{var L;return a(!!((L=navigator.serviceWorker)!=null&&L.controller))},I=()=>f();return window.addEventListener("beforeinstallprompt",A),window.addEventListener("appinstalled",w),window.addEventListener("pwa:deferred-ready",I),(P=(N=navigator.serviceWorker)==null?void 0:N.addEventListener)==null||P.call(N,"controllerchange",S),f(),(M=(k=navigator.serviceWorker)==null?void 0:k.ready)==null||M.then(()=>{var L;a(!!((L=navigator.serviceWorker)!=null&&L.controller)),u("SW listo")}).catch(()=>{}),()=>{var L,R;window.removeEventListener("beforeinstallprompt",A),window.removeEventListener("appinstalled",w),window.removeEventListener("pwa:deferred-ready",I),(R=(L=navigator.serviceWorker)==null?void 0:L.removeEventListener)==null||R.call(L,"controllerchange",S)}},[]);const d=/iphone|ipad|ipod/i.test(navigator.userAgent),m=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone===!0,p=!!t&&!n&&!m&&!d,y=E.useMemo(()=>n?"Ya est instalada.":m?"Ya ests usando la app instalada.":i?"Esperando a que el navegador permita la instalacin":"El Service Worker an no controla esta pestaa.",[n,m,i]),b=async()=>{var w;const A=t||((w=window.__PWA__)==null?void 0:w.deferred)||null;if(!A){alert("Si tu navegador lo permite, usa 'Aadir a pantalla de inicio'.");return}try{await A.prompt();const{outcome:S}=await A.userChoice}catch(S){console.error(S),alert("No se pudo iniciar la instalacin.")}finally{e(null),window.__PWA__&&(window.__PWA__.deferred=null)}};return _.jsxs("div",{className:"rounded-2xl border bg-white p-4 space-y-2",children:[_.jsx("div",{className:"font-semibold",children:"Aplicacin"}),d?_.jsxs("p",{className:"text-sm text-slate-600",children:["En iPhone, toca ",_.jsx("strong",{children:"Compartir"})," > ",_.jsx("strong",{children:"Aadir a pantalla de inicio"}),"."]}):_.jsxs(_.Fragment,{children:[_.jsx("p",{className:"text-sm text-slate-600",children:p?"Puedes instalar la app.":y}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:"btn btn-primary px-3 py-2 rounded-xl",onClick:b,disabled:!p,title:p?"Instalar app":"El navegador an no expuso el dilogo",children:"Instalar"}),!i&&_.jsx("span",{className:"text-xs text-slate-500 self-center",children:"Esperando al Service Worker"})]}),i&&!p&&!n&&!m&&_.jsxs("div",{className:"text-xs text-slate-500",children:["Si no aparece el dilogo, en Chrome abre el men ",_.jsx("b",{children:"..."})," y pulsa ",_.jsx("b",{children:"Instalar app"}),"."]}),o&&_.jsxs("div",{className:"text-[11px] text-slate-400",children:["PWA: ",o]})]})]})}function ps({to:t,title:e,desc:n}){return _.jsxs(Fo,{to:t,className:"rounded-2xl border bg-white p-4 hover:shadow-sm transition",children:[_.jsx("div",{className:"font-semibold",children:e}),n?_.jsx("div",{className:"text-sm text-slate-500",children:n}):null]})}function nme(){const{user:t,logout:e,switchGoogleAccount:n}=oi(),{role:r}=Xm(t==null?void 0:t.uid),[i,a]=E.useState(null);E.useEffect(()=>{var f;return a((f=t==null?void 0:t.email)!=null?f:null)},[t]);const o=r==="owner"||r==="worker",u=r==="client";return _.jsxs("div",{className:"container-app p-6 space-y-5",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"Ms"}),_.jsx(tme,{}),_.jsxs("section",{className:"space-y-2",children:[_.jsx("div",{className:"font-semibold",children:"Secciones"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o&&_.jsx(ps,{to:"/productos",title:"Productos",desc:"Catlogo y recetas por tamao"}),o&&_.jsx(ps,{to:"/ventas",title:"Ventas",desc:"Entregar / anular / eliminar"}),o&&_.jsx(ps,{to:"/compras",title:"Compras",desc:"Reabastecer inventario"}),o&&_.jsx(ps,{to:"/horarios",title:"Horarios",desc:"Agenda por horas y colores"}),o&&_.jsx(ps,{to:"/apertura",title:"Apertura",desc:"Inicio de caja"}),o&&_.jsx(ps,{to:"/caja",title:"Caja",desc:"Ingresos/egresos y cierre"}),o&&_.jsx(ps,{to:"/estadisticas",title:"Estadsticas",desc:"Reportes rpidos"}),o&&_.jsx(ps,{to:"/exportes",title:"Exportes",desc:"Descargar CSV/backup"}),u&&_.jsx(ps,{to:"/clientes",title:"Mi perfil",desc:"Sellos y crditos"})]})]}),_.jsxs("section",{className:"rounded-2xl border bg-white p-4 space-y-3",children:[_.jsx("div",{className:"font-semibold",children:"Cuenta"}),_.jsxs("div",{className:"text-sm text-slate-600",children:["Sesin: ",i!=null?i:"(sin email)"]}),_.jsxs("div",{className:"flex gap-3 flex-wrap",children:[_.jsx("button",{className:"btn btn-danger",onClick:e,children:"Cerrar sesin"}),_.jsx("button",{className:"btn",onClick:()=>n("artemisa.ops@gmail.com"),title:"Forzar selector de Google",children:"Cambiar de cuenta"})]})]})]})}const xh=gn(),Ki=t=>`$${Number(t||0).toLocaleString()}`,rme=t=>`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`,wh=(t=new Date)=>t.toISOString().slice(0,10),Ik=()=>{const t=new Date;t.setHours(0,0,0,0);const e=new Date;return e.setHours(24,0,0,0),{from:ot.fromDate(t),to:ot.fromDate(e)}};function ime(){var Fe;const{user:t}=oi(),e=(Fe=t==null?void 0:t.uid)!=null?Fe:null,n=Nm(),[r,i]=E.useState("in"),[a,o]=E.useState(""),[u,f]=E.useState(""),[d,m]=E.useState(""),[p,y]=E.useState([]),[b,A]=E.useState(0),w={cash:{total:0,count:0},qr:{total:0,count:0},card:{total:0,count:0},other:{total:0,count:0}},[S,I]=E.useState(0),[N,P]=E.useState(0),[k,M]=E.useState(0),[L,R]=E.useState(0),[C,j]=E.useState(w),[U,B]=E.useState("unknown"),[F,z]=E.useState(null),[pe,we]=E.useState(!1),[W,oe]=E.useState(!1),[ye,xe]=E.useState(0);E.useEffect(()=>{const{from:de,to:Ve}=Ik(),je=qt(Qe(Ce,"cashMovements"),Je("orgId","==",xh),Je("at",">=",de),Je("at","<",Ve),Jr("at","desc")),Ke=na(je,On=>{const _t=[];On.forEach(yt=>{var ca,Wn,wt;const tn=yt.data();_t.push({id:yt.id,at:(ca=tn.at)!=null?ca:null,type:tn.type,amount:Number(tn.amount||0),reason:(Wn=tn.reason)!=null?Wn:null,orderId:(wt=tn.orderId)!=null?wt:null})}),y(_t)});return()=>Ke()},[]);const Te=E.useCallback(async()=>{if(!e){B("absent"),z(null);return}const de=$e(Qe(Ce,"openings"),`${wh()}_${e}`),Ve=await ti(de);if(!Ve.exists()){B("absent"),z(null),A(0);return}const je=Ve.data();B((je==null?void 0:je.status)==="closed"?"closed":"open"),A(Number((je==null?void 0:je.initialCash)||0));const Ke=Array.isArray(je==null?void 0:je.tasksDone)?je.tasksDone:[];z(Ke.includes("foto_wpp_sent")&&Ke.includes("foto_wpp_double"))},[e]),$=E.useCallback(async()=>{const{from:de,to:Ve}=Ik();let je=0,Ke=0,On=0,_t=0;const yt={cash:{total:0,count:0},qr:{total:0,count:0},card:{total:0,count:0},other:{total:0,count:0}};{const tn=qt(Qe(Ce,"orders"),Je("orgId","==",xh),Je("deliveredAt",">=",de),Je("deliveredAt","<",Ve));(await(await dm(async()=>{const{getDocs:Wn}=await Promise.resolve().then(()=>KR);return{getDocs:Wn}},void 0)).getDocs(tn)).forEach(Wn=>{const wt=Wn.data();if(String(wt.status||"")!=="delivered")return;const Yn=Number(wt.total||0),Ri=Number(wt.cogs||0),Ys=wt.payMethod||"other";Yn>0&&(je+=Yn,On+=1,yt[Ys].total+=Yn,yt[Ys].count+=1),Ri>0&&(Ke+=Ri)})}{const tn=qt(Qe(Ce,"orders"),Je("orgId","==",xh),Je("canceledAt",">=",de),Je("canceledAt","<",Ve));(await(await dm(async()=>{const{getDocs:Wn}=await Promise.resolve().then(()=>KR);return{getDocs:Wn}},void 0)).getDocs(tn)).forEach(Wn=>{const wt=Wn.data();if(String(wt.status||"")!=="canceled")return;const Yn=Number(wt.total||0);Yn>0&&(_t+=Yn)})}I(je),M(Ke),R(On),j(yt),P(_t)},[]);E.useEffect(()=>{Te(),$()},[Te,$]);const Y=E.useMemo(()=>p.filter(de=>de.type==="in").reduce((de,Ve)=>de+Number(Ve.amount||0),0),[p]),ve=E.useMemo(()=>p.filter(de=>de.type==="out").reduce((de,Ve)=>de+Number(Ve.amount||0),0),[p]),ee=C.cash.total,be=b+ee+Y-ve;E.useEffect(()=>{U==="open"&&Number(ye)===0&&be>0&&xe(be)},[U,be]);const Ae=U==="open",Be=async()=>{if(!e)return alert("Debes iniciar sesin");if(!Ae)return alert("Primero realiza la Apertura de hoy.");const de=Number(a);if(!(de>0))return alert("El monto debe ser mayor a 0");try{we(!0),await Is(Qe(Ce,"cashMovements"),{orgId:xh,userId:e,type:r,amount:de,reason:u||null,orderId:d||null,at:Ze(),dateKey:wh()}),o(""),f(""),m("")}catch(Ve){alert((Ve==null?void 0:Ve.message)||"No se pudo registrar el movimiento")}finally{we(!1)}},tt=L?Math.round(S/L):0,ge=S-k-N,ue=Number(ye||0)-Number(be||0),_e=async()=>{var de,Ve;if(!e)return alert("Debes iniciar sesin");try{oe(!0);const je=$e(Qe(Ce,"openings"),`${wh()}_${e}`),Ke=await ti(je);if(!Ke.exists()||((de=Ke.data())==null?void 0:de.status)!=="open"){alert("No hay apertura abierta hoy para tu usuario. Ve a Apertura."),oe(!1);return}const On=Array.isArray((Ve=Ke.data())==null?void 0:Ve.tasksDone)?Ke.data().tasksDone:[];if(!(On.includes("foto_wpp_sent")&&On.includes("foto_wpp_double"))){alert("Faltan las 2 confirmaciones de WhatsApp en la Apertura."),oe(!1);return}await Va($e(Ce,"dailySummary",wh()),{orgId:xh,date:wh(),totals:{sales:S,refunds:N,cogs:k,deliveredCount:L,byMethod:C,expectedCash:be,ticketAvg:tt,profit:ge},finalCash:Number(ye||0),cashDiff:ue,user:e,createdAt:Ze()},{merge:!0}),await Va(je,{status:"closed",closedAt:Ze(),expectedCash:be,countedCash:Number(ye||0),cashDiff:ue},{merge:!0}),alert("Cierre de caja registrado."),xe(0),B("closed")}catch(je){alert((je==null?void 0:je.message)||"No se pudo cerrar la caja.")}finally{oe(!1)}},ne=()=>{Te(),$()};return _.jsxs("div",{className:"container-app p-6 space-y-5",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"Caja"}),_.jsx("button",{onClick:ne,className:"btn",children:"Actualizar resumen"})]}),U==="unknown"&&_.jsx("div",{className:"rounded-xl border bg-slate-50 text-slate-700 px-4 py-3",children:"Cargando estado de Apertura"}),U==="absent"&&_.jsxs("div",{className:"rounded-2xl border bg-amber-50 text-amber-800 p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-semibold",children:"No tienes Apertura registrada hoy."}),_.jsx("div",{className:"text-sm",children:"Completa checklist + doble confirmacin de WhatsApp para operar Caja."})]}),_.jsx("button",{onClick:()=>n("/apertura"),className:"px-4 py-2 rounded-xl bg-[var(--brand,#f97316)] text-white",children:"Ir a Apertura"})]}),U==="closed"&&_.jsxs("div",{className:"rounded-2xl border bg-blue-50 text-blue-800 p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-semibold",children:"La Apertura de hoy ya fue cerrada."}),_.jsx("div",{className:"text-sm",children:"No se pueden registrar ms movimientos. Puedes revisar el resumen diario."})]}),_.jsx(Fo,{to:"/apertura",className:"px-4 py-2 rounded-xl bg-white border",children:"Ver Apertura"})]}),U==="open"&&F===!1&&_.jsxs("div",{className:"rounded-xl border bg-yellow-50 text-yellow-700 px-4 py-3",children:["Falta confirmar en Apertura que ",_.jsx("b",{children:"enviaste la foto al grupo de WhatsApp"})," (2 casillas). Es obligatorio para cerrar caja."]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[_.jsxs("div",{className:"bg-white border rounded-2xl p-4",children:[_.jsx("div",{className:"text-slate-500",children:"Efectivo inicial"}),_.jsx("div",{className:"text-2xl font-semibold",children:Ki(b)})]}),_.jsxs("div",{className:"bg-white border rounded-2xl p-4",children:[_.jsx("div",{className:"text-slate-500",children:"Ventas (efectivo)"}),_.jsx("div",{className:"text-2xl font-semibold",children:Ki(C.cash.total)})]}),_.jsxs("div",{className:"bg-white border rounded-2xl p-4",children:[_.jsx("div",{className:"text-slate-500",children:"Ingresos  Egresos"}),_.jsx("div",{className:"text-2xl font-semibold",children:Ki(Y-ve)})]}),_.jsxs("div",{className:"bg-white border rounded-2xl p-4",children:[_.jsx("div",{className:"text-slate-500",children:"Efectivo esperado"}),_.jsx("div",{className:"text-2xl font-semibold",children:Ki(be)})]})]}),_.jsxs("div",{className:"bg-white border rounded-2xl p-4",children:[_.jsx("div",{className:"text-lg font-semibold mb-2",children:"Ventas del da por mtodo"}),_.jsxs("div",{className:"space-y-2 text-sm",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Efectivo"}),_.jsxs("span",{children:[_.jsx("b",{children:Ki(C.cash.total)})," (",C.cash.count,")"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"QR"}),_.jsxs("span",{children:[_.jsx("b",{children:Ki(C.qr.total)})," (",C.qr.count,")"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Tarjeta"}),_.jsxs("span",{children:[_.jsx("b",{children:Ki(C.card.total)})," (",C.card.count,")"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Otro"}),_.jsxs("span",{children:[_.jsx("b",{children:Ki(C.other.total)})," (",C.other.count,")"]})]})]}),_.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["* El ",_.jsx("b",{children:"esperado"})," de caja incluye solo efectivo; QR/Tarjeta no se suman a la gaveta."]})]}),_.jsxs("div",{className:`bg-white border rounded-2xl p-4 space-y-3 ${Ae?"":"opacity-60 pointer-events-none"}`,children:[_.jsx("div",{className:"font-medium",children:"Nuevo movimiento"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:["in","out"].map(de=>_.jsx("button",{onClick:()=>i(de),className:`px-3 py-1 rounded-xl border ${r===de?"bg-[var(--brand,#f97316)] text-white border-[var(--brand,#f97316)]":"bg-white"}`,disabled:!Ae,children:de==="in"?"Ingreso":"Egreso"},de))}),_.jsxs("div",{className:"grid md:grid-cols-4 gap-3",children:[_.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Monto",type:"number",inputMode:"decimal",value:a,onChange:de=>o(de.target.value),disabled:!Ae}),_.jsx("input",{className:"border rounded-xl px-3 py-2 md:col-span-2",placeholder:"Motivo (opcional)",value:u,onChange:de=>f(de.target.value),disabled:!Ae}),_.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"OrderId (opcional)",value:d,onChange:de=>m(de.target.value),disabled:!Ae})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:"btn btn-primary",onClick:Be,disabled:!Ae||pe||!a,children:pe?"Guardando...":"Registrar"}),_.jsx("button",{className:"btn",onClick:ne,children:"Actualizar resumen"})]})]}),_.jsxs("div",{className:"bg-white border rounded-2xl p-4 space-y-2",children:[_.jsx("div",{className:"font-medium",children:"Movimientos de hoy"}),!p.length&&_.jsx("div",{className:"text-slate-500",children:"Sin movimientos."}),p.map(de=>{const Ve=de.at&&typeof de.at.toDate=="function"?de.at.toDate():null;return _.jsxs("div",{className:"flex items-center justify-between border rounded-xl px-3 py-2",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${de.type==="in"?"bg-green-50 text-green-700":"bg-rose-50 text-rose-700"}`,children:de.type==="in"?"Ingreso":"Egreso"}),_.jsx("span",{className:"font-medium",children:Ki(de.amount)}),de.reason?_.jsxs("span",{className:"text-slate-600 text-sm",children:[" ",de.reason]}):null,de.orderId?_.jsxs("span",{className:"text-slate-400 text-xs",children:[" ",de.orderId]}):null]}),_.jsx("div",{className:"text-slate-500 text-xs",children:Ve?rme(Ve):""})]},de.id)})]}),_.jsxs("div",{className:`bg-white border rounded-2xl p-4 max-w-md ${Ae?"":"opacity-60 pointer-events-none"}`,children:[_.jsx("div",{className:"text-lg font-semibold mb-2",children:"Cerrar caja"}),_.jsxs("div",{className:"text-sm text-slate-500 mb-1",children:["Efectivo esperado hoy: ",_.jsx("b",{children:Ki(be)})]}),_.jsx("label",{className:"block text-sm mb-1",children:"Efectivo final contado"}),_.jsx("input",{type:"number",value:Number.isNaN(ye)?0:ye,onChange:de=>xe(Number(de.target.value)),className:"w-full border rounded-lg px-3 py-2 mb-2",disabled:!Ae}),_.jsxs("div",{className:`text-sm mb-3 ${ue===0?"text-green-600":ue>0?"text-amber-600":"text-red-600"}`,children:["Diferencia: ",_.jsx("b",{children:Ki(ue)})]}),_.jsx("button",{onClick:_e,disabled:!Ae||W,className:"w-full py-2 rounded-xl bg-[var(--brand,#f97316)] text-white disabled:opacity-60",children:W?"Guardando...":"Cerrar caja"})]})]})}function ame(){const{role:t}=Xm();return t==="owner"||t==="worker"}function bz({src:t,alt:e}){return t?_.jsx("img",{src:t,alt:e,className:"w-9 h-9 rounded-full object-cover"}):_.jsx("div",{className:"w-9 h-9 rounded-full bg-slate-200 flex items-center justify-center text-slate-500 text-sm",children:e.slice(0,1).toUpperCase()})}function Hr(t){if(!t)return"";if(!/[]/.test(t))return t.normalize("NFC");try{const e=new Uint8Array([...t].map(r=>r.charCodeAt(0))),n=new TextDecoder("utf-8").decode(e);return(/[^\u0000-\u001F]/.test(n)?n:t).normalize("NFC")}catch(e){return t.normalize("NFC")}}function sme(){var m;const{user:t}=oi(),e=ame(),n=gn(),[r,i]=E.useState([]),[a,o]=E.useState(""),[u,f]=E.useState(null);E.useEffect(()=>{if(!t)return;if(e){const b=qt(Qe(Ce,"customers"),Je("orgId","==",n)),A=qt(Qe(Ce,"customers"),Je("orgId","==",n),Jr("displayName"));let w=()=>{};const S=()=>{w=na(b,I=>{const N=I.docs.map(P=>xE(P.id,P.data(),n));N.sort((P,k)=>Hr(P.displayName||"").localeCompare(Hr(k.displayName||""))),i(N)})};return w=na(A,I=>{i(I.docs.map(N=>xE(N.id,N.data(),n)))},I=>S()),()=>w()}const p=$e(Ce,"customers",t.uid),y=na(p,b=>{var A,w,S;b.exists()?f(xE(b.id,b.data(),n)):f({id:t.uid,orgId:n,displayName:(A=t.displayName)!=null?A:null,email:(w=t.email)!=null?w:null,photoURL:(S=t.photoURL)!=null?S:null,stampsProgress:0,totalStamps:0,freeCredits:0})});return()=>y()},[t==null?void 0:t.uid,e,n]);const d=E.useMemo(()=>{const p=a.trim().toLowerCase();return p?r.filter(y=>Hr(y.displayName||"").toLowerCase().includes(p)||Hr(y.email||"").toLowerCase().includes(p)||y.id.toLowerCase().includes(p)):r},[r,a]);if(!t)return null;if(!e){const p=Number((u==null?void 0:u.stampsProgress)||0),y=Number((u==null?void 0:u.freeCredits)||0);return _.jsxs("div",{className:"container-app p-6 pb-28 space-y-6",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"Mi perfil"}),_.jsxs("div",{className:"bg-white border rounded-2xl p-4 flex items-center gap-3",children:[_.jsx(bz,{src:(m=u==null?void 0:u.photoURL)!=null?m:t.photoURL,alt:Hr(u==null?void 0:u.displayName)||Hr(t.displayName)||"U"}),_.jsxs("div",{children:[_.jsx("div",{className:"font-semibold",children:Hr(u==null?void 0:u.displayName)||Hr(t.displayName)||"(sin nombre)"}),_.jsx("div",{className:"text-slate-600 text-sm",children:Hr(u==null?void 0:u.email)||t.email}),_.jsxs("div",{className:"text-slate-500 text-xs mt-1",children:["ID: ",t.uid]})]})]}),_.jsxs("div",{className:"bg-white border rounded-2xl p-4 space-y-3",children:[_.jsx("div",{className:"text-sm text-slate-600",children:"Progreso hacia bebida gratis"}),_.jsx(_z,{value:p,total:10}),_.jsx("div",{className:"text-sm text-slate-600",children:"Crditos disponibles"}),_.jsx("div",{className:"text-3xl font-bold",children:y}),_.jsx("div",{className:"text-xs text-slate-500",children:"Tus sellos se suman al entregar pedidos con bebidas. Una bebida gratis por cada 10 sellos."})]})]})}return _.jsxs("div",{className:"container-app p-6 pb-28 space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between gap-3",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"Clientes"}),_.jsx("input",{className:"input w-64",placeholder:"Buscar por nombre, email o ID",value:a,onChange:p=>o(p.target.value)})]}),_.jsx("div",{className:"rounded-2xl border overflow-hidden",children:_.jsxs("table",{className:"min-w-full bg-white text-sm",children:[_.jsx("thead",{className:"bg-slate-100 text-slate-700",children:_.jsxs("tr",{children:[_.jsx("th",{className:"text-left px-3 py-2",children:"Cliente"}),_.jsx("th",{className:"text-left px-3 py-2",children:"Email"}),_.jsx("th",{className:"text-left px-3 py-2",children:"Sellos"}),_.jsx("th",{className:"text-left px-3 py-2",children:"Crditos"}),_.jsx("th",{className:"text-left px-3 py-2",children:"Acciones"})]})}),_.jsxs("tbody",{children:[d.length===0&&_.jsx("tr",{children:_.jsx("td",{className:"px-3 py-6 text-center text-slate-500",colSpan:5,children:"Sin resultados."})}),d.map(p=>_.jsx(ome,{c:p},p.id))]})]})})]})}function _z({value:t,total:e}){return _.jsx("div",{className:"flex gap-1",children:Array.from({length:e}).map((n,r)=>_.jsx("div",{className:`w-4 h-4 rounded-full border ${r<t?"bg-[var(--brand,#f97316)] border-[var(--brand,#f97316)]":"bg-white"}`},r))})}function ome({c:t}){const[e,n]=E.useState(!1),r=async()=>{if(!e){if((t.freeCredits||0)<=0)return alert("Sin crditos disponibles");if(confirm(`Canjear 1 bebida gratis a ${Hr(t.displayName)||t.email||t.id}?`)){n(!0);try{await N4(Ce,t.id)}catch(i){alert((i==null?void 0:i.message)||String(i))}finally{n(!1)}}}};return _.jsxs("tr",{className:"border-t",children:[_.jsx("td",{className:"px-3 py-2",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(bz,{src:t.photoURL,alt:Hr(t.displayName)||t.email||t.id}),_.jsxs("div",{children:[_.jsx("div",{className:"font-medium",children:Hr(t.displayName)||"(sin nombre)"}),_.jsxs("div",{className:"text-xs text-slate-500",children:["ID: ",t.id]})]})]})}),_.jsx("td",{className:"px-3 py-2",children:Hr(t.email)||"(sin email)"}),_.jsx("td",{className:"px-3 py-2",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(_z,{value:Number(t.stampsProgress||0),total:10}),_.jsxs("span",{className:"text-xs text-slate-500",children:[Number(t.totalStamps||0)," totales"]})]})}),_.jsx("td",{className:"px-3 py-2 font-semibold",children:Number(t.freeCredits||0).toLocaleString()}),_.jsx("td",{className:"px-3 py-2",children:_.jsx("div",{className:"flex flex-wrap items-center gap-2",children:_.jsx("button",{className:"btn btn-primary",onClick:r,disabled:e||Number(t.freeCredits||0)<=0,children:"Canjear 1 bebida"})})})]})}function xE(t,e,n){var r,i,a;return{id:t,orgId:String((e==null?void 0:e.orgId)||n),displayName:(r=e==null?void 0:e.displayName)!=null?r:null,email:(i=e==null?void 0:e.email)!=null?i:null,photoURL:(a=e==null?void 0:e.photoURL)!=null?a:null,stampsProgress:Number((e==null?void 0:e.stampsProgress)||0),totalStamps:Number((e==null?void 0:e.totalStamps)||0),freeCredits:Number((e==null?void 0:e.freeCredits)||0),createdAt:e==null?void 0:e.createdAt,updatedAt:e==null?void 0:e.updatedAt}}function lme(){const{user:t}=oi();return _.jsxs("div",{className:"container-app p-6 space-y-4",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"Mi perfil"}),_.jsxs("div",{className:"rounded-2xl border bg-white p-4 space-y-2",children:[_.jsx("div",{className:"font-semibold",children:(t==null?void 0:t.displayName)||"Usuario"}),_.jsx("div",{className:"text-sm text-slate-600",children:t==null?void 0:t.email})]}),_.jsxs("section",{className:"rounded-2xl border bg-white p-4",children:[_.jsx("div",{className:"font-semibold mb-1",children:"Mis puntos"}),_.jsx("div",{className:"text-slate-600 text-sm",children:"Prximamente."})]}),_.jsxs("section",{className:"rounded-2xl border bg-white p-4",children:[_.jsx("div",{className:"font-semibold mb-1",children:"Historial"}),_.jsx("div",{className:"text-slate-600 text-sm",children:"Prximamente."})]})]})}function ume(){return _.jsxs("div",{className:"container-app max-w-3xl mx-auto p-6 space-y-4",children:[_.jsx("h1",{className:"text-2xl font-bold",children:'Poltica de Privacidad ?" Artemisa'}),_.jsx("p",{className:"text-sm text-slate-600",children:"sltima actualizacin: 2025-09-29"}),_.jsxs("section",{className:"space-y-2",children:[_.jsx("h2",{className:"font-semibold",children:"1. Qu datos recopilamos"}),_.jsxs("ul",{className:"list-disc pl-6",children:[_.jsx("li",{children:"Productos, inventario y recetas."}),_.jsx("li",{children:'"rdenes/ventas, mtodos de pago y totales.'}),_.jsx("li",{children:"Movimientos de caja (ingresos/egresos) y aperturas/cierres (sin fotos)."}),_.jsx("li",{children:"Horarios y agenda."}),_.jsx("li",{children:"Datos bsicos de cuentas de usuario (correo) a travs de Firebase Auth."})]})]}),_.jsxs("section",{className:"space-y-2",children:[_.jsx("h2",{className:"font-semibold",children:"2. Dnde se almacenan"}),_.jsx("p",{children:"La informacin se almacena en Google Firebase (Cloud Firestore). Parte de la app puede cachearse localmente como PWA para uso offline."})]}),_.jsxs("section",{className:"space-y-2",children:[_.jsx("h2",{className:"font-semibold",children:"3. Para qu usamos los datos"}),_.jsx("p",{children:"Operacin del punto de venta: inventario, ventas, caja, reportes y respaldo."})]}),_.jsxs("section",{className:"space-y-2",children:[_.jsx("h2",{className:"font-semibold",children:"4. Retencin y eliminacin"}),_.jsxs("p",{children:["Conservamos los datos hasta que el administrador los elimine o solicite su borrado. Se puede exportar desde la seccin ",_.jsx("b",{children:"Exportes"}),"."]})]}),_.jsxs("section",{className:"space-y-2",children:[_.jsx("h2",{className:"font-semibold",children:"5. Seguridad"}),_.jsx("p",{children:"El acceso requiere autenticacin mediante Firebase Auth. Las reglas de Firestore restringen lectura/escritura segn usuario y estado del documento."})]}),_.jsxs("section",{className:"space-y-2",children:[_.jsx("h2",{className:"font-semibold",children:"6. Contacto"}),_.jsxs("p",{children:["Para solicitudes de privacidad, escribe a ",_.jsx("a",{href:"mailto:artemisa.ops@gmail.com",className:"underline",children:"artemisa.ops@gmail.com"}),"."]})]})]})}function cme(){return _.jsxs("div",{className:"container-app max-w-3xl mx-auto p-6 space-y-4",children:[_.jsx("h1",{className:"text-2xl font-bold",children:'Trminos de Uso ?" Artemisa'}),_.jsx("p",{className:"text-sm text-slate-600",children:"sltima actualizacin: 2025-09-29"}),_.jsxs("section",{className:"space-y-2",children:[_.jsx("h2",{className:"font-semibold",children:"1. Objeto"}),_.jsx("p",{children:"Artemisa es una app de Punto de Venta y gestin interna (inventario, ventas, caja y reportes)."})]}),_.jsxs("section",{className:"space-y-2",children:[_.jsx("h2",{className:"font-semibold",children:"2. Cuentas y acceso"}),_.jsx("p",{children:"El acceso es para personal autorizado. Las acciones realizadas bajo tu sesin se consideran vlidas."})]}),_.jsxs("section",{className:"space-y-2",children:[_.jsx("h2",{className:"font-semibold",children:"3. Evidencia fotogrfica"}),_.jsx("p",{children:"La app no almacena fotos de apertura. La evidencia se enva externamente al grupo de WhatsApp y se confirma dentro de la app."})]}),_.jsxs("section",{className:"space-y-2",children:[_.jsx("h2",{className:"font-semibold",children:"4. Datos y respaldos"}),_.jsxs("p",{children:["Los datos se almacenan en Firebase (Firestore). Puedes exportar informacin desde la seccin ",_.jsx("b",{children:"Exportes"}),"."]})]}),_.jsxs("section",{className:"space-y-2",children:[_.jsx("h2",{className:"font-semibold",children:"5. Limitacin de responsabilidad"}),_.jsx("p",{children:"Artemisa se ofrece tal cual. No garantizamos disponibilidad ininterrumpida. El usuario es responsable del uso y de mantener sus credenciales."})]}),_.jsxs("section",{className:"space-y-2",children:[_.jsx("h2",{className:"font-semibold",children:"6. Contacto"}),_.jsxs("p",{children:["Soporte: ",_.jsx("a",{href:"mailto:artemisa.ops@gmail.com",className:"underline",children:"artemisa.ops@gmail.com"}),". Consulta la ",_.jsx(Fo,{to:"/legal/privacidad",className:"underline",children:"Poltica de Privacidad"}),"."]})]})]})}function fme(){const{user:t,loading:e}=oi(),n=Ha();return e?_.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-500",children:"Cargando???"}):t?_.jsx(uA,{}):_.jsx(zo,{to:"/login",replace:!0,state:{from:n}})}function wE({allow:t}){const{user:e}=oi(),{role:n,loading:r}=Xm(e==null?void 0:e.uid);return e?r?_.jsx("div",{className:"min-h-[40vh] grid place-items-center text-slate-500",children:"Cargando"}):n?t.includes(n)?_.jsx(uA,{}):_.jsx(zo,{to:"/menu",replace:!0}):_.jsx(zo,{to:"/menu",replace:!0}):_.jsx(zo,{to:"/login",replace:!0})}const Eh=({to:t,label:e,icon:n})=>_.jsxs($k,{to:t,className:({isActive:r})=>"flex-1 flex flex-col items-center justify-center gap-1 py-2 rounded-2xl "+(r?"text-white bg-[var(--brand,#f97316)]":"text-slate-600"),children:[_.jsx("div",{className:"w-5 h-5",children:n}),_.jsx("span",{className:"text-[11px]",children:e})]});function dme(){const t=E.useRef(null),{user:e}=oi(),{role:n}=Xm(e==null?void 0:e.uid);E.useEffect(()=>{const a=t.current;if(!a)return;const o=()=>{const f=a.getBoundingClientRect().height||88,d=Math.round(f+24);document.documentElement.style.setProperty("--bottom-bar-space",`${d}px`)};o();const u=new ResizeObserver(o);return u.observe(a),window.addEventListener("orientationchange",o),window.addEventListener("resize",o),()=>{u.disconnect(),window.removeEventListener("orientationchange",o),window.removeEventListener("resize",o)}},[]);const r=n==="owner"||n==="worker",i=n==="client";return _.jsx("nav",{ref:t,"data-bottom-bar":!0,className:"fixed bottom-4 left-1/2 -translate-x-1/2 w-[92%] max-w-xl bg-white border shadow-xl rounded-3xl px-2",style:{height:"var(--bottom-bar-h, 88px)",paddingBottom:"env(safe-area-inset-bottom)"},children:_.jsxs("div",{className:"h-full flex gap-1 items-center",children:[_.jsx(Eh,{to:"/menu",label:"Men",icon:_.jsx("svg",{viewBox:"0 0 24 24",fill:"none",children:_.jsx("path",{d:"M3 6h18M3 12h18M3 18h18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),_.jsx(Eh,{to:"/carrito",label:"Carrito",icon:_.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",children:[_.jsx("path",{d:"M6 6h14l-2 9H8L6 6Z",stroke:"currentColor",strokeWidth:"2"}),_.jsx("circle",{cx:"9",cy:"20",r:"1.5",fill:"currentColor"}),_.jsx("circle",{cx:"17",cy:"20",r:"1.5",fill:"currentColor"})]})}),r&&_.jsx(Eh,{to:"/bodega",label:"Bodega",icon:_.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",children:[_.jsx("path",{d:"M3 10l9-6 9 6v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8Z",stroke:"currentColor",strokeWidth:"2"}),_.jsx("path",{d:"M7 20v-6h10v6",stroke:"currentColor",strokeWidth:"2"})]})}),_.jsx(Eh,{to:i?"/cliente":"/clientes",label:i?"Mi perfil":"Clientes",icon:_.jsx("svg",{viewBox:"0 0 24 24",fill:"none",children:_.jsx("path",{d:"M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-5 0-8 2.5-8 5v1h16v-1c0-2.5-3-5-8-5Z",stroke:"currentColor",strokeWidth:"2"})})}),_.jsx(Eh,{to:"/mas",label:"Ms",icon:_.jsx("svg",{viewBox:"0 0 24 24",fill:"none",children:_.jsx("path",{d:"M12 5v14M5 12h14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]})})}function hme(){return _.jsxs(_.Fragment,{children:[_.jsx(uA,{}),_.jsx(dme,{})]})}function mme(){return _.jsx("div",{className:"min-h-screen bg-slate-50",children:_.jsxs(nF,{children:[_.jsx(xt,{path:"/login",element:_.jsx(eme,{})}),_.jsx(xt,{path:"/legal/privacidad",element:_.jsx(ume,{})}),_.jsx(xt,{path:"/legal/terminos",element:_.jsx(cme,{})}),_.jsx(xt,{path:"/",element:_.jsx(zo,{to:"/menu",replace:!0})}),_.jsx(xt,{element:_.jsx(fme,{}),children:_.jsxs(xt,{element:_.jsx(hme,{}),children:[_.jsxs(xt,{element:_.jsx(wE,{allow:["client","worker","owner"]}),children:[_.jsx(xt,{path:"/menu",element:_.jsx(kY,{})}),_.jsx(xt,{path:"/carrito",element:_.jsx(ZY,{})}),_.jsx(xt,{path:"/mas",element:_.jsx(nme,{})}),_.jsx(xt,{path:"/cliente",element:_.jsx(lme,{})})]}),_.jsxs(xt,{element:_.jsx(wE,{allow:["worker","owner"]}),children:[_.jsx(xt,{path:"/clientes",element:_.jsx(sme,{})}),_.jsx(xt,{path:"/ventas",element:_.jsx(uQ,{})}),_.jsx(xt,{path:"/bodega",element:_.jsx(eQ,{})}),_.jsx(xt,{path:"/productos",element:_.jsx(nQ,{})}),_.jsx(xt,{path:"/compras",element:_.jsx(fQ,{})}),_.jsx(xt,{path:"/horarios",element:_.jsx(hQ,{})}),_.jsx(xt,{path:"/apertura",element:_.jsx(cQ,{})}),_.jsx(xt,{path:"/caja",element:_.jsx(ime,{})})]}),_.jsxs(xt,{element:_.jsx(wE,{allow:["owner"]}),children:[_.jsx(xt,{path:"/estadisticas",element:_.jsx(Yhe,{})}),_.jsx(xt,{path:"/exportes",element:_.jsx(Zhe,{})}),_.jsx(xt,{path:"/bootstrap",element:_.jsx(Jhe,{})}),_.jsx(xt,{path:"/admin-seed",element:_.jsx(Qhe,{})}),_.jsx(xt,{path:"/dev-seed",element:_.jsx(Xhe,{})})]}),_.jsx(xt,{path:"/cierre",element:_.jsx(zo,{to:"/caja",replace:!0})}),_.jsx(xt,{path:"/stats",element:_.jsx(zo,{to:"/estadisticas",replace:!0})})]})}),_.jsx(xt,{path:"*",element:_.jsx(zo,{to:"/menu",replace:!0})})]})})}cq.createRoot(document.getElementById("root")).render(_.jsx(Nk.StrictMode,{children:_.jsx(AF,{children:_.jsx(qY,{children:_.jsx(MY,{children:_.jsx(mme,{})})})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(n=>{n.waiting&&n.waiting.postMessage({type:"SKIP_WAITING"}),n.addEventListener("updatefound",()=>{const r=n.installing;r&&r.addEventListener("statechange",()=>{var i;r.state==="installed"&&navigator.serviceWorker.controller&&((i=n.waiting)==null||i.postMessage({type:"SKIP_WAITING"}))})})}).catch(()=>{});const t=!!navigator.serviceWorker.controller;let e=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{e||!t||(e=!0,window.location.reload())})});export{Xo as C,Pm as E,Ga as F,hA as L,Dm as _,Jt as a,gme as b,aL as c,Qo as d,Tu as e,yme as f,pA as g,st as h,HF as i,E$ as o,La as r,YF as v};
